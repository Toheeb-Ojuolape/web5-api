var L$=Object.create;var M2=Object.defineProperty;var U$=Object.getOwnPropertyDescriptor;var F$=Object.getOwnPropertyNames;var z$=Object.getPrototypeOf,$$=Object.prototype.hasOwnProperty;var W$=(t,e)=>()=>(t&&(e=t(t=0)),e);var z=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),li=(t,e)=>{for(var r in e)M2(t,r,{get:e[r],enumerable:!0})},K$=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of F$(e))!$$.call(t,n)&&n!==r&&M2(t,n,{get:()=>e[n],enumerable:!(i=U$(e,n))||i.enumerable});return t};var bt=(t,e,r)=>(r=t!=null?L$(z$(t)):{},K$(e||!t||!t.__esModule?M2(r,"default",{value:t,enumerable:!0}):r,t));var MS=z(Gm=>{"use strict";x();Gm.byteLength=V$;Gm.toByteArray=Z$;Gm.fromByteArray=Q$;var Rs=[],Qn=[],H$=typeof Uint8Array<"u"?Uint8Array:Array,A2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ou=0,xS=A2.length;ou<xS;++ou)Rs[ou]=A2[ou],Qn[A2.charCodeAt(ou)]=ou;var ou,xS;Qn["-".charCodeAt(0)]=62;Qn["_".charCodeAt(0)]=63;function SS(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var i=r===e?0:4-r%4;return[r,i]}function V$(t){var e=SS(t),r=e[0],i=e[1];return(r+i)*3/4-i}function G$(t,e,r){return(e+r)*3/4-r}function Z$(t){var e,r=SS(t),i=r[0],n=r[1],o=new H$(G$(t,i,n)),s=0,f=n>0?i-4:i,c;for(c=0;c<f;c+=4)e=Qn[t.charCodeAt(c)]<<18|Qn[t.charCodeAt(c+1)]<<12|Qn[t.charCodeAt(c+2)]<<6|Qn[t.charCodeAt(c+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return n===2&&(e=Qn[t.charCodeAt(c)]<<2|Qn[t.charCodeAt(c+1)]>>4,o[s++]=e&255),n===1&&(e=Qn[t.charCodeAt(c)]<<10|Qn[t.charCodeAt(c+1)]<<4|Qn[t.charCodeAt(c+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function Y$(t){return Rs[t>>18&63]+Rs[t>>12&63]+Rs[t>>6&63]+Rs[t&63]}function J$(t,e,r){for(var i,n=[],o=e;o<r;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),n.push(Y$(i));return n.join("")}function Q$(t){for(var e,r=t.length,i=r%3,n=[],o=16383,s=0,f=r-i;s<f;s+=o)n.push(J$(t,s,s+o>f?f:s+o));return i===1?(e=t[r-1],n.push(Rs[e>>2]+Rs[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],n.push(Rs[e>>10]+Rs[e>>4&63]+Rs[e<<2&63]+"=")),n.join("")}});var AS=z(T2=>{x();T2.read=function(t,e,r,i,n){var o,s,f=n*8-i-1,c=(1<<f)-1,d=c>>1,l=-7,h=r?n-1:0,E=r?-1:1,b=t[e+h];for(h+=E,o=b&(1<<-l)-1,b>>=-l,l+=f;l>0;o=o*256+t[e+h],h+=E,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=i;l>0;s=s*256+t[e+h],h+=E,l-=8);if(o===0)o=1-d;else{if(o===c)return s?NaN:(b?-1:1)*(1/0);s=s+Math.pow(2,i),o=o-d}return(b?-1:1)*s*Math.pow(2,o-i)};T2.write=function(t,e,r,i,n,o){var s,f,c,d=o*8-n-1,l=(1<<d)-1,h=l>>1,E=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=i?0:o-1,T=i?1:-1,k=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+h>=1?e+=E/c:e+=E*Math.pow(2,1-h),e*c>=2&&(s++,c/=2),s+h>=l?(f=0,s=l):s+h>=1?(f=(e*c-1)*Math.pow(2,n),s=s+h):(f=e*Math.pow(2,h-1)*Math.pow(2,n),s=0));n>=8;t[r+b]=f&255,b+=T,f/=256,n-=8);for(s=s<<n|f,d+=n;d>0;t[r+b]=s&255,b+=T,s/=256,d-=8);t[r+b-T]|=k*128}});var er=z(ll=>{"use strict";x();var R2=MS(),dl=AS(),TS=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ll.Buffer=ee;ll.SlowBuffer=nW;ll.INSPECT_MAX_BYTES=50;var Zm=2147483647;ll.kMaxLength=Zm;ee.TYPED_ARRAY_SUPPORT=X$();!ee.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function X$(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(ee.prototype,"parent",{enumerable:!0,get:function(){if(ee.isBuffer(this))return this.buffer}});Object.defineProperty(ee.prototype,"offset",{enumerable:!0,get:function(){if(ee.isBuffer(this))return this.byteOffset}});function _a(t){if(t>Zm)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,ee.prototype),e}function ee(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return D2(t)}return kS(t,e,r)}ee.poolSize=8192;function kS(t,e,r){if(typeof t=="string")return tW(t,e);if(ArrayBuffer.isView(t))return rW(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Ps(t,ArrayBuffer)||t&&Ps(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ps(t,SharedArrayBuffer)||t&&Ps(t.buffer,SharedArrayBuffer)))return k2(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return ee.from(i,e,r);var n=iW(t);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return ee.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}ee.from=function(t,e,r){return kS(t,e,r)};Object.setPrototypeOf(ee.prototype,Uint8Array.prototype);Object.setPrototypeOf(ee,Uint8Array);function IS(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function eW(t,e,r){return IS(t),t<=0?_a(t):e!==void 0?typeof r=="string"?_a(t).fill(e,r):_a(t).fill(e):_a(t)}ee.alloc=function(t,e,r){return eW(t,e,r)};function D2(t){return IS(t),_a(t<0?0:B2(t)|0)}ee.allocUnsafe=function(t){return D2(t)};ee.allocUnsafeSlow=function(t){return D2(t)};function tW(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ee.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=DS(t,e)|0,i=_a(r),n=i.write(t,e);return n!==r&&(i=i.slice(0,n)),i}function P2(t){for(var e=t.length<0?0:B2(t.length)|0,r=_a(e),i=0;i<e;i+=1)r[i]=t[i]&255;return r}function rW(t){if(Ps(t,Uint8Array)){var e=new Uint8Array(t);return k2(e.buffer,e.byteOffset,e.byteLength)}return P2(t)}function k2(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&r===void 0?i=new Uint8Array(t):r===void 0?i=new Uint8Array(t,e):i=new Uint8Array(t,e,r),Object.setPrototypeOf(i,ee.prototype),i}function iW(t){if(ee.isBuffer(t)){var e=B2(t.length)|0,r=_a(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||C2(t.length)?_a(0):P2(t);if(t.type==="Buffer"&&Array.isArray(t.data))return P2(t.data)}function B2(t){if(t>=Zm)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Zm.toString(16)+" bytes");return t|0}function nW(t){return+t!=t&&(t=0),ee.alloc(+t)}ee.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ee.prototype};ee.compare=function(e,r){if(Ps(e,Uint8Array)&&(e=ee.from(e,e.offset,e.byteLength)),Ps(r,Uint8Array)&&(r=ee.from(r,r.offset,r.byteLength)),!ee.isBuffer(e)||!ee.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var i=e.length,n=r.length,o=0,s=Math.min(i,n);o<s;++o)if(e[o]!==r[o]){i=e[o],n=r[o];break}return i<n?-1:n<i?1:0};ee.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ee.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ee.alloc(0);var i;if(r===void 0)for(r=0,i=0;i<e.length;++i)r+=e[i].length;var n=ee.allocUnsafe(r),o=0;for(i=0;i<e.length;++i){var s=e[i];if(Ps(s,Uint8Array))o+s.length>n.length?ee.from(s).copy(n,o):Uint8Array.prototype.set.call(n,s,o);else if(ee.isBuffer(s))s.copy(n,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return n};function DS(t,e){if(ee.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Ps(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return I2(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return qS(t).length;default:if(n)return i?-1:I2(t).length;e=(""+e).toLowerCase(),n=!0}}ee.byteLength=DS;function oW(t,e,r){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return yW(this,e,r);case"utf8":case"utf-8":return CS(this,e,r);case"ascii":return hW(this,e,r);case"latin1":case"binary":return pW(this,e,r);case"base64":return dW(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mW(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}ee.prototype._isBuffer=!0;function su(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}ee.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)su(this,r,r+1);return this};ee.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)su(this,r,r+3),su(this,r+1,r+2);return this};ee.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)su(this,r,r+7),su(this,r+1,r+6),su(this,r+2,r+5),su(this,r+3,r+4);return this};ee.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?CS(this,0,e):oW.apply(this,arguments)};ee.prototype.toLocaleString=ee.prototype.toString;ee.prototype.equals=function(e){if(!ee.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ee.compare(this,e)===0};ee.prototype.inspect=function(){var e="",r=ll.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};TS&&(ee.prototype[TS]=ee.prototype.inspect);ee.prototype.compare=function(e,r,i,n,o){if(Ps(e,Uint8Array)&&(e=ee.from(e,e.offset,e.byteLength)),!ee.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),o===void 0&&(o=this.length),r<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&r>=i)return 0;if(n>=o)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,n>>>=0,o>>>=0,this===e)return 0;for(var s=o-n,f=i-r,c=Math.min(s,f),d=this.slice(n,o),l=e.slice(r,i),h=0;h<c;++h)if(d[h]!==l[h]){s=d[h],f=l[h];break}return s<f?-1:f<s?1:0};function BS(t,e,r,i,n){if(t.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,C2(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0)if(n)r=0;else return-1;if(typeof e=="string"&&(e=ee.from(e,i)),ee.isBuffer(e))return e.length===0?-1:RS(t,e,r,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):RS(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function RS(t,e,r,i,n){var o=1,s=t.length,f=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,f/=2,r/=2}function c(b,T){return o===1?b[T]:b.readUInt16BE(T*o)}var d;if(n){var l=-1;for(d=r;d<s;d++)if(c(t,d)===c(e,l===-1?0:d-l)){if(l===-1&&(l=d),d-l+1===f)return l*o}else l!==-1&&(d-=d-l),l=-1}else for(r+f>s&&(r=s-f),d=r;d>=0;d--){for(var h=!0,E=0;E<f;E++)if(c(t,d+E)!==c(e,E)){h=!1;break}if(h)return d}return-1}ee.prototype.includes=function(e,r,i){return this.indexOf(e,r,i)!==-1};ee.prototype.indexOf=function(e,r,i){return BS(this,e,r,i,!0)};ee.prototype.lastIndexOf=function(e,r,i){return BS(this,e,r,i,!1)};function sW(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;var o=e.length;i>o/2&&(i=o/2);for(var s=0;s<i;++s){var f=parseInt(e.substr(s*2,2),16);if(C2(f))return s;t[r+s]=f}return s}function aW(t,e,r,i){return Ym(I2(e,t.length-r),t,r,i)}function fW(t,e,r,i){return Ym(bW(e),t,r,i)}function cW(t,e,r,i){return Ym(qS(e),t,r,i)}function uW(t,e,r,i){return Ym(wW(e,t.length-r),t,r,i)}ee.prototype.write=function(e,r,i,n){if(r===void 0)n="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")n=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-r;if((i===void 0||i>o)&&(i=o),e.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return sW(this,e,r,i);case"utf8":case"utf-8":return aW(this,e,r,i);case"ascii":case"latin1":case"binary":return fW(this,e,r,i);case"base64":return cW(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return uW(this,e,r,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}};ee.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function dW(t,e,r){return e===0&&r===t.length?R2.fromByteArray(t):R2.fromByteArray(t.slice(e,r))}function CS(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o=t[n],s=null,f=o>239?4:o>223?3:o>191?2:1;if(n+f<=r){var c,d,l,h;switch(f){case 1:o<128&&(s=o);break;case 2:c=t[n+1],(c&192)===128&&(h=(o&31)<<6|c&63,h>127&&(s=h));break;case 3:c=t[n+1],d=t[n+2],(c&192)===128&&(d&192)===128&&(h=(o&15)<<12|(c&63)<<6|d&63,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:c=t[n+1],d=t[n+2],l=t[n+3],(c&192)===128&&(d&192)===128&&(l&192)===128&&(h=(o&15)<<18|(c&63)<<12|(d&63)<<6|l&63,h>65535&&h<1114112&&(s=h))}}s===null?(s=65533,f=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|s&1023),i.push(s),n+=f}return lW(i)}var PS=4096;function lW(t){var e=t.length;if(e<=PS)return String.fromCharCode.apply(String,t);for(var r="",i=0;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=PS));return r}function hW(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]&127);return i}function pW(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function yW(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=e;o<r;++o)n+=_W[t[o]];return n}function mW(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length-1;o+=2)n+=String.fromCharCode(i[o]+i[o+1]*256);return n}ee.prototype.slice=function(e,r){var i=this.length;e=~~e,r=r===void 0?i:~~r,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<e&&(r=e);var n=this.subarray(e,r);return Object.setPrototypeOf(n,ee.prototype),n};function hi(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}ee.prototype.readUintLE=ee.prototype.readUIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||hi(e,r,this.length);for(var n=this[e],o=1,s=0;++s<r&&(o*=256);)n+=this[e+s]*o;return n};ee.prototype.readUintBE=ee.prototype.readUIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||hi(e,r,this.length);for(var n=this[e+--r],o=1;r>0&&(o*=256);)n+=this[e+--r]*o;return n};ee.prototype.readUint8=ee.prototype.readUInt8=function(e,r){return e=e>>>0,r||hi(e,1,this.length),this[e]};ee.prototype.readUint16LE=ee.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||hi(e,2,this.length),this[e]|this[e+1]<<8};ee.prototype.readUint16BE=ee.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||hi(e,2,this.length),this[e]<<8|this[e+1]};ee.prototype.readUint32LE=ee.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||hi(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ee.prototype.readUint32BE=ee.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||hi(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ee.prototype.readIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||hi(e,r,this.length);for(var n=this[e],o=1,s=0;++s<r&&(o*=256);)n+=this[e+s]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*r)),n};ee.prototype.readIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||hi(e,r,this.length);for(var n=r,o=1,s=this[e+--n];n>0&&(o*=256);)s+=this[e+--n]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};ee.prototype.readInt8=function(e,r){return e=e>>>0,r||hi(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ee.prototype.readInt16LE=function(e,r){e=e>>>0,r||hi(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};ee.prototype.readInt16BE=function(e,r){e=e>>>0,r||hi(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};ee.prototype.readInt32LE=function(e,r){return e=e>>>0,r||hi(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ee.prototype.readInt32BE=function(e,r){return e=e>>>0,r||hi(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ee.prototype.readFloatLE=function(e,r){return e=e>>>0,r||hi(e,4,this.length),dl.read(this,e,!0,23,4)};ee.prototype.readFloatBE=function(e,r){return e=e>>>0,r||hi(e,4,this.length),dl.read(this,e,!1,23,4)};ee.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||hi(e,8,this.length),dl.read(this,e,!0,52,8)};ee.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||hi(e,8,this.length),dl.read(this,e,!1,52,8)};function ln(t,e,r,i,n,o){if(!ee.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}ee.prototype.writeUintLE=ee.prototype.writeUIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){var o=Math.pow(2,8*i)-1;ln(this,e,r,i,o,0)}var s=1,f=0;for(this[r]=e&255;++f<i&&(s*=256);)this[r+f]=e/s&255;return r+i};ee.prototype.writeUintBE=ee.prototype.writeUIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){var o=Math.pow(2,8*i)-1;ln(this,e,r,i,o,0)}var s=i-1,f=1;for(this[r+s]=e&255;--s>=0&&(f*=256);)this[r+s]=e/f&255;return r+i};ee.prototype.writeUint8=ee.prototype.writeUInt8=function(e,r,i){return e=+e,r=r>>>0,i||ln(this,e,r,1,255,0),this[r]=e&255,r+1};ee.prototype.writeUint16LE=ee.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||ln(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};ee.prototype.writeUint16BE=ee.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||ln(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};ee.prototype.writeUint32LE=ee.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||ln(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};ee.prototype.writeUint32BE=ee.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||ln(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};ee.prototype.writeIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){var o=Math.pow(2,8*i-1);ln(this,e,r,i,o-1,-o)}var s=0,f=1,c=0;for(this[r]=e&255;++s<i&&(f*=256);)e<0&&c===0&&this[r+s-1]!==0&&(c=1),this[r+s]=(e/f>>0)-c&255;return r+i};ee.prototype.writeIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){var o=Math.pow(2,8*i-1);ln(this,e,r,i,o-1,-o)}var s=i-1,f=1,c=0;for(this[r+s]=e&255;--s>=0&&(f*=256);)e<0&&c===0&&this[r+s+1]!==0&&(c=1),this[r+s]=(e/f>>0)-c&255;return r+i};ee.prototype.writeInt8=function(e,r,i){return e=+e,r=r>>>0,i||ln(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};ee.prototype.writeInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||ln(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};ee.prototype.writeInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||ln(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};ee.prototype.writeInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||ln(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};ee.prototype.writeInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||ln(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function OS(t,e,r,i,n,o){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function jS(t,e,r,i,n){return e=+e,r=r>>>0,n||OS(t,e,r,4,34028234663852886e22,-34028234663852886e22),dl.write(t,e,r,i,23,4),r+4}ee.prototype.writeFloatLE=function(e,r,i){return jS(this,e,r,!0,i)};ee.prototype.writeFloatBE=function(e,r,i){return jS(this,e,r,!1,i)};function NS(t,e,r,i,n){return e=+e,r=r>>>0,n||OS(t,e,r,8,17976931348623157e292,-17976931348623157e292),dl.write(t,e,r,i,52,8),r+8}ee.prototype.writeDoubleLE=function(e,r,i){return NS(this,e,r,!0,i)};ee.prototype.writeDoubleBE=function(e,r,i){return NS(this,e,r,!1,i)};ee.prototype.copy=function(e,r,i,n){if(!ee.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),r>=e.length&&(r=e.length),r||(r=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-r<n-i&&(n=e.length-r+i);var o=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),r),o};ee.prototype.fill=function(e,r,i,n){if(typeof e=="string"){if(typeof r=="string"?(n=r,r=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!ee.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var o=e.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var s;if(typeof e=="number")for(s=r;s<i;++s)this[s]=e;else{var f=ee.isBuffer(e)?e:ee.from(e,n),c=f.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-r;++s)this[s+r]=f[s%c]}return this};var gW=/[^+/0-9A-Za-z-_]/g;function vW(t){if(t=t.split("=")[0],t=t.trim().replace(gW,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function I2(t,e){e=e||1/0;for(var r,i=t.length,n=null,o=[],s=0;s<i;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function bW(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function wW(t,e){for(var r,i,n,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),i=r>>8,n=r%256,o.push(n),o.push(i);return o}function qS(t){return R2.toByteArray(vW(t))}function Ym(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function Ps(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function C2(t){return t!==t}var _W=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var i=r*16,n=0;n<16;++n)e[i+n]=t[r]+t[n];return e}()});var Sa=z((Dye,zS)=>{x();var Or=zS.exports={},ks,Is;function O2(){throw new Error("setTimeout has not been defined")}function j2(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ks=setTimeout:ks=O2}catch{ks=O2}try{typeof clearTimeout=="function"?Is=clearTimeout:Is=j2}catch{Is=j2}})();function LS(t){if(ks===setTimeout)return setTimeout(t,0);if((ks===O2||!ks)&&setTimeout)return ks=setTimeout,setTimeout(t,0);try{return ks(t,0)}catch{try{return ks.call(null,t,0)}catch{return ks.call(this,t,0)}}}function EW(t){if(Is===clearTimeout)return clearTimeout(t);if((Is===j2||!Is)&&clearTimeout)return Is=clearTimeout,clearTimeout(t);try{return Is(t)}catch{try{return Is.call(null,t)}catch{return Is.call(this,t)}}}var Ea=[],hl=!1,au,Jm=-1;function xW(){!hl||!au||(hl=!1,au.length?Ea=au.concat(Ea):Jm=-1,Ea.length&&US())}function US(){if(!hl){var t=LS(xW);hl=!0;for(var e=Ea.length;e;){for(au=Ea,Ea=[];++Jm<e;)au&&au[Jm].run();Jm=-1,e=Ea.length}au=null,hl=!1,EW(t)}}Or.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Ea.push(new FS(t,e)),Ea.length===1&&!hl&&LS(US)};function FS(t,e){this.fun=t,this.array=e}FS.prototype.run=function(){this.fun.apply(null,this.array)};Or.title="browser";Or.browser=!0;Or.env={};Or.argv=[];Or.version="";Or.versions={};function xa(){}Or.on=xa;Or.addListener=xa;Or.once=xa;Or.off=xa;Or.removeListener=xa;Or.removeAllListeners=xa;Or.emit=xa;Or.prependListener=xa;Or.prependOnceListener=xa;Or.listeners=function(t){return[]};Or.binding=function(t){throw new Error("process.binding is not supported")};Or.cwd=function(){return"/"};Or.chdir=function(t){throw new Error("process.chdir is not supported")};Or.umask=function(){return 0}});var j,C,Cye,x=W$(()=>{j=bt(er()),C=bt(Sa()),Cye=function(t){function e(){var i=this||self;return delete t.prototype.__magic__,i}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object)});var hn=z((Dge,sM)=>{"use strict";x();function oM(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function ZK(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return oM(t,r)}catch{r.message=t.message,r.stack=t.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(t)),oM(new n,r)}}sM.exports=ZK});var fM=z((Cge,aM)=>{"use strict";x();aM.exports=YK;function YK(t,e){for(var r=new Array(arguments.length-1),i=0,n=2,o=!0;n<arguments.length;)r[i++]=arguments[n++];return new Promise(function(f,c){r[i]=function(l){if(o)if(o=!1,l)c(l);else{for(var h=new Array(arguments.length-1),E=0;E<h.length;)h[E++]=arguments[E];f.apply(null,h)}};try{t.apply(e||null,r)}catch(d){o&&(o=!1,c(d))}})}});var lM=z(dM=>{"use strict";x();var cg=dM;cg.length=function(e){var r=e.length;if(!r)return 0;for(var i=0;--r%4>1&&e.charAt(r)==="=";)++i;return Math.ceil(e.length*3)/4-i};var Al=new Array(64),uM=new Array(123);for(Yo=0;Yo<64;)uM[Al[Yo]=Yo<26?Yo+65:Yo<52?Yo+71:Yo<62?Yo-4:Yo-59|43]=Yo++;var Yo;cg.encode=function(e,r,i){for(var n=null,o=[],s=0,f=0,c;r<i;){var d=e[r++];switch(f){case 0:o[s++]=Al[d>>2],c=(d&3)<<4,f=1;break;case 1:o[s++]=Al[c|d>>4],c=(d&15)<<2,f=2;break;case 2:o[s++]=Al[c|d>>6],o[s++]=Al[d&63],f=0;break}s>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,o)),s=0)}return f&&(o[s++]=Al[c],o[s++]=61,f===1&&(o[s++]=61)),n?(s&&n.push(String.fromCharCode.apply(String,o.slice(0,s))),n.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var cM="invalid encoding";cg.decode=function(e,r,i){for(var n=i,o=0,s,f=0;f<e.length;){var c=e.charCodeAt(f++);if(c===61&&o>1)break;if((c=uM[c])===void 0)throw Error(cM);switch(o){case 0:s=c,o=1;break;case 1:r[i++]=s<<2|(c&48)>>4,s=c,o=2;break;case 2:r[i++]=(s&15)<<4|(c&60)>>2,s=c,o=3;break;case 3:r[i++]=(s&3)<<6|c,o=0;break}}if(o===1)throw Error(cM);return i-n};cg.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var pM=z((qge,hM)=>{"use strict";x();hM.exports=ug;function ug(){this._listeners={}}ug.prototype.on=function(e,r,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:i||this}),this};ug.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===r?i.splice(n,1):++n;return this};ug.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<r.length;)r[n].fn.apply(r[n++].ctx,i)}return this}});var _M=z((Uge,wM)=>{"use strict";x();wM.exports=yM(yM);function yM(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),i=r[3]===128;function n(c,d,l){e[0]=c,d[l]=r[0],d[l+1]=r[1],d[l+2]=r[2],d[l+3]=r[3]}function o(c,d,l){e[0]=c,d[l]=r[3],d[l+1]=r[2],d[l+2]=r[1],d[l+3]=r[0]}t.writeFloatLE=i?n:o,t.writeFloatBE=i?o:n;function s(c,d){return r[0]=c[d],r[1]=c[d+1],r[2]=c[d+2],r[3]=c[d+3],e[0]}function f(c,d){return r[3]=c[d],r[2]=c[d+1],r[1]=c[d+2],r[0]=c[d+3],e[0]}t.readFloatLE=i?s:f,t.readFloatBE=i?f:s}():function(){function e(i,n,o,s){var f=n<0?1:0;if(f&&(n=-n),n===0)i(1/n>0?0:2147483648,o,s);else if(isNaN(n))i(2143289344,o,s);else if(n>34028234663852886e22)i((f<<31|2139095040)>>>0,o,s);else if(n<11754943508222875e-54)i((f<<31|Math.round(n/1401298464324817e-60))>>>0,o,s);else{var c=Math.floor(Math.log(n)/Math.LN2),d=Math.round(n*Math.pow(2,-c)*8388608)&8388607;i((f<<31|c+127<<23|d)>>>0,o,s)}}t.writeFloatLE=e.bind(null,mM),t.writeFloatBE=e.bind(null,gM);function r(i,n,o){var s=i(n,o),f=(s>>31)*2+1,c=s>>>23&255,d=s&8388607;return c===255?d?NaN:f*(1/0):c===0?f*1401298464324817e-60*d:f*Math.pow(2,c-150)*(d+8388608)}t.readFloatLE=r.bind(null,vM),t.readFloatBE=r.bind(null,bM)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),i=r[7]===128;function n(c,d,l){e[0]=c,d[l]=r[0],d[l+1]=r[1],d[l+2]=r[2],d[l+3]=r[3],d[l+4]=r[4],d[l+5]=r[5],d[l+6]=r[6],d[l+7]=r[7]}function o(c,d,l){e[0]=c,d[l]=r[7],d[l+1]=r[6],d[l+2]=r[5],d[l+3]=r[4],d[l+4]=r[3],d[l+5]=r[2],d[l+6]=r[1],d[l+7]=r[0]}t.writeDoubleLE=i?n:o,t.writeDoubleBE=i?o:n;function s(c,d){return r[0]=c[d],r[1]=c[d+1],r[2]=c[d+2],r[3]=c[d+3],r[4]=c[d+4],r[5]=c[d+5],r[6]=c[d+6],r[7]=c[d+7],e[0]}function f(c,d){return r[7]=c[d],r[6]=c[d+1],r[5]=c[d+2],r[4]=c[d+3],r[3]=c[d+4],r[2]=c[d+5],r[1]=c[d+6],r[0]=c[d+7],e[0]}t.readDoubleLE=i?s:f,t.readDoubleBE=i?f:s}():function(){function e(i,n,o,s,f,c){var d=s<0?1:0;if(d&&(s=-s),s===0)i(0,f,c+n),i(1/s>0?0:2147483648,f,c+o);else if(isNaN(s))i(0,f,c+n),i(2146959360,f,c+o);else if(s>17976931348623157e292)i(0,f,c+n),i((d<<31|2146435072)>>>0,f,c+o);else{var l;if(s<22250738585072014e-324)l=s/5e-324,i(l>>>0,f,c+n),i((d<<31|l/4294967296)>>>0,f,c+o);else{var h=Math.floor(Math.log(s)/Math.LN2);h===1024&&(h=1023),l=s*Math.pow(2,-h),i(l*4503599627370496>>>0,f,c+n),i((d<<31|h+1023<<20|l*1048576&1048575)>>>0,f,c+o)}}}t.writeDoubleLE=e.bind(null,mM,0,4),t.writeDoubleBE=e.bind(null,gM,4,0);function r(i,n,o,s,f){var c=i(s,f+n),d=i(s,f+o),l=(d>>31)*2+1,h=d>>>20&2047,E=4294967296*(d&1048575)+c;return h===2047?E?NaN:l*(1/0):h===0?l*5e-324*E:l*Math.pow(2,h-1075)*(E+4503599627370496)}t.readDoubleLE=r.bind(null,vM,0,4),t.readDoubleBE=r.bind(null,bM,4,0)}(),t}function mM(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function gM(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function vM(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function bM(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var EM=z((exports,module)=>{"use strict";x();module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var SM=z(xM=>{"use strict";x();var o_=xM;o_.length=function(e){for(var r=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?r+=1:i<2048?r+=2:(i&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,r+=4):r+=3;return r};o_.read=function(e,r,i){var n=i-r;if(n<1)return"";for(var o=null,s=[],f=0,c;r<i;)c=e[r++],c<128?s[f++]=c:c>191&&c<224?s[f++]=(c&31)<<6|e[r++]&63:c>239&&c<365?(c=((c&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,s[f++]=55296+(c>>10),s[f++]=56320+(c&1023)):s[f++]=(c&15)<<12|(e[r++]&63)<<6|e[r++]&63,f>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),f=0);return o?(f&&o.push(String.fromCharCode.apply(String,s.slice(0,f))),o.join("")):String.fromCharCode.apply(String,s.slice(0,f))};o_.write=function(e,r,i){for(var n=i,o,s,f=0;f<e.length;++f)o=e.charCodeAt(f),o<128?r[i++]=o:o<2048?(r[i++]=o>>6|192,r[i++]=o&63|128):(o&64512)===55296&&((s=e.charCodeAt(f+1))&64512)===56320?(o=65536+((o&1023)<<10)+(s&1023),++f,r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=o&63|128):(r[i++]=o>>12|224,r[i++]=o>>6&63|128,r[i++]=o&63|128);return i-n}});var AM=z((Kge,MM)=>{"use strict";x();MM.exports=JK;function JK(t,e,r){var i=r||8192,n=i>>>1,o=null,s=i;return function(c){if(c<1||c>n)return t(c);s+c>i&&(o=t(i),s=0);var d=e.call(o,s,s+=c);return s&7&&(s=(s|7)+1),d}}});var RM=z((Vge,TM)=>{"use strict";x();TM.exports=yi;var Vp=hu();function yi(t,e){this.lo=t>>>0,this.hi=e>>>0}var lu=yi.zero=new yi(0,0);lu.toNumber=function(){return 0};lu.zzEncode=lu.zzDecode=function(){return this};lu.length=function(){return 1};var QK=yi.zeroHash="\0\0\0\0\0\0\0\0";yi.fromNumber=function(e){if(e===0)return lu;var r=e<0;r&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return r&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new yi(i,n)};yi.from=function(e){if(typeof e=="number")return yi.fromNumber(e);if(Vp.isString(e))if(Vp.Long)e=Vp.Long.fromString(e);else return yi.fromNumber(parseInt(e,10));return e.low||e.high?new yi(e.low>>>0,e.high>>>0):lu};yi.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,i=~this.hi>>>0;return r||(i=i+1>>>0),-(r+i*4294967296)}return this.lo+this.hi*4294967296};yi.prototype.toLong=function(e){return Vp.Long?new Vp.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var Uf=String.prototype.charCodeAt;yi.fromHash=function(e){return e===QK?lu:new yi((Uf.call(e,0)|Uf.call(e,1)<<8|Uf.call(e,2)<<16|Uf.call(e,3)<<24)>>>0,(Uf.call(e,4)|Uf.call(e,5)<<8|Uf.call(e,6)<<16|Uf.call(e,7)<<24)>>>0)};yi.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};yi.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};yi.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};yi.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10}});var hu=z(s_=>{"use strict";x();var Ze=s_;Ze.asPromise=fM();Ze.base64=lM();Ze.EventEmitter=pM();Ze.float=_M();Ze.inquire=EM();Ze.utf8=SM();Ze.pool=AM();Ze.LongBits=RM();Ze.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);Ze.global=Ze.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||s_;Ze.emptyArray=Object.freeze?Object.freeze([]):[];Ze.emptyObject=Object.freeze?Object.freeze({}):{};Ze.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};Ze.isString=function(e){return typeof e=="string"||e instanceof String};Ze.isObject=function(e){return e&&typeof e=="object"};Ze.isset=Ze.isSet=function(e,r){var i=e[r];return i!=null&&e.hasOwnProperty(r)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};Ze.Buffer=function(){try{var t=Ze.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();Ze._Buffer_from=null;Ze._Buffer_allocUnsafe=null;Ze.newBuffer=function(e){return typeof e=="number"?Ze.Buffer?Ze._Buffer_allocUnsafe(e):new Ze.Array(e):Ze.Buffer?Ze._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};Ze.Array=typeof Uint8Array<"u"?Uint8Array:Array;Ze.Long=Ze.global.dcodeIO&&Ze.global.dcodeIO.Long||Ze.global.Long||Ze.inquire("long");Ze.key2Re=/^true|false|0|1$/;Ze.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Ze.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Ze.longToHash=function(e){return e?Ze.LongBits.from(e).toHash():Ze.LongBits.zeroHash};Ze.longFromHash=function(e,r){var i=Ze.LongBits.fromHash(e);return Ze.Long?Ze.Long.fromBits(i.lo,i.hi,r):i.toNumber(Boolean(r))};function PM(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;++n)(t[i[n]]===void 0||!r)&&(t[i[n]]=e[i[n]]);return t}Ze.merge=PM;Ze.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function kM(t){function e(r,i){if(!(this instanceof e))return new e(r,i);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&PM(this,i)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}Ze.newError=kM;Ze.ProtocolError=kM("ProtocolError");Ze.oneOfGetter=function(e){for(var r={},i=0;i<e.length;++i)r[e[i]]=1;return function(){for(var n=Object.keys(this),o=n.length-1;o>-1;--o)if(r[n[o]]===1&&this[n[o]]!==void 0&&this[n[o]]!==null)return n[o]}};Ze.oneOfSetter=function(e){return function(r){for(var i=0;i<e.length;++i)e[i]!==r&&delete this[e[i]]}};Ze.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Ze._configure=function(){var t=Ze.Buffer;if(!t){Ze._Buffer_from=Ze._Buffer_allocUnsafe=null;return}Ze._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,i){return new t(r,i)},Ze._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var c_=z((Jge,OM)=>{"use strict";x();OM.exports=jr;var Bs=hu(),f_,BM=Bs.LongBits,XK=Bs.utf8;function Jo(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function jr(t){this.buf=t,this.pos=0,this.len=t.length}var IM=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new jr(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new jr(e);throw Error("illegal buffer")},CM=function(){return Bs.Buffer?function(r){return(jr.create=function(n){return Bs.Buffer.isBuffer(n)?new f_(n):IM(n)})(r)}:IM};jr.create=CM();jr.prototype._slice=Bs.Array.prototype.subarray||Bs.Array.prototype.slice;jr.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Jo(this,10);return e}}();jr.prototype.int32=function(){return this.uint32()|0};jr.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function a_(){var t=new BM(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Jo(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw Jo(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}jr.prototype.bool=function(){return this.uint32()!==0};function dg(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}jr.prototype.fixed32=function(){if(this.pos+4>this.len)throw Jo(this,4);return dg(this.buf,this.pos+=4)};jr.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Jo(this,4);return dg(this.buf,this.pos+=4)|0};function DM(){if(this.pos+8>this.len)throw Jo(this,8);return new BM(dg(this.buf,this.pos+=4),dg(this.buf,this.pos+=4))}jr.prototype.float=function(){if(this.pos+4>this.len)throw Jo(this,4);var e=Bs.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};jr.prototype.double=function(){if(this.pos+8>this.len)throw Jo(this,4);var e=Bs.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};jr.prototype.bytes=function(){var e=this.uint32(),r=this.pos,i=this.pos+e;if(i>this.len)throw Jo(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,i):r===i?new this.buf.constructor(0):this._slice.call(this.buf,r,i)};jr.prototype.string=function(){var e=this.bytes();return XK.read(e,0,e.length)};jr.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Jo(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Jo(this);while(this.buf[this.pos++]&128);return this};jr.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};jr._configure=function(t){f_=t,jr.create=CM(),f_._configure();var e=Bs.Long?"toLong":"toNumber";Bs.merge(jr.prototype,{int64:function(){return a_.call(this)[e](!1)},uint64:function(){return a_.call(this)[e](!0)},sint64:function(){return a_.call(this).zzDecode()[e](!1)},fixed64:function(){return DM.call(this)[e](!0)},sfixed64:function(){return DM.call(this)[e](!1)}})}});var LM=z((Xge,qM)=>{"use strict";x();qM.exports=pu;var NM=c_();(pu.prototype=Object.create(NM.prototype)).constructor=pu;var jM=hu();function pu(t){NM.call(this,t)}pu._configure=function(){jM.Buffer&&(pu.prototype._slice=jM.Buffer.prototype.slice)};pu.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};pu._configure()});var m_=z((tve,$M)=>{"use strict";x();$M.exports=Kt;var io=hu(),u_,lg=io.LongBits,UM=io.base64,FM=io.utf8;function Gp(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function l_(){}function eH(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Kt(){this.len=0,this.head=new Gp(l_,0,0),this.tail=this.head,this.states=null}var zM=function(){return io.Buffer?function(){return(Kt.create=function(){return new u_})()}:function(){return new Kt}};Kt.create=zM();Kt.alloc=function(e){return new io.Array(e)};io.Array!==Array&&(Kt.alloc=io.pool(Kt.alloc,io.Array.prototype.subarray));Kt.prototype._push=function(e,r,i){return this.tail=this.tail.next=new Gp(e,r,i),this.len+=r,this};function h_(t,e,r){e[r]=t&255}function tH(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function p_(t,e){this.len=t,this.next=void 0,this.val=e}p_.prototype=Object.create(Gp.prototype);p_.prototype.fn=tH;Kt.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p_((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Kt.prototype.int32=function(e){return e<0?this._push(y_,10,lg.fromNumber(e)):this.uint32(e)};Kt.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function y_(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}Kt.prototype.uint64=function(e){var r=lg.from(e);return this._push(y_,r.length(),r)};Kt.prototype.int64=Kt.prototype.uint64;Kt.prototype.sint64=function(e){var r=lg.from(e).zzEncode();return this._push(y_,r.length(),r)};Kt.prototype.bool=function(e){return this._push(h_,1,e?1:0)};function d_(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}Kt.prototype.fixed32=function(e){return this._push(d_,4,e>>>0)};Kt.prototype.sfixed32=Kt.prototype.fixed32;Kt.prototype.fixed64=function(e){var r=lg.from(e);return this._push(d_,4,r.lo)._push(d_,4,r.hi)};Kt.prototype.sfixed64=Kt.prototype.fixed64;Kt.prototype.float=function(e){return this._push(io.float.writeFloatLE,4,e)};Kt.prototype.double=function(e){return this._push(io.float.writeDoubleLE,8,e)};var rH=io.Array.prototype.set?function(e,r,i){r.set(e,i)}:function(e,r,i){for(var n=0;n<e.length;++n)r[i+n]=e[n]};Kt.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(h_,1,0);if(io.isString(e)){var i=Kt.alloc(r=UM.length(e));UM.decode(e,i,0),e=i}return this.uint32(r)._push(rH,r,e)};Kt.prototype.string=function(e){var r=FM.length(e);return r?this.uint32(r)._push(FM.write,r,e):this._push(h_,1,0)};Kt.prototype.fork=function(){return this.states=new eH(this),this.head=this.tail=new Gp(l_,0,0),this.len=0,this};Kt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Gp(l_,0,0),this.len=0),this};Kt.prototype.ldelim=function(){var e=this.head,r=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=r,this.len+=i),this};Kt.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,r,i),i+=e.len,e=e.next;return r};Kt._configure=function(t){u_=t,Kt.create=zM(),u_._configure()}});var HM=z((ive,KM)=>{"use strict";x();KM.exports=Cs;var WM=m_();(Cs.prototype=Object.create(WM.prototype)).constructor=Cs;var Ff=hu();function Cs(){WM.call(this)}Cs._configure=function(){Cs.alloc=Ff._Buffer_allocUnsafe,Cs.writeBytesBuffer=Ff.Buffer&&Ff.Buffer.prototype instanceof Uint8Array&&Ff.Buffer.prototype.set.name==="set"?function(e,r,i){r.set(e,i)}:function(e,r,i){if(e.copy)e.copy(r,i,0,e.length);else for(var n=0;n<e.length;)r[i++]=e[n++]}};Cs.prototype.bytes=function(e){Ff.isString(e)&&(e=Ff._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Cs.writeBytesBuffer,r,e),this};function iH(t,e,r){t.length<40?Ff.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}Cs.prototype.string=function(e){var r=Ff.Buffer.byteLength(e);return this.uint32(r),r&&this._push(iH,r,e),this};Cs._configure()});var b7=z((kbe,v7)=>{"use strict";x();v7.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,r){let i=this._internalPositionFor(e,!1);if(r===void 0)i!==-1&&(this._unsetInternalPos(i),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let n=!1;i===-1?(i=this._data.length,this._setBit(e),this._changedData=!0):n=!0,this._setInternalPos(i,e,r,n),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();let r=this._internalPositionFor(e,!0);if(r!==-1)return this._data[r][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){let e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let r=0;for(;r<this.length;)e(this.get(r),r,this),r++}map(e){let r=0,i=new Array(this.length);for(;r<this.length;)i[r]=e(this.get(r),r,this),r++;return i}reduce(e,r){let i=0,n=r;for(;i<this.length;){let o=this.get(i);n=e(n,o,i),i++}return n}find(e){let r=0,i,n;for(;r<this.length&&!i;)n=this.get(r),i=e(n),r++;return i?n:void 0}_internalPositionFor(e,r){let i=this._bytePosFor(e,r);if(i>=this._bitArrays.length)return-1;let n=this._bitArrays[i],o=e-i*7;if(!((n&1<<o)>0))return-1;let f=this._bitArrays.slice(0,i).reduce(PH,0),c=~(4294967295<<o+1),d=g7(n&c);return f+d-1}_bytePosFor(e,r){let i=Math.floor(e/7),n=i+1;for(;!r&&this._bitArrays.length<n;)this._bitArrays.push(0);return i}_setBit(e){let r=this._bytePosFor(e,!1);this._bitArrays[r]|=1<<e-r*7}_unsetBit(e){let r=this._bytePosFor(e,!1);this._bitArrays[r]&=~(1<<e-r*7)}_setInternalPos(e,r,i,n){let o=this._data,s=[r,i];if(n)this._sortData(),o[e]=s;else{if(o.length)if(o[o.length-1][0]>=r)o.push(s);else if(o[0][0]<=r)o.unshift(s);else{let f=Math.round(o.length/2);this._data=o.slice(0,f).concat(s).concat(o.slice(f))}else this._data.push(s);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(kH),this._changedData=!1}bitField(){let e=[],r=8,i=0,n=0,o,s=this._bitArrays.slice();for(;s.length||i;){i===0&&(o=s.shift(),i=7);let c=Math.min(i,r),d=~(255<<c),l=o&d;n|=l<<8-r,o=o>>>c,i-=c,r-=c,(!r||!i&&!s.length)&&(e.push(n),n=0,r=8)}for(var f=e.length-1;f>0&&e[f]===0;f--)e.pop();return e}compactArray(){return this._sortData(),this._data.map(IH)}};function PH(t,e){return t+g7(e)}function g7(t){let e=t;return e=e-(e>>1&1431655765),e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>24}function kH(t,e){return t[0]-e[0]}function IH(t){return t[1]}});var P7=z((i0,wg)=>{x();(function(t,e){"use strict";var r={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function i(b){if(!Array.isArray(b)&&!ArrayBuffer.isView(b))return!1;for(var T=0;T<b.length;T++)if(!Number.isInteger(b[T])||b[T]<0||b[T]>255)return!1;return!0}function n(b,T){return(b&65535)*T+(((b>>>16)*T&65535)<<16)}function o(b,T){return b<<T|b>>>32-T}function s(b){return b^=b>>>16,b=n(b,2246822507),b^=b>>>13,b=n(b,3266489909),b^=b>>>16,b}function f(b,T){b=[b[0]>>>16,b[0]&65535,b[1]>>>16,b[1]&65535],T=[T[0]>>>16,T[0]&65535,T[1]>>>16,T[1]&65535];var k=[0,0,0,0];return k[3]+=b[3]+T[3],k[2]+=k[3]>>>16,k[3]&=65535,k[2]+=b[2]+T[2],k[1]+=k[2]>>>16,k[2]&=65535,k[1]+=b[1]+T[1],k[0]+=k[1]>>>16,k[1]&=65535,k[0]+=b[0]+T[0],k[0]&=65535,[k[0]<<16|k[1],k[2]<<16|k[3]]}function c(b,T){b=[b[0]>>>16,b[0]&65535,b[1]>>>16,b[1]&65535],T=[T[0]>>>16,T[0]&65535,T[1]>>>16,T[1]&65535];var k=[0,0,0,0];return k[3]+=b[3]*T[3],k[2]+=k[3]>>>16,k[3]&=65535,k[2]+=b[2]*T[3],k[1]+=k[2]>>>16,k[2]&=65535,k[2]+=b[3]*T[2],k[1]+=k[2]>>>16,k[2]&=65535,k[1]+=b[1]*T[3],k[0]+=k[1]>>>16,k[1]&=65535,k[1]+=b[2]*T[2],k[0]+=k[1]>>>16,k[1]&=65535,k[1]+=b[3]*T[1],k[0]+=k[1]>>>16,k[1]&=65535,k[0]+=b[0]*T[3]+b[1]*T[2]+b[2]*T[1]+b[3]*T[0],k[0]&=65535,[k[0]<<16|k[1],k[2]<<16|k[3]]}function d(b,T){return T%=64,T===32?[b[1],b[0]]:T<32?[b[0]<<T|b[1]>>>32-T,b[1]<<T|b[0]>>>32-T]:(T-=32,[b[1]<<T|b[0]>>>32-T,b[0]<<T|b[1]>>>32-T])}function l(b,T){return T%=64,T===0?b:T<32?[b[0]<<T|b[1]>>>32-T,b[1]<<T]:[b[1]<<T-32,0]}function h(b,T){return[b[0]^T[0],b[1]^T[1]]}function E(b){return b=h(b,[0,b[0]>>>1]),b=c(b,[4283543511,3981806797]),b=h(b,[0,b[0]>>>1]),b=c(b,[3301882366,444984403]),b=h(b,[0,b[0]>>>1]),b}r.x86.hash32=function(b,T){if(r.inputValidation&&!i(b))return e;T=T||0;for(var k=b.length%4,O=b.length-k,D=T,I=0,L=3432918353,U=461845907,$=0;$<O;$=$+4)I=b[$]|b[$+1]<<8|b[$+2]<<16|b[$+3]<<24,I=n(I,L),I=o(I,15),I=n(I,U),D^=I,D=o(D,13),D=n(D,5)+3864292196;switch(I=0,k){case 3:I^=b[$+2]<<16;case 2:I^=b[$+1]<<8;case 1:I^=b[$],I=n(I,L),I=o(I,15),I=n(I,U),D^=I}return D^=b.length,D=s(D),D>>>0},r.x86.hash128=function(b,T){if(r.inputValidation&&!i(b))return e;T=T||0;for(var k=b.length%16,O=b.length-k,D=T,I=T,L=T,U=T,$=0,K=0,q=0,F=0,G=597399067,B=2869860233,w=951274213,M=2716044179,_=0;_<O;_=_+16)$=b[_]|b[_+1]<<8|b[_+2]<<16|b[_+3]<<24,K=b[_+4]|b[_+5]<<8|b[_+6]<<16|b[_+7]<<24,q=b[_+8]|b[_+9]<<8|b[_+10]<<16|b[_+11]<<24,F=b[_+12]|b[_+13]<<8|b[_+14]<<16|b[_+15]<<24,$=n($,G),$=o($,15),$=n($,B),D^=$,D=o(D,19),D+=I,D=n(D,5)+1444728091,K=n(K,B),K=o(K,16),K=n(K,w),I^=K,I=o(I,17),I+=L,I=n(I,5)+197830471,q=n(q,w),q=o(q,17),q=n(q,M),L^=q,L=o(L,15),L+=U,L=n(L,5)+2530024501,F=n(F,M),F=o(F,18),F=n(F,G),U^=F,U=o(U,13),U+=D,U=n(U,5)+850148119;switch($=0,K=0,q=0,F=0,k){case 15:F^=b[_+14]<<16;case 14:F^=b[_+13]<<8;case 13:F^=b[_+12],F=n(F,M),F=o(F,18),F=n(F,G),U^=F;case 12:q^=b[_+11]<<24;case 11:q^=b[_+10]<<16;case 10:q^=b[_+9]<<8;case 9:q^=b[_+8],q=n(q,w),q=o(q,17),q=n(q,M),L^=q;case 8:K^=b[_+7]<<24;case 7:K^=b[_+6]<<16;case 6:K^=b[_+5]<<8;case 5:K^=b[_+4],K=n(K,B),K=o(K,16),K=n(K,w),I^=K;case 4:$^=b[_+3]<<24;case 3:$^=b[_+2]<<16;case 2:$^=b[_+1]<<8;case 1:$^=b[_],$=n($,G),$=o($,15),$=n($,B),D^=$}return D^=b.length,I^=b.length,L^=b.length,U^=b.length,D+=I,D+=L,D+=U,I+=D,L+=D,U+=D,D=s(D),I=s(I),L=s(L),U=s(U),D+=I,D+=L,D+=U,I+=D,L+=D,U+=D,("00000000"+(D>>>0).toString(16)).slice(-8)+("00000000"+(I>>>0).toString(16)).slice(-8)+("00000000"+(L>>>0).toString(16)).slice(-8)+("00000000"+(U>>>0).toString(16)).slice(-8)},r.x64.hash128=function(b,T){if(r.inputValidation&&!i(b))return e;T=T||0;for(var k=b.length%16,O=b.length-k,D=[0,T],I=[0,T],L=[0,0],U=[0,0],$=[2277735313,289559509],K=[1291169091,658871167],q=0;q<O;q=q+16)L=[b[q+4]|b[q+5]<<8|b[q+6]<<16|b[q+7]<<24,b[q]|b[q+1]<<8|b[q+2]<<16|b[q+3]<<24],U=[b[q+12]|b[q+13]<<8|b[q+14]<<16|b[q+15]<<24,b[q+8]|b[q+9]<<8|b[q+10]<<16|b[q+11]<<24],L=c(L,$),L=d(L,31),L=c(L,K),D=h(D,L),D=d(D,27),D=f(D,I),D=f(c(D,[0,5]),[0,1390208809]),U=c(U,K),U=d(U,33),U=c(U,$),I=h(I,U),I=d(I,31),I=f(I,D),I=f(c(I,[0,5]),[0,944331445]);switch(L=[0,0],U=[0,0],k){case 15:U=h(U,l([0,b[q+14]],48));case 14:U=h(U,l([0,b[q+13]],40));case 13:U=h(U,l([0,b[q+12]],32));case 12:U=h(U,l([0,b[q+11]],24));case 11:U=h(U,l([0,b[q+10]],16));case 10:U=h(U,l([0,b[q+9]],8));case 9:U=h(U,[0,b[q+8]]),U=c(U,K),U=d(U,33),U=c(U,$),I=h(I,U);case 8:L=h(L,l([0,b[q+7]],56));case 7:L=h(L,l([0,b[q+6]],48));case 6:L=h(L,l([0,b[q+5]],40));case 5:L=h(L,l([0,b[q+4]],32));case 4:L=h(L,l([0,b[q+3]],24));case 3:L=h(L,l([0,b[q+2]],16));case 2:L=h(L,l([0,b[q+1]],8));case 1:L=h(L,[0,b[q]]),L=c(L,$),L=d(L,31),L=c(L,K),D=h(D,L)}return D=h(D,[0,b.length]),I=h(I,[0,b.length]),D=f(D,I),I=f(I,D),D=E(D),I=E(I),D=f(D,I),I=f(I,D),("00000000"+(D[0]>>>0).toString(16)).slice(-8)+("00000000"+(D[1]>>>0).toString(16)).slice(-8)+("00000000"+(I[0]>>>0).toString(16)).slice(-8)+("00000000"+(I[1]>>>0).toString(16)).slice(-8)},typeof i0<"u"?(typeof wg<"u"&&wg.exports&&(i0=wg.exports=r),i0.murmurHash3=r):typeof define=="function"&&define.amd?define([],function(){return r}):(r._murmurHash3=t.murmurHash3,r.noConflict=function(){return t.murmurHash3=r._murmurHash3,r._murmurHash3=e,r.noConflict=e,r},t.murmurHash3=r)})(i0)});var I7=z((U1e,k7)=>{x();k7.exports=P7()});var V7=z((H_,V_)=>{x();(function(t,e){typeof H_=="object"&&typeof V_<"u"?V_.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.JSBI=e())})(H_,function(){"use strict";var t=Math.imul,e=Math.clz32;function r(F){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},r(F)}function i(F,G){if(!(F instanceof G))throw new TypeError("Cannot call a class as a function")}function n(F,G){for(var B,w=0;w<G.length;w++)B=G[w],B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(F,B.key,B)}function o(F,G,B){return G&&n(F.prototype,G),B&&n(F,B),Object.defineProperty(F,"prototype",{writable:!1}),F}function s(F,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(G&&G.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),G&&c(F,G)}function f(F){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)},f(F)}function c(F,G){return c=Object.setPrototypeOf||function(B,w){return B.__proto__=w,B},c(F,G)}function d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l(){return l=d()?Reflect.construct:function(F,G,B){var w=[null];w.push.apply(w,G);var M=Function.bind.apply(F,w),_=new M;return B&&c(_,B.prototype),_},l.apply(null,arguments)}function h(F){return Function.toString.call(F).indexOf("[native code]")!==-1}function E(F){var G=typeof Map=="function"?new Map:void 0;return E=function(B){function w(){return l(B,arguments,f(this).constructor)}if(B===null||!h(B))return B;if(typeof B!="function")throw new TypeError("Super expression must either be null or a function");if(typeof G<"u"){if(G.has(B))return G.get(B);G.set(B,w)}return w.prototype=Object.create(B.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),c(w,B)},E(F)}function b(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function T(F,G){if(G&&(typeof G=="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(F)}function k(F){var G=d();return function(){var B,w=f(F);if(G){var M=f(this).constructor;B=Reflect.construct(w,arguments,M)}else B=w.apply(this,arguments);return T(this,B)}}function O(F,G){return D(F)||I(F,G)||L(F,G)||$()}function D(F){if(Array.isArray(F))return F}function I(F,G){var B=F==null?null:typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(B!=null){var w,M,_=[],a=!0,u=!1;try{for(B=B.call(F);!(a=(w=B.next()).done)&&(_.push(w.value),!(G&&_.length===G));a=!0);}catch(p){u=!0,M=p}finally{try{a||B.return==null||B.return()}finally{if(u)throw M}}return _}}function L(F,G){if(F){if(typeof F=="string")return U(F,G);var B=Object.prototype.toString.call(F).slice(8,-1);return B==="Object"&&F.constructor&&(B=F.constructor.name),B==="Map"||B==="Set"?Array.from(F):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?U(F,G):void 0}}function U(F,G){(G==null||G>F.length)&&(G=F.length);for(var B=0,w=Array(G);B<G;B++)w[B]=F[B];return w}function $(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K(F,G){var B=typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(!B){if(Array.isArray(F)||(B=L(F))||G&&F&&typeof F.length=="number"){B&&(F=B);var w=0,M=function(){};return{s:M,n:function(){return w>=F.length?{done:!0}:{done:!1,value:F[w++]}},e:function(p){throw p},f:M}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,a=!0,u=!1;return{s:function(){B=B.call(F)},n:function(){var p=B.next();return a=p.done,p},e:function(p){u=!0,_=p},f:function(){try{a||B.return==null||B.return()}finally{if(u)throw _}}}}var q=function(F){var G=Math.abs,B=Math.max,w=Math.floor;function M(a,u){var p;if(i(this,M),p=_.call(this,a),p.sign=u,Object.setPrototypeOf(b(p),M.prototype),a>M.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return p}s(M,F);var _=k(M);return o(M,[{key:"toDebugString",value:function(){var a,u=["BigInt["],p=K(this);try{for(p.s();!(a=p.n()).done;){var v=a.value;u.push((v&&(v>>>0).toString(16))+", ")}}catch(g){p.e(g)}finally{p.f()}return u.push("]"),u.join("")}},{key:"toString",value:function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:10;if(2>a||36<a)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":a&a-1?M.__toStringGeneric(this,a,!1):M.__toStringBasePowerOfTwo(this,a)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var a=new M(this.length,this.sign),u=0;u<this.length;u++)a[u]=this[u];return a}},{key:"__trim",value:function(){for(var a=this.length,u=this[a-1];u===0;)a--,u=this[a-1],this.pop();return a===0&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var a=0;a<this.length;a++)this[a]=0}},{key:"__clzmsd",value:function(){return M.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(a,u,p){p>this.length&&(p=this.length);for(var v=32767&a,g=a>>>15,m=0,A=u,R=0;R<p;R++){var y=this.__digit(R),P=32767&y,W=y>>>15,H=M.__imul(P,v),V=M.__imul(P,g),Z=M.__imul(W,v),J=M.__imul(W,g),Q=A+H+m;m=Q>>>30,Q&=1073741823,Q+=((32767&V)<<15)+((32767&Z)<<15),m+=Q>>>30,A=J+(V>>>15)+(Z>>>15),this.__setDigit(R,1073741823&Q)}if(m!==0||A!==0)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(a,u,p){for(var v,g=0,m=0;m<p;m++)v=this.__halfDigit(u+m)+a.__halfDigit(m)+g,g=v>>>15,this.__setHalfDigit(u+m,32767&v);return g}},{key:"__inplaceSub",value:function(a,u,p){var v=0;if(1&u){u>>=1;for(var g=this.__digit(u),m=32767&g,A=0;A<p-1>>>1;A++){var R=a.__digit(A),y=(g>>>15)-(32767&R)-v;v=1&y>>>15,this.__setDigit(u+A,(32767&y)<<15|32767&m),g=this.__digit(u+A+1),m=(32767&g)-(R>>>15)-v,v=1&m>>>15}var P=a.__digit(A),W=(g>>>15)-(32767&P)-v;if(v=1&W>>>15,this.__setDigit(u+A,(32767&W)<<15|32767&m),u+A+1>=this.length)throw new RangeError("out of bounds");!(1&p)&&(g=this.__digit(u+A+1),m=(32767&g)-(P>>>15)-v,v=1&m>>>15,this.__setDigit(u+a.length,1073709056&g|32767&m))}else{u>>=1;for(var H=0;H<a.length-1;H++){var V=this.__digit(u+H),Z=a.__digit(H),J=(32767&V)-(32767&Z)-v;v=1&J>>>15;var Q=(V>>>15)-(Z>>>15)-v;v=1&Q>>>15,this.__setDigit(u+H,(32767&Q)<<15|32767&J)}var me=this.__digit(u+H),te=a.__digit(H),ie=(32767&me)-(32767&te)-v;v=1&ie>>>15;var or=0;!(1&p)&&(or=(me>>>15)-(te>>>15)-v,v=1&or>>>15),this.__setDigit(u+H,(32767&or)<<15|32767&ie)}return v}},{key:"__inplaceRightShift",value:function(a){if(a!==0){for(var u,p=this.__digit(0)>>>a,v=this.length-1,g=0;g<v;g++)u=this.__digit(g+1),this.__setDigit(g,1073741823&u<<30-a|p),p=u>>>a;this.__setDigit(v,p)}}},{key:"__digit",value:function(a){return this[a]}},{key:"__unsignedDigit",value:function(a){return this[a]>>>0}},{key:"__setDigit",value:function(a,u){this[a]=0|u}},{key:"__setDigitGrow",value:function(a,u){this[a]=0|u}},{key:"__halfDigitLength",value:function(){var a=this.length;return 32767>=this.__unsignedDigit(a-1)?2*a-1:2*a}},{key:"__halfDigit",value:function(a){return 32767&this[a>>>1]>>>15*(1&a)}},{key:"__setHalfDigit",value:function(a,u){var p=a>>>1,v=this.__digit(p),g=1&a?32767&v|u<<15:1073709056&v|32767&u;this.__setDigit(p,g)}}],[{key:"BigInt",value:function(a){var u=Number.isFinite;if(typeof a=="number"){if(a===0)return M.__zero();if(M.__isOneDigitInt(a))return 0>a?M.__oneDigit(-a,!0):M.__oneDigit(a,!1);if(!u(a)||w(a)!==a)throw new RangeError("The number "+a+" cannot be converted to BigInt because it is not an integer");return M.__fromDouble(a)}if(typeof a=="string"){var p=M.__fromString(a);if(p===null)throw new SyntaxError("Cannot convert "+a+" to a BigInt");return p}if(typeof a=="boolean")return a===!0?M.__oneDigit(1,!1):M.__zero();if(r(a)==="object"){if(a.constructor===M)return a;var v=M.__toPrimitive(a);return M.BigInt(v)}throw new TypeError("Cannot convert "+a+" to a BigInt")}},{key:"toNumber",value:function(a){var u=a.length;if(u===0)return 0;if(u===1){var p=a.__unsignedDigit(0);return a.sign?-p:p}var v=a.__digit(u-1),g=M.__clz30(v),m=30*u-g;if(1024<m)return a.sign?-1/0:1/0;var A=m-1,R=v,y=u-1,P=g+3,W=P===32?0:R<<P;W>>>=12;var H=P-12,V=12<=P?0:R<<20+P,Z=20+P;for(0<H&&0<y&&(y--,R=a.__digit(y),W|=R>>>30-H,V=R<<H+2,Z=H+2);0<Z&&0<y;)y--,R=a.__digit(y),V|=30<=Z?R<<Z-30:R>>>30-Z,Z-=30;var J=M.__decideRounding(a,Z,y,R);if((J===1||J===0&&(1&V)==1)&&(V=V+1>>>0,V===0&&(W++,W>>>20!=0&&(W=0,A++,1023<A))))return a.sign?-1/0:1/0;var Q=a.sign?-2147483648:0;return A=A+1023<<20,M.__kBitConversionInts[1]=Q|A|W,M.__kBitConversionInts[0]=V,M.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(a){if(a.length===0)return a;var u=a.__copy();return u.sign=!a.sign,u}},{key:"bitwiseNot",value:function(a){return a.sign?M.__absoluteSubOne(a).__trim():M.__absoluteAddOne(a,!0)}},{key:"exponentiate",value:function(a,u){if(u.sign)throw new RangeError("Exponent must be positive");if(u.length===0)return M.__oneDigit(1,!1);if(a.length===0)return a;if(a.length===1&&a.__digit(0)===1)return a.sign&&!(1&u.__digit(0))?M.unaryMinus(a):a;if(1<u.length)throw new RangeError("BigInt too big");var p=u.__unsignedDigit(0);if(p===1)return a;if(p>=M.__kMaxLengthBits)throw new RangeError("BigInt too big");if(a.length===1&&a.__digit(0)===2){var v=1+(0|p/30),g=a.sign&&(1&p)!=0,m=new M(v,g);m.__initializeDigits();var A=1<<p%30;return m.__setDigit(v-1,A),m}var R=null,y=a;for(1&p&&(R=a),p>>=1;p!==0;p>>=1)y=M.multiply(y,y),1&p&&(R===null?R=y:R=M.multiply(R,y));return R}},{key:"multiply",value:function(a,u){if(a.length===0)return a;if(u.length===0)return u;var p=a.length+u.length;30<=a.__clzmsd()+u.__clzmsd()&&p--;var v=new M(p,a.sign!==u.sign);v.__initializeDigits();for(var g=0;g<a.length;g++)M.__multiplyAccumulate(u,a.__digit(g),v,g);return v.__trim()}},{key:"divide",value:function(a,u){if(u.length===0)throw new RangeError("Division by zero");if(0>M.__absoluteCompare(a,u))return M.__zero();var p,v=a.sign!==u.sign,g=u.__unsignedDigit(0);if(u.length===1&&32767>=g){if(g===1)return v===a.sign?a:M.unaryMinus(a);p=M.__absoluteDivSmall(a,g,null)}else p=M.__absoluteDivLarge(a,u,!0,!1);return p.sign=v,p.__trim()}},{key:"remainder",value:function(u,p){if(p.length===0)throw new RangeError("Division by zero");if(0>M.__absoluteCompare(u,p))return u;var v=p.__unsignedDigit(0);if(p.length===1&&32767>=v){if(v===1)return M.__zero();var g=M.__absoluteModSmall(u,v);return g===0?M.__zero():M.__oneDigit(g,u.sign)}var m=M.__absoluteDivLarge(u,p,!1,!0);return m.sign=u.sign,m.__trim()}},{key:"add",value:function(a,u){var p=a.sign;return p===u.sign?M.__absoluteAdd(a,u,p):0<=M.__absoluteCompare(a,u)?M.__absoluteSub(a,u,p):M.__absoluteSub(u,a,!p)}},{key:"subtract",value:function(a,u){var p=a.sign;return p===u.sign?0<=M.__absoluteCompare(a,u)?M.__absoluteSub(a,u,p):M.__absoluteSub(u,a,!p):M.__absoluteAdd(a,u,p)}},{key:"leftShift",value:function(a,u){return u.length===0||a.length===0?a:u.sign?M.__rightShiftByAbsolute(a,u):M.__leftShiftByAbsolute(a,u)}},{key:"signedRightShift",value:function(a,u){return u.length===0||a.length===0?a:u.sign?M.__leftShiftByAbsolute(a,u):M.__rightShiftByAbsolute(a,u)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(a,u){return 0>M.__compareToBigInt(a,u)}},{key:"lessThanOrEqual",value:function(a,u){return 0>=M.__compareToBigInt(a,u)}},{key:"greaterThan",value:function(a,u){return 0<M.__compareToBigInt(a,u)}},{key:"greaterThanOrEqual",value:function(a,u){return 0<=M.__compareToBigInt(a,u)}},{key:"equal",value:function(a,u){if(a.sign!==u.sign||a.length!==u.length)return!1;for(var p=0;p<a.length;p++)if(a.__digit(p)!==u.__digit(p))return!1;return!0}},{key:"notEqual",value:function(a,u){return!M.equal(a,u)}},{key:"bitwiseAnd",value:function(a,u){if(!a.sign&&!u.sign)return M.__absoluteAnd(a,u).__trim();if(a.sign&&u.sign){var p=B(a.length,u.length)+1,v=M.__absoluteSubOne(a,p),g=M.__absoluteSubOne(u);return v=M.__absoluteOr(v,g,v),M.__absoluteAddOne(v,!0,v).__trim()}if(a.sign){var m=[u,a];a=m[0],u=m[1]}return M.__absoluteAndNot(a,M.__absoluteSubOne(u)).__trim()}},{key:"bitwiseXor",value:function(a,u){if(!a.sign&&!u.sign)return M.__absoluteXor(a,u).__trim();if(a.sign&&u.sign){var p=B(a.length,u.length),v=M.__absoluteSubOne(a,p),g=M.__absoluteSubOne(u);return M.__absoluteXor(v,g,v).__trim()}var m=B(a.length,u.length)+1;if(a.sign){var A=[u,a];a=A[0],u=A[1]}var R=M.__absoluteSubOne(u,m);return R=M.__absoluteXor(R,a,R),M.__absoluteAddOne(R,!0,R).__trim()}},{key:"bitwiseOr",value:function(a,u){var p=B(a.length,u.length);if(!a.sign&&!u.sign)return M.__absoluteOr(a,u).__trim();if(a.sign&&u.sign){var v=M.__absoluteSubOne(a,p),g=M.__absoluteSubOne(u);return v=M.__absoluteAnd(v,g,v),M.__absoluteAddOne(v,!0,v).__trim()}if(a.sign){var m=[u,a];a=m[0],u=m[1]}var A=M.__absoluteSubOne(u,p);return A=M.__absoluteAndNot(A,a,A),M.__absoluteAddOne(A,!0,A).__trim()}},{key:"asIntN",value:function(a,u){if(u.length===0)return u;if(a=w(a),0>a)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(a===0)return M.__zero();if(a>=M.__kMaxLengthBits)return u;var p=0|(a+29)/30;if(u.length<p)return u;var v=u.__unsignedDigit(p-1),g=1<<(a-1)%30;if(u.length===p&&v<g)return u;if((v&g)!==g)return M.__truncateToNBits(a,u);if(!u.sign)return M.__truncateAndSubFromPowerOfTwo(a,u,!0);if(!(v&g-1)){for(var m=p-2;0<=m;m--)if(u.__digit(m)!==0)return M.__truncateAndSubFromPowerOfTwo(a,u,!1);return u.length===p&&v===g?u:M.__truncateToNBits(a,u)}return M.__truncateAndSubFromPowerOfTwo(a,u,!1)}},{key:"asUintN",value:function(a,u){if(u.length===0)return u;if(a=w(a),0>a)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(a===0)return M.__zero();if(u.sign){if(a>M.__kMaxLengthBits)throw new RangeError("BigInt too big");return M.__truncateAndSubFromPowerOfTwo(a,u,!1)}if(a>=M.__kMaxLengthBits)return u;var p=0|(a+29)/30;if(u.length<p)return u;var v=a%30;if(u.length==p){if(v===0)return u;var g=u.__digit(p-1);if(!(g>>>v))return u}return M.__truncateToNBits(a,u)}},{key:"ADD",value:function(a,u){if(a=M.__toPrimitive(a),u=M.__toPrimitive(u),typeof a=="string")return typeof u!="string"&&(u=u.toString()),a+u;if(typeof u=="string")return a.toString()+u;if(a=M.__toNumeric(a),u=M.__toNumeric(u),M.__isBigInt(a)&&M.__isBigInt(u))return M.add(a,u);if(typeof a=="number"&&typeof u=="number")return a+u;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(a,u){return M.__compare(a,u,0)}},{key:"LE",value:function(a,u){return M.__compare(a,u,1)}},{key:"GT",value:function(a,u){return M.__compare(a,u,2)}},{key:"GE",value:function(a,u){return M.__compare(a,u,3)}},{key:"EQ",value:function(a,u){for(;;){if(M.__isBigInt(a))return M.__isBigInt(u)?M.equal(a,u):M.EQ(u,a);if(typeof a=="number"){if(M.__isBigInt(u))return M.__equalToNumber(u,a);if(r(u)!=="object")return a==u;u=M.__toPrimitive(u)}else if(typeof a=="string"){if(M.__isBigInt(u))return a=M.__fromString(a),a!==null&&M.equal(a,u);if(r(u)!=="object")return a==u;u=M.__toPrimitive(u)}else if(typeof a=="boolean"){if(M.__isBigInt(u))return M.__equalToNumber(u,+a);if(r(u)!=="object")return a==u;u=M.__toPrimitive(u)}else if(r(a)==="symbol"){if(M.__isBigInt(u))return!1;if(r(u)!=="object")return a==u;u=M.__toPrimitive(u)}else if(r(a)==="object"){if(r(u)==="object"&&u.constructor!==M)return a==u;a=M.__toPrimitive(a)}else return a==u}}},{key:"NE",value:function(a,u){return!M.EQ(a,u)}},{key:"DataViewGetBigInt64",value:function(a,u){var p=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return M.asIntN(64,M.DataViewGetBigUint64(a,u,p))}},{key:"DataViewGetBigUint64",value:function(a,u){var p=2<arguments.length&&arguments[2]!==void 0&&arguments[2],v=p?[4,0]:[0,4],g=O(v,2),m=g[0],A=g[1],R=a.getUint32(u+m,p),y=a.getUint32(u+A,p),P=new M(3,!1);return P.__setDigit(0,1073741823&y),P.__setDigit(1,(268435455&R)<<2|y>>>30),P.__setDigit(2,R>>>28),P.__trim()}},{key:"DataViewSetBigInt64",value:function(a,u,p){var v=3<arguments.length&&arguments[3]!==void 0&&arguments[3];M.DataViewSetBigUint64(a,u,p,v)}},{key:"DataViewSetBigUint64",value:function(a,u,p){var v=3<arguments.length&&arguments[3]!==void 0&&arguments[3];p=M.asUintN(64,p);var g=0,m=0;if(0<p.length&&(m=p.__digit(0),1<p.length)){var A=p.__digit(1);m|=A<<30,g=A>>>2,2<p.length&&(g|=p.__digit(2)<<28)}var R=v?[4,0]:[0,4],y=O(R,2),P=y[0],W=y[1];a.setUint32(u+P,g,v),a.setUint32(u+W,m,v)}},{key:"__zero",value:function(){return new M(0,!1)}},{key:"__oneDigit",value:function(a,u){var p=new M(1,u);return p.__setDigit(0,a),p}},{key:"__decideRounding",value:function(a,u,p,v){if(0<u)return-1;var g;if(0>u)g=-u-1;else{if(p===0)return-1;p--,v=a.__digit(p),g=29}var m=1<<g;if(!(v&m))return-1;if(m-=1,(v&m)!=0)return 1;for(;0<p;)if(p--,a.__digit(p)!==0)return 1;return 0}},{key:"__fromDouble",value:function(a){M.__kBitConversionDouble[0]=a;var u,p=2047&M.__kBitConversionInts[1]>>>20,v=p-1023,g=(0|v/30)+1,m=new M(g,0>a),A=1048575&M.__kBitConversionInts[1]|1048576,R=M.__kBitConversionInts[0],y=20,P=v%30,W=0;if(P<y){var H=y-P;W=H+32,u=A>>>H,A=A<<32-H|R>>>H,R<<=32-H}else if(P===y)W=32,u=A,A=R,R=0;else{var V=P-y;W=32-V,u=A<<V|R>>>32-V,A=R<<V,R=0}m.__setDigit(g-1,u);for(var Z=g-2;0<=Z;Z--)0<W?(W-=30,u=A>>>2,A=A<<30|R>>>2,R<<=30):u=0,m.__setDigit(Z,u);return m.__trim()}},{key:"__isWhitespace",value:function(a){return 13>=a&&9<=a||(159>=a?a==32:131071>=a?a==160||a==5760:196607>=a?(a&=131071,10>=a||a==40||a==41||a==47||a==95||a==4096):a==65279)}},{key:"__fromString",value:function(a){var u=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,p=0,v=a.length,g=0;if(g===v)return M.__zero();for(var m=a.charCodeAt(g);M.__isWhitespace(m);){if(++g===v)return M.__zero();m=a.charCodeAt(g)}if(m===43){if(++g===v)return null;m=a.charCodeAt(g),p=1}else if(m===45){if(++g===v)return null;m=a.charCodeAt(g),p=-1}if(u===0){if(u=10,m===48){if(++g===v)return M.__zero();if(m=a.charCodeAt(g),m===88||m===120){if(u=16,++g===v)return null;m=a.charCodeAt(g)}else if(m===79||m===111){if(u=8,++g===v)return null;m=a.charCodeAt(g)}else if(m===66||m===98){if(u=2,++g===v)return null;m=a.charCodeAt(g)}}}else if(u===16&&m===48){if(++g===v)return M.__zero();if(m=a.charCodeAt(g),m===88||m===120){if(++g===v)return null;m=a.charCodeAt(g)}}if(p!==0&&u!==10)return null;for(;m===48;){if(++g===v)return M.__zero();m=a.charCodeAt(g)}var A=v-g,R=M.__kMaxBitsPerChar[u],y=M.__kBitsPerCharTableMultiplier-1;if(A>1073741824/R)return null;var P=R*A+y>>>M.__kBitsPerCharTableShift,W=new M(0|(P+29)/30,!1),H=10>u?u:10,V=10<u?u-10:0;if(u&u-1){W.__initializeDigits();var or=!1,ce=0;do{for(var ue,Fi=0,he=1;;){if(ue=void 0,m-48>>>0<H)ue=m-48;else if((32|m)-97>>>0<V)ue=(32|m)-87;else{or=!0;break}var pe=he*u;if(1073741823<pe)break;if(he=pe,Fi=Fi*u+ue,ce++,++g===v){or=!0;break}m=a.charCodeAt(g)}y=30*M.__kBitsPerCharTableMultiplier-1;var Mn=0|(R*ce+y>>>M.__kBitsPerCharTableShift)/30;W.__inplaceMultiplyAdd(he,Fi,Mn)}while(!or)}else{R>>=M.__kBitsPerCharTableShift;var Z=[],J=[],Q=!1;do{for(var me,te=0,ie=0;;){if(me=void 0,m-48>>>0<H)me=m-48;else if((32|m)-97>>>0<V)me=(32|m)-87;else{Q=!0;break}if(ie+=R,te=te<<R|me,++g===v){Q=!0;break}if(m=a.charCodeAt(g),30<ie+R)break}Z.push(te),J.push(ie)}while(!Q);M.__fillFromParts(W,Z,J)}if(g!==v){if(!M.__isWhitespace(m))return null;for(g++;g<v;g++)if(m=a.charCodeAt(g),!M.__isWhitespace(m))return null}return W.sign=p===-1,W.__trim()}},{key:"__fillFromParts",value:function(a,u,p){for(var v=0,g=0,m=0,A=u.length-1;0<=A;A--){var R=u[A],y=p[A];g|=R<<m,m+=y,m===30?(a.__setDigit(v++,g),m=0,g=0):30<m&&(a.__setDigit(v++,1073741823&g),m-=30,g=R>>>y-m)}if(g!==0){if(v>=a.length)throw new Error("implementation bug");a.__setDigit(v++,g)}for(;v<a.length;v++)a.__setDigit(v,0)}},{key:"__toStringBasePowerOfTwo",value:function(a,u){var p=a.length,v=u-1;v=(85&v>>>1)+(85&v),v=(51&v>>>2)+(51&v),v=(15&v>>>4)+(15&v);var g=v,m=u-1,A=a.__digit(p-1),R=M.__clz30(A),y=0|(30*p-R+g-1)/g;if(a.sign&&y++,268435456<y)throw new Error("string too long");for(var P=Array(y),W=y-1,H=0,V=0,Z=0;Z<p-1;Z++){var J=a.__digit(Z),Q=(H|J<<V)&m;P[W--]=M.__kConversionChars[Q];var me=g-V;for(H=J>>>me,V=30-me;V>=g;)P[W--]=M.__kConversionChars[H&m],H>>>=g,V-=g}var te=(H|A<<V)&m;for(P[W--]=M.__kConversionChars[te],H=A>>>g-V;H!==0;)P[W--]=M.__kConversionChars[H&m],H>>>=g;if(a.sign&&(P[W--]="-"),W!==-1)throw new Error("implementation bug");return P.join("")}},{key:"__toStringGeneric",value:function(a,u,p){var v=a.length;if(v===0)return"";if(v===1){var g=a.__unsignedDigit(0).toString(u);return p===!1&&a.sign&&(g="-"+g),g}var m=30*v-M.__clz30(a.__digit(v-1)),A=M.__kMaxBitsPerChar[u],R=A-1,y=m*M.__kBitsPerCharTableMultiplier;y+=R-1,y=0|y/R;var P,W,H=y+1>>1,V=M.exponentiate(M.__oneDigit(u,!1),M.__oneDigit(H,!1)),Z=V.__unsignedDigit(0);if(V.length===1&&32767>=Z){P=new M(a.length,!1),P.__initializeDigits();for(var J,Q=0,me=2*a.length-1;0<=me;me--)J=Q<<15|a.__halfDigit(me),P.__setHalfDigit(me,0|J/Z),Q=0|J%Z;W=Q.toString(u)}else{var te=M.__absoluteDivLarge(a,V,!0,!0);P=te.quotient;var ie=te.remainder.__trim();W=M.__toStringGeneric(ie,u,!0)}P.__trim();for(var or=M.__toStringGeneric(P,u,!0);W.length<H;)W="0"+W;return p===!1&&a.sign&&(or="-"+or),or+W}},{key:"__unequalSign",value:function(a){return a?-1:1}},{key:"__absoluteGreater",value:function(a){return a?-1:1}},{key:"__absoluteLess",value:function(a){return a?1:-1}},{key:"__compareToBigInt",value:function(a,u){var p=a.sign;if(p!==u.sign)return M.__unequalSign(p);var v=M.__absoluteCompare(a,u);return 0<v?M.__absoluteGreater(p):0>v?M.__absoluteLess(p):0}},{key:"__compareToNumber",value:function(a,u){if(M.__isOneDigitInt(u)){var p=a.sign,v=0>u;if(p!==v)return M.__unequalSign(p);if(a.length===0){if(v)throw new Error("implementation bug");return u===0?0:-1}if(1<a.length)return M.__absoluteGreater(p);var g=G(u),m=a.__unsignedDigit(0);return m>g?M.__absoluteGreater(p):m<g?M.__absoluteLess(p):0}return M.__compareToDouble(a,u)}},{key:"__compareToDouble",value:function(a,u){if(u!==u)return u;if(u===1/0)return-1;if(u===-1/0)return 1;var p=a.sign;if(p!==0>u)return M.__unequalSign(p);if(u===0)throw new Error("implementation bug: should be handled elsewhere");if(a.length===0)return-1;M.__kBitConversionDouble[0]=u;var v=2047&M.__kBitConversionInts[1]>>>20;if(v==2047)throw new Error("implementation bug: handled elsewhere");var g=v-1023;if(0>g)return M.__absoluteGreater(p);var m=a.length,A=a.__digit(m-1),R=M.__clz30(A),y=30*m-R,P=g+1;if(y<P)return M.__absoluteLess(p);if(y>P)return M.__absoluteGreater(p);var W=1048576|1048575&M.__kBitConversionInts[1],H=M.__kBitConversionInts[0],V=20,Z=29-R;if(Z!==(0|(y-1)%30))throw new Error("implementation bug");var J,Q=0;if(Z<V){var me=V-Z;Q=me+32,J=W>>>me,W=W<<32-me|H>>>me,H<<=32-me}else if(Z===V)Q=32,J=W,W=H,H=0;else{var te=Z-V;Q=32-te,J=W<<te|H>>>32-te,W=H<<te,H=0}if(A>>>=0,J>>>=0,A>J)return M.__absoluteGreater(p);if(A<J)return M.__absoluteLess(p);for(var ie=m-2;0<=ie;ie--){0<Q?(Q-=30,J=W>>>2,W=W<<30|H>>>2,H<<=30):J=0;var or=a.__unsignedDigit(ie);if(or>J)return M.__absoluteGreater(p);if(or<J)return M.__absoluteLess(p)}if(W!==0||H!==0){if(Q===0)throw new Error("implementation bug");return M.__absoluteLess(p)}return 0}},{key:"__equalToNumber",value:function(a,u){return M.__isOneDigitInt(u)?u===0?a.length===0:a.length===1&&a.sign===0>u&&a.__unsignedDigit(0)===G(u):M.__compareToDouble(a,u)===0}},{key:"__comparisonResultToBool",value:function(a,u){return u===0?0>a:u===1?0>=a:u===2?0<a:u===3?0<=a:void 0}},{key:"__compare",value:function(a,u,p){if(a=M.__toPrimitive(a),u=M.__toPrimitive(u),typeof a=="string"&&typeof u=="string")switch(p){case 0:return a<u;case 1:return a<=u;case 2:return a>u;case 3:return a>=u}if(M.__isBigInt(a)&&typeof u=="string")return u=M.__fromString(u),u!==null&&M.__comparisonResultToBool(M.__compareToBigInt(a,u),p);if(typeof a=="string"&&M.__isBigInt(u))return a=M.__fromString(a),a!==null&&M.__comparisonResultToBool(M.__compareToBigInt(a,u),p);if(a=M.__toNumeric(a),u=M.__toNumeric(u),M.__isBigInt(a)){if(M.__isBigInt(u))return M.__comparisonResultToBool(M.__compareToBigInt(a,u),p);if(typeof u!="number")throw new Error("implementation bug");return M.__comparisonResultToBool(M.__compareToNumber(a,u),p)}if(typeof a!="number")throw new Error("implementation bug");if(M.__isBigInt(u))return M.__comparisonResultToBool(M.__compareToNumber(u,a),2^p);if(typeof u!="number")throw new Error("implementation bug");return p===0?a<u:p===1?a<=u:p===2?a>u:p===3?a>=u:void 0}},{key:"__absoluteAdd",value:function(a,u,p){if(a.length<u.length)return M.__absoluteAdd(u,a,p);if(a.length===0)return a;if(u.length===0)return a.sign===p?a:M.unaryMinus(a);var v=a.length;(a.__clzmsd()===0||u.length===a.length&&u.__clzmsd()===0)&&v++;for(var g,m=new M(v,p),A=0,R=0;R<u.length;R++)g=a.__digit(R)+u.__digit(R)+A,A=g>>>30,m.__setDigit(R,1073741823&g);for(;R<a.length;R++){var y=a.__digit(R)+A;A=y>>>30,m.__setDigit(R,1073741823&y)}return R<m.length&&m.__setDigit(R,A),m.__trim()}},{key:"__absoluteSub",value:function(a,u,p){if(a.length===0)return a;if(u.length===0)return a.sign===p?a:M.unaryMinus(a);for(var v,g=new M(a.length,p),m=0,A=0;A<u.length;A++)v=a.__digit(A)-u.__digit(A)-m,m=1&v>>>30,g.__setDigit(A,1073741823&v);for(;A<a.length;A++){var R=a.__digit(A)-m;m=1&R>>>30,g.__setDigit(A,1073741823&R)}return g.__trim()}},{key:"__absoluteAddOne",value:function(a,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,v=a.length;p===null?p=new M(v,u):p.sign=u;for(var g,m=1,A=0;A<v;A++)g=a.__digit(A)+m,m=g>>>30,p.__setDigit(A,1073741823&g);return m!==0&&p.__setDigitGrow(v,1),p}},{key:"__absoluteSubOne",value:function(a,u){var p=a.length;u=u||p;for(var v,g=new M(u,!1),m=1,A=0;A<p;A++)v=a.__digit(A)-m,m=1&v>>>30,g.__setDigit(A,1073741823&v);if(m!==0)throw new Error("implementation bug");for(var R=p;R<u;R++)g.__setDigit(R,0);return g}},{key:"__absoluteAnd",value:function(a,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,v=a.length,g=u.length,m=g;if(v<g){m=v;var A=a,R=v;a=u,v=g,u=A,g=R}var y=m;p===null?p=new M(y,!1):y=p.length;for(var P=0;P<m;P++)p.__setDigit(P,a.__digit(P)&u.__digit(P));for(;P<y;P++)p.__setDigit(P,0);return p}},{key:"__absoluteAndNot",value:function(a,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,v=a.length,g=u.length,m=g;v<g&&(m=v);var A=v;p===null?p=new M(A,!1):A=p.length;for(var R=0;R<m;R++)p.__setDigit(R,a.__digit(R)&~u.__digit(R));for(;R<v;R++)p.__setDigit(R,a.__digit(R));for(;R<A;R++)p.__setDigit(R,0);return p}},{key:"__absoluteOr",value:function(a,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,v=a.length,g=u.length,m=g;if(v<g){m=v;var A=a,R=v;a=u,v=g,u=A,g=R}var y=v;p===null?p=new M(y,!1):y=p.length;for(var P=0;P<m;P++)p.__setDigit(P,a.__digit(P)|u.__digit(P));for(;P<v;P++)p.__setDigit(P,a.__digit(P));for(;P<y;P++)p.__setDigit(P,0);return p}},{key:"__absoluteXor",value:function(a,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,v=a.length,g=u.length,m=g;if(v<g){m=v;var A=a,R=v;a=u,v=g,u=A,g=R}var y=v;p===null?p=new M(y,!1):y=p.length;for(var P=0;P<m;P++)p.__setDigit(P,a.__digit(P)^u.__digit(P));for(;P<v;P++)p.__setDigit(P,a.__digit(P));for(;P<y;P++)p.__setDigit(P,0);return p}},{key:"__absoluteCompare",value:function(a,u){var p=a.length-u.length;if(p!=0)return p;for(var v=a.length-1;0<=v&&a.__digit(v)===u.__digit(v);)v--;return 0>v?0:a.__unsignedDigit(v)>u.__unsignedDigit(v)?1:-1}},{key:"__multiplyAccumulate",value:function(a,u,p,v){if(u!==0){for(var g=32767&u,m=u>>>15,A=0,R=0,y=0;y<a.length;y++,v++){var P=p.__digit(v),W=a.__digit(y),H=32767&W,V=W>>>15,Z=M.__imul(H,g),J=M.__imul(H,m),Q=M.__imul(V,g),me=M.__imul(V,m);P+=R+Z+A,A=P>>>30,P&=1073741823,P+=((32767&J)<<15)+((32767&Q)<<15),A+=P>>>30,R=me+(J>>>15)+(Q>>>15),p.__setDigit(v,1073741823&P)}for(;A!==0||R!==0;v++){var te=p.__digit(v);te+=A+R,R=0,A=te>>>30,p.__setDigit(v,1073741823&te)}}}},{key:"__internalMultiplyAdd",value:function(a,u,p,v,g){for(var m=p,A=0,R=0;R<v;R++){var y=a.__digit(R),P=M.__imul(32767&y,u),W=M.__imul(y>>>15,u),H=P+((32767&W)<<15)+A+m;m=H>>>30,A=W>>>15,g.__setDigit(R,1073741823&H)}if(g.length>v)for(g.__setDigit(v++,m+A);v<g.length;)g.__setDigit(v++,0);else if(m+A!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(a,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;p===null&&(p=new M(a.length,!1));for(var v=0,g=2*a.length-1;0<=g;g-=2){var m=(v<<15|a.__halfDigit(g))>>>0,A=0|m/u;v=0|m%u,m=(v<<15|a.__halfDigit(g-1))>>>0;var R=0|m/u;v=0|m%u,p.__setDigit(g>>>1,A<<15|R)}return p}},{key:"__absoluteModSmall",value:function(a,u){for(var p,v=0,g=2*a.length-1;0<=g;g--)p=(v<<15|a.__halfDigit(g))>>>0,v=0|p%u;return v}},{key:"__absoluteDivLarge",value:function(a,u,p,v){var g=u.__halfDigitLength(),m=u.length,A=a.__halfDigitLength()-g,R=null;p&&(R=new M(A+2>>>1,!1),R.__initializeDigits());var y=new M(g+2>>>1,!1);y.__initializeDigits();var P=M.__clz15(u.__halfDigit(g-1));0<P&&(u=M.__specialLeftShift(u,P,0));for(var W=M.__specialLeftShift(a,P,1),H=u.__halfDigit(g-1),V=0,Z=A;0<=Z;Z--){var J=32767,Q=W.__halfDigit(Z+g);if(Q!==H){var me=(Q<<15|W.__halfDigit(Z+g-1))>>>0;J=0|me/H;for(var te=0|me%H,ie=u.__halfDigit(g-2),or=W.__halfDigit(Z+g-2);M.__imul(J,ie)>>>0>(te<<16|or)>>>0&&(J--,te+=H,!(32767<te)););}M.__internalMultiplyAdd(u,J,0,m,y);var ce=W.__inplaceSub(y,Z,g+1);ce!==0&&(ce=W.__inplaceAdd(u,Z,g),W.__setHalfDigit(Z+g,32767&W.__halfDigit(Z+g)+ce),J--),p&&(1&Z?V=J<<15:R.__setDigit(Z>>>1,V|J))}if(v)return W.__inplaceRightShift(P),p?{quotient:R,remainder:W}:W;if(p)return R;throw new Error("unreachable")}},{key:"__clz15",value:function(a){return M.__clz30(a)-15}},{key:"__specialLeftShift",value:function(a,u,p){var v=a.length,g=new M(v+p,!1);if(u===0){for(var m=0;m<v;m++)g.__setDigit(m,a.__digit(m));return 0<p&&g.__setDigit(v,0),g}for(var A,R=0,y=0;y<v;y++)A=a.__digit(y),g.__setDigit(y,1073741823&A<<u|R),R=A>>>30-u;return 0<p&&g.__setDigit(v,R),g}},{key:"__leftShiftByAbsolute",value:function(a,u){var p=M.__toShiftAmount(u);if(0>p)throw new RangeError("BigInt too big");var v=0|p/30,g=p%30,m=a.length,A=g!==0&&a.__digit(m-1)>>>30-g!=0,R=m+v+(A?1:0),y=new M(R,a.sign);if(g===0){for(var P=0;P<v;P++)y.__setDigit(P,0);for(;P<R;P++)y.__setDigit(P,a.__digit(P-v))}else{for(var W=0,H=0;H<v;H++)y.__setDigit(H,0);for(var V,Z=0;Z<m;Z++)V=a.__digit(Z),y.__setDigit(Z+v,1073741823&V<<g|W),W=V>>>30-g;if(A)y.__setDigit(m+v,W);else if(W!==0)throw new Error("implementation bug")}return y.__trim()}},{key:"__rightShiftByAbsolute",value:function(a,u){var p=a.length,v=a.sign,g=M.__toShiftAmount(u);if(0>g)return M.__rightShiftByMaximum(v);var m=0|g/30,A=g%30,R=p-m;if(0>=R)return M.__rightShiftByMaximum(v);var y=!1;if(v){if(a.__digit(m)&(1<<A)-1)y=!0;else for(var P=0;P<m;P++)if(a.__digit(P)!==0){y=!0;break}}if(y&&A===0){var W=a.__digit(p-1);!~W&&R++}var H=new M(R,v);if(A===0){H.__setDigit(R-1,0);for(var V=m;V<p;V++)H.__setDigit(V-m,a.__digit(V))}else{for(var Z,J=a.__digit(m)>>>A,Q=p-m-1,me=0;me<Q;me++)Z=a.__digit(me+m+1),H.__setDigit(me,1073741823&Z<<30-A|J),J=Z>>>A;H.__setDigit(Q,J)}return y&&(H=M.__absoluteAddOne(H,!0,H)),H.__trim()}},{key:"__rightShiftByMaximum",value:function(a){return a?M.__oneDigit(1,!0):M.__zero()}},{key:"__toShiftAmount",value:function(a){if(1<a.length)return-1;var u=a.__unsignedDigit(0);return u>M.__kMaxLengthBits?-1:u}},{key:"__toPrimitive",value:function(a){var u=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default";if(r(a)!=="object"||a.constructor===M)return a;if(typeof Symbol<"u"&&r(Symbol.toPrimitive)==="symbol"){var p=a[Symbol.toPrimitive];if(p){var v=p(u);if(r(v)!=="object")return v;throw new TypeError("Cannot convert object to primitive value")}}var g=a.valueOf;if(g){var m=g.call(a);if(r(m)!=="object")return m}var A=a.toString;if(A){var R=A.call(a);if(r(R)!=="object")return R}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(a){return M.__isBigInt(a)?a:+a}},{key:"__isBigInt",value:function(a){return r(a)==="object"&&a!==null&&a.constructor===M}},{key:"__truncateToNBits",value:function(a,u){for(var p=0|(a+29)/30,v=new M(p,u.sign),g=p-1,m=0;m<g;m++)v.__setDigit(m,u.__digit(m));var A=u.__digit(g);if(a%30!=0){var R=32-a%30;A=A<<R>>>R}return v.__setDigit(g,A),v.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(a,u,p){for(var v=Math.min,g,m=0|(a+29)/30,A=new M(m,p),R=0,y=m-1,P=0,W=v(y,u.length);R<W;R++)g=0-u.__digit(R)-P,P=1&g>>>30,A.__setDigit(R,1073741823&g);for(;R<y;R++)A.__setDigit(R,0|1073741823&-P);var H,V=y<u.length?u.__digit(y):0,Z=a%30;if(Z===0)H=0-V-P,H&=1073741823;else{var J=32-Z;V=V<<J>>>J;var Q=1<<32-J;H=Q-V-P,H&=Q-1}return A.__setDigit(y,H),A.__trim()}},{key:"__digitPow",value:function(a,u){for(var p=1;0<u;)1&u&&(p*=a),u>>>=1,a*=a;return p}},{key:"__isOneDigitInt",value:function(a){return(1073741823&a)===a}}]),M}(E(Array));return q.__kMaxLength=33554432,q.__kMaxLengthBits=q.__kMaxLength<<5,q.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],q.__kBitsPerCharTableShift=5,q.__kBitsPerCharTableMultiplier=1<<q.__kBitsPerCharTableShift,q.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],q.__kBitConversionBuffer=new ArrayBuffer(8),q.__kBitConversionDouble=new Float64Array(q.__kBitConversionBuffer),q.__kBitConversionInts=new Int32Array(q.__kBitConversionBuffer),q.__clz30=e?function(F){return e(F)-2}:function(F){var G=Math.LN2,B=Math.log;return F===0?30:0|29-(0|B(F>>>0)/G)},q.__imul=t||function(F,G){return 0|F*G},q})});var TT=z(AT=>{"use strict";x();AT.supports=function(...e){let r=e.reduce((i,n)=>Object.assign(i,n),{});return Object.assign(r,{snapshots:r.snapshots||!1,permanence:r.permanence||!1,seek:r.seek||!1,clear:r.clear||!1,getMany:r.getMany||!1,keyIterator:r.keyIterator||!1,valueIterator:r.valueIterator||!1,iteratorNextv:r.iteratorNextv||!1,iteratorAll:r.iteratorAll||!1,status:r.status||!1,createIfMissing:r.createIfMissing||!1,errorIfExists:r.errorIfExists||!1,deferredOpen:r.deferredOpen||!1,promises:r.promises||!1,streams:r.streams||!1,encodings:Object.assign({},r.encodings),events:Object.assign({},r.events),additionalMethods:Object.assign({},r.additionalMethods)})}});var ts=z((z2e,RT)=>{"use strict";x();RT.exports=class extends Error{constructor(e,r){super(e||""),typeof r=="object"&&r!==null&&(r.code&&(this.code=String(r.code)),r.expected&&(this.expected=!0),r.transient&&(this.transient=!0),r.cause&&(this.cause=r.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}});var i6=z((W2e,PT)=>{"use strict";x();var r6=null;PT.exports=function(){return r6===null&&(r6={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),r6}});var s6=z(kT=>{"use strict";x();var n6=ts(),fG=new Set(["buffer","view","utf8"]),o6=class{constructor(e){if(this.encode=e.encode||this.encode,this.decode=e.decode||this.decode,this.name=e.name||this.name,this.format=e.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!fG.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");e.createViewTranscoder&&(this.createViewTranscoder=e.createViewTranscoder),e.createBufferTranscoder&&(this.createBufferTranscoder=e.createBufferTranscoder),e.createUTF8Transcoder&&(this.createUTF8Transcoder=e.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new n6(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new n6(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new n6(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};kT.Encoding=o6});var u6=z(av=>{"use strict";x();var{Buffer:f6}=er()||{},{Encoding:c6}=s6(),cG=i6(),N0=class extends c6{constructor(e){super({...e,format:"buffer"})}createViewTranscoder(){return new q0({encode:this.encode,decode:e=>this.decode(f6.from(e.buffer,e.byteOffset,e.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},q0=class extends c6{constructor(e){super({...e,format:"view"})}createBufferTranscoder(){return new N0({encode:e=>{let r=this.encode(e);return f6.from(r.buffer,r.byteOffset,r.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},a6=class extends c6{constructor(e){super({...e,format:"utf8"})}createBufferTranscoder(){return new N0({encode:e=>f6.from(this.encode(e),"utf8"),decode:e=>this.decode(e.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){let{textEncoder:e,textDecoder:r}=cG();return new q0({encode:i=>e.encode(this.encode(i)),decode:i=>this.decode(r.decode(i)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};av.BufferFormat=N0;av.ViewFormat=q0;av.UTF8Format=a6});var CT=z(Nu=>{"use strict";x();var{Buffer:Wi}=er()||{Buffer:{isBuffer:()=>!1}},{textEncoder:DT,textDecoder:IT}=i6()(),{BufferFormat:L0,ViewFormat:d6,UTF8Format:BT}=u6(),fv=t=>t;Nu.utf8=new BT({encode:function(t){return Wi.isBuffer(t)?t.toString("utf8"):ArrayBuffer.isView(t)?IT.decode(t):String(t)},decode:fv,name:"utf8",createViewTranscoder(){return new d6({encode:function(t){return ArrayBuffer.isView(t)?t:DT.encode(t)},decode:function(t){return IT.decode(t)},name:`${this.name}+view`})},createBufferTranscoder(){return new L0({encode:function(t){return Wi.isBuffer(t)?t:ArrayBuffer.isView(t)?Wi.from(t.buffer,t.byteOffset,t.byteLength):Wi.from(String(t),"utf8")},decode:function(t){return t.toString("utf8")},name:`${this.name}+buffer`})}});Nu.json=new BT({encode:JSON.stringify,decode:JSON.parse,name:"json"});Nu.buffer=new L0({encode:function(t){return Wi.isBuffer(t)?t:ArrayBuffer.isView(t)?Wi.from(t.buffer,t.byteOffset,t.byteLength):Wi.from(String(t),"utf8")},decode:fv,name:"buffer",createViewTranscoder(){return new d6({encode:function(t){return ArrayBuffer.isView(t)?t:Wi.from(String(t),"utf8")},decode:function(t){return Wi.from(t.buffer,t.byteOffset,t.byteLength)},name:`${this.name}+view`})}});Nu.view=new d6({encode:function(t){return ArrayBuffer.isView(t)?t:DT.encode(t)},decode:fv,name:"view",createBufferTranscoder(){return new L0({encode:function(t){return Wi.isBuffer(t)?t:ArrayBuffer.isView(t)?Wi.from(t.buffer,t.byteOffset,t.byteLength):Wi.from(String(t),"utf8")},decode:fv,name:`${this.name}+buffer`})}});Nu.hex=new L0({encode:function(t){return Wi.isBuffer(t)?t:Wi.from(String(t),"hex")},decode:function(t){return t.toString("hex")},name:"hex"});Nu.base64=new L0({encode:function(t){return Wi.isBuffer(t)?t:Wi.from(String(t),"base64")},decode:function(t){return t.toString("base64")},name:"base64"})});var NT=z(jT=>{"use strict";x();var OT=ts(),uv=CT(),{Encoding:uG}=s6(),{BufferFormat:dG,ViewFormat:lG,UTF8Format:hG}=u6(),U0=Symbol("formats"),cv=Symbol("encodings"),pG=new Set(["buffer","view","utf8"]),l6=class{constructor(e){if(Array.isArray(e)){if(!e.every(r=>pG.has(r)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[cv]=new Map,this[U0]=new Set(e);for(let r in uv)try{this.encoding(r)}catch(i){if(i.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw i}}encodings(){return Array.from(new Set(this[cv].values()))}encoding(e){let r=this[cv].get(e);if(r===void 0){if(typeof e=="string"&&e!==""){if(r=vG[e],!r)throw new OT(`Encoding '${e}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof e!="object"||e===null)throw new TypeError("First argument 'encoding' must be a string or object");r=yG(e)}let{name:i,format:n}=r;if(!this[U0].has(n))if(this[U0].has("view"))r=r.createViewTranscoder();else if(this[U0].has("buffer"))r=r.createBufferTranscoder();else if(this[U0].has("utf8"))r=r.createUTF8Transcoder();else throw new OT(`Encoding '${i}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(let o of[e,i,r.name,r.commonName])this[cv].set(o,r)}return r}};jT.Transcoder=l6;function yG(t){if(t instanceof uG)return t;let e="type"in t&&typeof t.type=="string"?t.type:void 0,r=t.name||e||`anonymous-${bG++}`;switch(mG(t)){case"view":return new lG({...t,name:r});case"utf8":return new hG({...t,name:r});case"buffer":return new dG({...t,name:r});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function mG(t){return"format"in t&&t.format!==void 0?t.format:"buffer"in t&&typeof t.buffer=="boolean"?t.buffer?"buffer":"utf8":"code"in t&&Number.isInteger(t.code)?"view":"buffer"}var gG={binary:uv.buffer,"utf-8":uv.utf8},vG={...uv,...gG},bG=0});var oo=z((e_e,h6)=>{"use strict";x();var Kl=typeof Reflect=="object"?Reflect:null,qT=Kl&&typeof Kl.apply=="function"?Kl.apply:function(e,r,i){return Function.prototype.apply.call(e,r,i)},dv;Kl&&typeof Kl.ownKeys=="function"?dv=Kl.ownKeys:Object.getOwnPropertySymbols?dv=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:dv=function(e){return Object.getOwnPropertyNames(e)};function wG(t){console&&console.warn&&console.warn(t)}var UT=Number.isNaN||function(e){return e!==e};function ar(){ar.init.call(this)}h6.exports=ar;h6.exports.once=SG;ar.EventEmitter=ar;ar.prototype._events=void 0;ar.prototype._eventsCount=0;ar.prototype._maxListeners=void 0;var LT=10;function lv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ar,"defaultMaxListeners",{enumerable:!0,get:function(){return LT},set:function(t){if(typeof t!="number"||t<0||UT(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");LT=t}});ar.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ar.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||UT(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function FT(t){return t._maxListeners===void 0?ar.defaultMaxListeners:t._maxListeners}ar.prototype.getMaxListeners=function(){return FT(this)};ar.prototype.emit=function(e){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var n=e==="error",o=this._events;if(o!==void 0)n=n&&o.error===void 0;else if(!n)return!1;if(n){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var f=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw f.context=s,f}var c=o[e];if(c===void 0)return!1;if(typeof c=="function")qT(c,this,r);else for(var d=c.length,l=HT(c,d),i=0;i<d;++i)qT(l[i],this,r);return!0};function zT(t,e,r,i){var n,o,s;if(lv(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),s===void 0)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),n=FT(t),n>0&&s.length>n&&!s.warned){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=s.length,wG(f)}return t}ar.prototype.addListener=function(e,r){return zT(this,e,r,!1)};ar.prototype.on=ar.prototype.addListener;ar.prototype.prependListener=function(e,r){return zT(this,e,r,!0)};function _G(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function $T(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=_G.bind(i);return n.listener=r,i.wrapFn=n,n}ar.prototype.once=function(e,r){return lv(r),this.on(e,$T(this,e,r)),this};ar.prototype.prependOnceListener=function(e,r){return lv(r),this.prependListener(e,$T(this,e,r)),this};ar.prototype.removeListener=function(e,r){var i,n,o,s,f;if(lv(r),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||r));else if(typeof i!="function"){for(o=-1,s=i.length-1;s>=0;s--)if(i[s]===r||i[s].listener===r){f=i[s].listener,o=s;break}if(o<0)return this;o===0?i.shift():EG(i,o),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,f||r)}return this};ar.prototype.off=ar.prototype.removeListener;ar.prototype.removeAllListeners=function(e){var r,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var o=Object.keys(i),s;for(n=0;n<o.length;++n)s=o[n],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(n=r.length-1;n>=0;n--)this.removeListener(e,r[n]);return this};function WT(t,e,r){var i=t._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?xG(n):HT(n,n.length)}ar.prototype.listeners=function(e){return WT(this,e,!0)};ar.prototype.rawListeners=function(e){return WT(this,e,!1)};ar.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):KT.call(t,e)};ar.prototype.listenerCount=KT;function KT(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ar.prototype.eventNames=function(){return this._eventsCount>0?dv(this._events):[]};function HT(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function EG(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function xG(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function SG(t,e){return new Promise(function(r,i){function n(s){t.removeListener(e,o),i(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",n),r([].slice.call(arguments))}VT(t,e,o,{once:!0}),e!=="error"&&MG(t,n,{once:!0})})}function MG(t,e,r){typeof t.on=="function"&&VT(t,"error",e,r)}function VT(t,e,r,i){if(typeof t.on=="function")i.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function n(o){i.once&&t.removeEventListener(e,n),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var ZT=z((r_e,GT)=>{x();GT.exports=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t)});var F0=z(p6=>{"use strict";x();var YT=ZT();p6.fromCallback=function(t,e){if(t===void 0){var r=new Promise(function(i,n){t=function(o,s){o?n(o):i(s)}});t[e!==void 0?e:"promise"]=r}else if(typeof t!="function")throw new TypeError("Callback must be a function");return t};p6.fromPromise=function(t,e){if(e===void 0)return t;t.then(function(r){YT(()=>e(null,r))}).catch(function(r){YT(()=>e(r))})}});var hv=z(y6=>{"use strict";x();y6.getCallback=function(t,e){return typeof t=="function"?t:e};y6.getOptions=function(t,e){return typeof t=="object"&&t!==null?t:e!==void 0?e:{}}});var ac=z(gv=>{"use strict";x();var{fromCallback:m6}=F0(),Nn=ts(),{getOptions:g6,getCallback:JT}=hv(),qu=Symbol("promise"),Hl=Symbol("callback"),Vs=Symbol("working"),Lu=Symbol("handleOne"),Na=Symbol("handleMany"),v6=Symbol("autoClose"),oc=Symbol("finishWork"),Gs=Symbol("returnMany"),rc=Symbol("closing"),z0=Symbol("handleClose"),pv=Symbol("closed"),$0=Symbol("closeCallbacks"),nc=Symbol("keyEncoding"),Uu=Symbol("valueEncoding"),b6=Symbol("abortOnClose"),yv=Symbol("legacy"),w6=Symbol("keys"),_6=Symbol("values"),ic=Symbol("limit"),so=Symbol("count"),mv=Object.freeze({}),AG=()=>{},QT=!1,W0=class{constructor(e,r,i){if(typeof e!="object"||e===null){let n=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${n}`)}if(typeof r!="object"||r===null)throw new TypeError("The second argument must be an options object");this[pv]=!1,this[$0]=[],this[Vs]=!1,this[rc]=!1,this[v6]=!1,this[Hl]=null,this[Lu]=this[Lu].bind(this),this[Na]=this[Na].bind(this),this[z0]=this[z0].bind(this),this[nc]=r[nc],this[Uu]=r[Uu],this[yv]=i,this[ic]=Number.isInteger(r.limit)&&r.limit>=0?r.limit:1/0,this[so]=0,this[b6]=!!r.abortOnClose,this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get count(){return this[so]}get limit(){return this[ic]}next(e){let r;if(e===void 0)r=new Promise((i,n)=>{e=(o,s,f)=>{o?n(o):this[yv]?s===void 0&&f===void 0?i():i([s,f]):i(s)}});else if(typeof e!="function")throw new TypeError("Callback must be a function");return this[rc]?this.nextTick(e,new Nn("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Vs]?this.nextTick(e,new Nn("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[Vs]=!0,this[Hl]=e,this[so]>=this[ic]?this.nextTick(this[Lu],null):this._next(this[Lu])),r}_next(e){this.nextTick(e)}nextv(e,r,i){return i=JT(r,i),i=m6(i,qu),r=g6(r,mv),Number.isInteger(e)?(this[rc]?this.nextTick(i,new Nn("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Vs]?this.nextTick(i,new Nn("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(e<1&&(e=1),this[ic]<1/0&&(e=Math.min(e,this[ic]-this[so])),this[Vs]=!0,this[Hl]=i,e<=0?this.nextTick(this[Na],null,[]):this._nextv(e,r,this[Na])),i[qu]):(this.nextTick(i,new TypeError("The first argument 'size' must be an integer")),i[qu])}_nextv(e,r,i){let n=[],o=(s,f,c)=>{if(s)return i(s);if(this[yv]?f===void 0&&c===void 0:f===void 0)return i(null,n);n.push(this[yv]?[f,c]:f),n.length===e?i(null,n):this._next(o)};this._next(o)}all(e,r){return r=JT(e,r),r=m6(r,qu),e=g6(e,mv),this[rc]?this.nextTick(r,new Nn("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[Vs]?this.nextTick(r,new Nn("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[Vs]=!0,this[Hl]=r,this[v6]=!0,this[so]>=this[ic]?this.nextTick(this[Na],null,[]):this._all(e,this[Na])),r[qu]}_all(e,r){let i=this[so],n=[],o=()=>{let f=this[ic]<1/0?Math.min(1e3,this[ic]-i):1e3;f<=0?this.nextTick(r,null,n):this._nextv(f,mv,s)},s=(f,c)=>{f?r(f):c.length===0?r(null,n):(n.push.apply(n,c),i+=c.length,o())};o()}[oc](){let e=this[Hl];return this[b6]&&e===null?AG:(this[Vs]=!1,this[Hl]=null,this[rc]&&this._close(this[z0]),e)}[Gs](e,r,i){this[v6]?this.close(e.bind(null,r,i)):e(r,i)}seek(e,r){if(r=g6(r,mv),!this[rc]){if(this[Vs])throw new Nn("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{let i=this.db.keyEncoding(r.keyEncoding||this[nc]),n=i.format;r.keyEncoding!==n&&(r={...r,keyEncoding:n});let o=this.db.prefixKey(i.encode(e),n);this._seek(o,r)}}}_seek(e,r){throw new Nn("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(e){return e=m6(e,qu),this[pv]?this.nextTick(e):this[rc]?this[$0].push(e):(this[rc]=!0,this[$0].push(e),this[Vs]?this[b6]&&this[oc]()(new Nn("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[z0])),e[qu]}_close(e){this.nextTick(e)}[z0](){this[pv]=!0,this.db.detachResource(this);let e=this[$0];this[$0]=[];for(let r of e)r()}async*[Symbol.asyncIterator](){try{let e;for(;(e=await this.next())!==void 0;)yield e}finally{this[pv]||await this.close()}}},Vl=class extends W0{constructor(e,r){super(e,r,!0),this[w6]=r.keys!==!1,this[_6]=r.values!==!1}[Lu](e,r,i){let n=this[oc]();if(e)return n(e);try{r=this[w6]&&r!==void 0?this[nc].decode(r):void 0,i=this[_6]&&i!==void 0?this[Uu].decode(i):void 0}catch(o){return n(new sc("entry",o))}r===void 0&&i===void 0||this[so]++,n(null,r,i)}[Na](e,r){let i=this[oc]();if(e)return this[Gs](i,e);try{for(let n of r){let o=n[0],s=n[1];n[0]=this[w6]&&o!==void 0?this[nc].decode(o):void 0,n[1]=this[_6]&&s!==void 0?this[Uu].decode(s):void 0}}catch(n){return this[Gs](i,new sc("entries",n))}this[so]+=r.length,this[Gs](i,null,r)}end(e){return!QT&&typeof console<"u"&&(QT=!0,console.warn(new Nn("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(e)}},E6=class extends W0{constructor(e,r){super(e,r,!1)}[Lu](e,r){let i=this[oc]();if(e)return i(e);try{r=r!==void 0?this[nc].decode(r):void 0}catch(n){return i(new sc("key",n))}r!==void 0&&this[so]++,i(null,r)}[Na](e,r){let i=this[oc]();if(e)return this[Gs](i,e);try{for(let n=0;n<r.length;n++){let o=r[n];r[n]=o!==void 0?this[nc].decode(o):void 0}}catch(n){return this[Gs](i,new sc("keys",n))}this[so]+=r.length,this[Gs](i,null,r)}},x6=class extends W0{constructor(e,r){super(e,r,!1)}[Lu](e,r){let i=this[oc]();if(e)return i(e);try{r=r!==void 0?this[Uu].decode(r):void 0}catch(n){return i(new sc("value",n))}r!==void 0&&this[so]++,i(null,r)}[Na](e,r){let i=this[oc]();if(e)return this[Gs](i,e);try{for(let n=0;n<r.length;n++){let o=r[n];r[n]=o!==void 0?this[Uu].decode(o):void 0}}catch(n){return this[Gs](i,new sc("values",n))}this[so]+=r.length,this[Gs](i,null,r)}},sc=class extends Nn{constructor(e,r){super(`Iterator could not decode ${e}`,{code:"LEVEL_DECODE_ERROR",cause:r})}};for(let t of["_ended property","_nexting property","_end method"])Object.defineProperty(Vl.prototype,t.split(" ")[0],{get(){throw new Nn(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new Nn(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})}});Vl.keyEncoding=nc;Vl.valueEncoding=Uu;gv.AbstractIterator=Vl;gv.AbstractKeyIterator=E6;gv.AbstractValueIterator=x6});var XT=z(S6=>{"use strict";x();var{AbstractKeyIterator:TG,AbstractValueIterator:RG}=ac(),Fu=Symbol("iterator"),K0=Symbol("callback"),Gl=Symbol("handleOne"),zu=Symbol("handleMany"),H0=class extends TG{constructor(e,r){super(e,r),this[Fu]=e.iterator({...r,keys:!0,values:!1}),this[Gl]=this[Gl].bind(this),this[zu]=this[zu].bind(this)}},vv=class extends RG{constructor(e,r){super(e,r),this[Fu]=e.iterator({...r,keys:!1,values:!0}),this[Gl]=this[Gl].bind(this),this[zu]=this[zu].bind(this)}};for(let t of[H0,vv]){let e=t===H0,r=e?i=>i[0]:i=>i[1];t.prototype._next=function(i){this[K0]=i,this[Fu].next(this[Gl])},t.prototype[Gl]=function(i,n,o){let s=this[K0];i?s(i):s(null,e?n:o)},t.prototype._nextv=function(i,n,o){this[K0]=o,this[Fu].nextv(i,n,this[zu])},t.prototype._all=function(i,n){this[K0]=n,this[Fu].all(i,this[zu])},t.prototype[zu]=function(i,n){let o=this[K0];i?o(i):o(null,n.map(r))},t.prototype._seek=function(i,n){this[Fu].seek(i,n)},t.prototype._close=function(i){this[Fu].close(i)}}S6.DefaultKeyIterator=H0;S6.DefaultValueIterator=vv});var eR=z(Sv=>{"use strict";x();var{AbstractIterator:PG,AbstractKeyIterator:kG,AbstractValueIterator:IG}=ac(),M6=ts(),mn=Symbol("nut"),Ev=Symbol("undefer"),xv=Symbol("factory"),bv=class extends PG{constructor(e,r){super(e,r),this[mn]=null,this[xv]=()=>e.iterator(r),this.db.defer(()=>this[Ev]())}},wv=class extends kG{constructor(e,r){super(e,r),this[mn]=null,this[xv]=()=>e.keys(r),this.db.defer(()=>this[Ev]())}},_v=class extends IG{constructor(e,r){super(e,r),this[mn]=null,this[xv]=()=>e.values(r),this.db.defer(()=>this[Ev]())}};for(let t of[bv,wv,_v])t.prototype[Ev]=function(){this.db.status==="open"&&(this[mn]=this[xv]())},t.prototype._next=function(e){this[mn]!==null?this[mn].next(e):this.db.status==="opening"?this.db.defer(()=>this._next(e)):this.nextTick(e,new M6("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._nextv=function(e,r,i){this[mn]!==null?this[mn].nextv(e,r,i):this.db.status==="opening"?this.db.defer(()=>this._nextv(e,r,i)):this.nextTick(i,new M6("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._all=function(e,r){this[mn]!==null?this[mn].all(r):this.db.status==="opening"?this.db.defer(()=>this._all(e,r)):this.nextTick(r,new M6("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._seek=function(e,r){this[mn]!==null?this[mn]._seek(e,r):this.db.status==="opening"&&this.db.defer(()=>this._seek(e,r))},t.prototype._close=function(e){this[mn]!==null?this[mn].close(e):this.db.status==="opening"?this.db.defer(()=>this._close(e)):this.nextTick(e)};Sv.DeferredIterator=bv;Sv.DeferredKeyIterator=wv;Sv.DeferredValueIterator=_v});var T6=z(rR=>{"use strict";x();var{fromCallback:tR}=F0(),Mv=ts(),{getCallback:DG,getOptions:BG}=hv(),Av=Symbol("promise"),ao=Symbol("status"),Zl=Symbol("operations"),V0=Symbol("finishClose"),Yl=Symbol("closeCallbacks"),A6=class{constructor(e){if(typeof e!="object"||e===null){let r=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${r}`)}this[Zl]=[],this[Yl]=[],this[ao]="open",this[V0]=this[V0].bind(this),this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get length(){return this[Zl].length}put(e,r,i){if(this[ao]!=="open")throw new Mv("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let n=this.db._checkKey(e)||this.db._checkValue(r);if(n)throw n;let o=i&&i.sublevel!=null?i.sublevel:this.db,s=i,f=o.keyEncoding(i&&i.keyEncoding),c=o.valueEncoding(i&&i.valueEncoding),d=f.format;i={...i,keyEncoding:d,valueEncoding:c.format},o!==this.db&&(i.sublevel=null);let l=o.prefixKey(f.encode(e),d),h=c.encode(r);return this._put(l,h,i),this[Zl].push({...s,type:"put",key:e,value:r}),this}_put(e,r,i){}del(e,r){if(this[ao]!=="open")throw new Mv("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let i=this.db._checkKey(e);if(i)throw i;let n=r&&r.sublevel!=null?r.sublevel:this.db,o=r,s=n.keyEncoding(r&&r.keyEncoding),f=s.format;return r={...r,keyEncoding:f},n!==this.db&&(r.sublevel=null),this._del(n.prefixKey(s.encode(e),f),r),this[Zl].push({...o,type:"del",key:e}),this}_del(e,r){}clear(){if(this[ao]!=="open")throw new Mv("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[Zl]=[],this}_clear(){}write(e,r){return r=DG(e,r),r=tR(r,Av),e=BG(e),this[ao]!=="open"?this.nextTick(r,new Mv("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(r):(this[ao]="writing",this._write(e,i=>{this[ao]="closing",this[Yl].push(()=>r(i)),i||this.db.emit("batch",this[Zl]),this._close(this[V0])})),r[Av]}_write(e,r){}close(e){return e=tR(e,Av),this[ao]==="closing"?this[Yl].push(e):this[ao]==="closed"?this.nextTick(e):(this[Yl].push(e),this[ao]!=="writing"&&(this[ao]="closing",this._close(this[V0]))),e[Av]}_close(e){this.nextTick(e)}[V0](){this[ao]="closed",this.db.detachResource(this);let e=this[Yl];this[Yl]=[];for(let r of e)r()}};rR.AbstractChainedBatch=A6});var nR=z(iR=>{"use strict";x();var{AbstractChainedBatch:CG}=T6(),OG=ts(),Jl=Symbol("encoded"),R6=class extends CG{constructor(e){super(e),this[Jl]=[]}_put(e,r,i){this[Jl].push({...i,type:"put",key:e,value:r})}_del(e,r){this[Jl].push({...r,type:"del",key:e})}_clear(){this[Jl]=[]}_write(e,r){this.db.status==="opening"?this.db.defer(()=>this._write(e,r)):this.db.status==="open"?this[Jl].length===0?this.nextTick(r):this.db._batch(this[Jl],e,r):this.nextTick(r,new OG("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};iR.DefaultChainedBatch=R6});var aR=z((v_e,sR)=>{"use strict";x();var oR=ts(),jG=Object.prototype.hasOwnProperty,NG=new Set(["lt","lte","gt","gte"]);sR.exports=function(t,e){let r={};for(let i in t)if(jG.call(t,i)&&!(i==="keyEncoding"||i==="valueEncoding")){if(i==="start"||i==="end")throw new oR(`The legacy range option '${i}' has been removed`,{code:"LEVEL_LEGACY"});if(i==="encoding")throw new oR("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});NG.has(i)?r[i]=e.encode(t[i]):r[i]=t[i]}return r.reverse=!!r.reverse,r.limit=Number.isInteger(r.limit)&&r.limit>=0?r.limit:-1,r}});var P6=z((w_e,cR)=>{x();var fR;cR.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:globalThis):t=>(fR||(fR=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var lR=z((E_e,dR)=>{"use strict";x();var uR=P6();dR.exports=function(t,...e){e.length===0?uR(t):uR(()=>t(...e))}});var hR=z(Tv=>{"use strict";x();var{AbstractIterator:qG,AbstractKeyIterator:LG,AbstractValueIterator:UG}=ac(),Ql=Symbol("unfix"),rs=Symbol("iterator"),$u=Symbol("handleOne"),fc=Symbol("handleMany"),qa=Symbol("callback"),G0=class extends qG{constructor(e,r,i,n){super(e,r),this[rs]=i,this[Ql]=n,this[$u]=this[$u].bind(this),this[fc]=this[fc].bind(this),this[qa]=null}[$u](e,r,i){let n=this[qa];if(e)return n(e);r!==void 0&&(r=this[Ql](r)),n(e,r,i)}[fc](e,r){let i=this[qa];if(e)return i(e);for(let n of r){let o=n[0];o!==void 0&&(n[0]=this[Ql](o))}i(e,r)}},Z0=class extends LG{constructor(e,r,i,n){super(e,r),this[rs]=i,this[Ql]=n,this[$u]=this[$u].bind(this),this[fc]=this[fc].bind(this),this[qa]=null}[$u](e,r){let i=this[qa];if(e)return i(e);r!==void 0&&(r=this[Ql](r)),i(e,r)}[fc](e,r){let i=this[qa];if(e)return i(e);for(let n=0;n<r.length;n++){let o=r[n];o!==void 0&&(r[n]=this[Ql](o))}i(e,r)}},Y0=class extends UG{constructor(e,r,i){super(e,r),this[rs]=i}};for(let t of[G0,Z0])t.prototype._next=function(e){this[qa]=e,this[rs].next(this[$u])},t.prototype._nextv=function(e,r,i){this[qa]=i,this[rs].nextv(e,r,this[fc])},t.prototype._all=function(e,r){this[qa]=r,this[rs].all(e,this[fc])};for(let t of[Y0])t.prototype._next=function(e){this[rs].next(e)},t.prototype._nextv=function(e,r,i){this[rs].nextv(e,r,i)},t.prototype._all=function(e,r){this[rs].all(e,r)};for(let t of[G0,Z0,Y0])t.prototype._seek=function(e,r){this[rs].seek(e,r)},t.prototype._close=function(e){this[rs].close(e)};Tv.AbstractSublevelIterator=G0;Tv.AbstractSublevelKeyIterator=Z0;Tv.AbstractSublevelValueIterator=Y0});var gR=z((A_e,mR)=>{"use strict";x();var k6=ts(),{Buffer:B6}=er()||{},{AbstractSublevelIterator:FG,AbstractSublevelKeyIterator:zG,AbstractSublevelValueIterator:$G}=hR(),La=Symbol("prefix"),pR=Symbol("upperBound"),J0=Symbol("prefixRange"),qn=Symbol("parent"),I6=Symbol("unfix"),yR=new TextEncoder,WG={separator:"!"};mR.exports=function({AbstractLevel:t}){class e extends t{static defaults(i){if(typeof i=="string")throw new k6("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(i&&i.open)throw new k6("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return i==null?WG:i.separator?i:{...i,separator:"!"}}constructor(i,n,o){let{separator:s,manifest:f,...c}=e.defaults(o);n=HG(n,s);let d=s.charCodeAt(0)+1,l=i[qn]||i;if(!yR.encode(n).every(b=>b>d&&b<127))throw new k6(`Prefix must use bytes > ${d} < ${127}`,{code:"LEVEL_INVALID_PREFIX"});super(KG(l,f),c);let h=(i.prefix||"")+s+n+s,E=h.slice(0,-1)+String.fromCharCode(d);this[qn]=l,this[La]=new Rv(h),this[pR]=new Rv(E),this[I6]=new C6,this.nextTick=l.nextTick}prefixKey(i,n){if(n==="utf8")return this[La].utf8+i;if(i.byteLength===0)return this[La][n];if(n==="view"){let o=this[La].view,s=new Uint8Array(o.byteLength+i.byteLength);return s.set(o,0),s.set(i,o.byteLength),s}else{let o=this[La].buffer;return B6.concat([o,i],o.byteLength+i.byteLength)}}[J0](i,n){i.gte!==void 0?i.gte=this.prefixKey(i.gte,n):i.gt!==void 0?i.gt=this.prefixKey(i.gt,n):i.gte=this[La][n],i.lte!==void 0?i.lte=this.prefixKey(i.lte,n):i.lt!==void 0?i.lt=this.prefixKey(i.lt,n):i.lte=this[pR][n]}get prefix(){return this[La].utf8}get db(){return this[qn]}_open(i,n){this[qn].open({passive:!0},n)}_put(i,n,o,s){this[qn].put(i,n,o,s)}_get(i,n,o){this[qn].get(i,n,o)}_getMany(i,n,o){this[qn].getMany(i,n,o)}_del(i,n,o){this[qn].del(i,n,o)}_batch(i,n,o){this[qn].batch(i,n,o)}_clear(i,n){this[J0](i,i.keyEncoding),this[qn].clear(i,n)}_iterator(i){this[J0](i,i.keyEncoding);let n=this[qn].iterator(i),o=this[I6].get(this[La].utf8.length,i.keyEncoding);return new FG(this,i,n,o)}_keys(i){this[J0](i,i.keyEncoding);let n=this[qn].keys(i),o=this[I6].get(this[La].utf8.length,i.keyEncoding);return new zG(this,i,n,o)}_values(i){this[J0](i,i.keyEncoding);let n=this[qn].values(i);return new $G(this,i,n)}}return{AbstractSublevel:e}};var KG=function(t,e){return{...t.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...e,encodings:{utf8:D6(t,"utf8"),buffer:D6(t,"buffer"),view:D6(t,"view")}}},D6=function(t,e){return t.supports.encodings[e]?t.keyEncoding(e).name===e:!1},Rv=class{constructor(e){this.utf8=e,this.view=yR.encode(e),this.buffer=B6?B6.from(this.view.buffer,0,this.view.byteLength):{}}},C6=class{constructor(){this.cache=new Map}get(e,r){let i=this.cache.get(r);return i===void 0&&(r==="view"?i=function(n,o){return o.subarray(n)}.bind(null,e):i=function(n,o){return o.slice(n)}.bind(null,e),this.cache.set(r,i)),i}},HG=function(t,e){let r=0,i=t.length;for(;r<i&&t[r]===e;)r++;for(;i>r&&t[i-1]===e;)i--;return t.slice(r,i)}});var L6=z(q6=>{"use strict";x();var{supports:VG}=TT(),{Transcoder:GG}=NT(),{EventEmitter:ZG}=oo(),{fromCallback:cc}=F0(),is=ts(),{AbstractIterator:Wu}=ac(),{DefaultKeyIterator:YG,DefaultValueIterator:JG}=XT(),{DeferredIterator:QG,DeferredKeyIterator:XG,DeferredValueIterator:eZ}=eR(),{DefaultChainedBatch:vR}=nR(),{getCallback:Ku,getOptions:uc}=hv(),Pv=aR(),mt=Symbol("promise"),Ua=Symbol("landed"),Hu=Symbol("resources"),O6=Symbol("closeResources"),Q0=Symbol("operations"),X0=Symbol("undefer"),kv=Symbol("deferOpen"),bR=Symbol("options"),At=Symbol("status"),Vu=Symbol("defaultOptions"),Xl=Symbol("transcoder"),Iv=Symbol("keyEncoding"),j6=Symbol("valueEncoding"),tZ=()=>{},ey=class extends ZG{constructor(e,r){if(super(),typeof e!="object"||e===null)throw new TypeError("The first argument 'manifest' must be an object");r=uc(r);let{keyEncoding:i,valueEncoding:n,passive:o,...s}=r;this[Hu]=new Set,this[Q0]=[],this[kv]=!0,this[bR]=s,this[At]="opening",this.supports=VG(e,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:e.snapshots!==!1,permanence:e.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:e.encodings||{},events:Object.assign({},e.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[Xl]=new GG(rZ(this)),this[Iv]=this[Xl].encoding(i||"utf8"),this[j6]=this[Xl].encoding(n||"utf8");for(let f of this[Xl].encodings())this.supports.encodings[f.commonName]||(this.supports.encodings[f.commonName]=!0);this[Vu]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[Iv].commonName,valueEncoding:this[j6].commonName}),key:Object.freeze({keyEncoding:this[Iv].commonName})},this.nextTick(()=>{this[kv]&&this.open({passive:!1},tZ)})}get status(){return this[At]}keyEncoding(e){return this[Xl].encoding(e??this[Iv])}valueEncoding(e){return this[Xl].encoding(e??this[j6])}open(e,r){r=Ku(e,r),r=cc(r,mt),e={...this[bR],...uc(e)},e.createIfMissing=e.createIfMissing!==!1,e.errorIfExists=!!e.errorIfExists;let i=n=>{this[At]==="closing"||this[At]==="opening"?this.once(Ua,n?()=>i(n):i):this[At]!=="open"?r(new is("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:n})):r()};return e.passive?this[At]==="opening"?this.once(Ua,i):this.nextTick(i):this[At]==="closed"||this[kv]?(this[kv]=!1,this[At]="opening",this.emit("opening"),this._open(e,n=>{if(n){this[At]="closed",this[O6](()=>{this.emit(Ua),i(n)}),this[X0]();return}this[At]="open",this[X0](),this.emit(Ua),this[At]==="open"&&this.emit("open"),this[At]==="open"&&this.emit("ready"),i()})):this[At]==="open"?this.nextTick(i):this.once(Ua,()=>this.open(e,r)),r[mt]}_open(e,r){this.nextTick(r)}close(e){e=cc(e,mt);let r=i=>{this[At]==="opening"||this[At]==="closing"?this.once(Ua,i?r(i):r):this[At]!=="closed"?e(new is("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:i})):e()};if(this[At]==="open"){this[At]="closing",this.emit("closing");let i=n=>{this[At]="open",this[X0](),this.emit(Ua),r(n)};this[O6](()=>{this._close(n=>{if(n)return i(n);this[At]="closed",this[X0](),this.emit(Ua),this[At]==="closed"&&this.emit("closed"),r()})})}else this[At]==="closed"?this.nextTick(r):this.once(Ua,()=>this.close(e));return e[mt]}[O6](e){if(this[Hu].size===0)return this.nextTick(e);let r=this[Hu].size,i=!0,n=()=>{--r===0&&(i?this.nextTick(e):e())};for(let o of this[Hu])o.close(n);i=!1,this[Hu].clear()}_close(e){this.nextTick(e)}get(e,r,i){if(i=Ku(r,i),i=cc(i,mt),r=uc(r,this[Vu].entry),this[At]==="opening")return this.defer(()=>this.get(e,r,i)),i[mt];if(eh(this,i))return i[mt];let n=this._checkKey(e);if(n)return this.nextTick(i,n),i[mt];let o=this.keyEncoding(r.keyEncoding),s=this.valueEncoding(r.valueEncoding),f=o.format,c=s.format;return(r.keyEncoding!==f||r.valueEncoding!==c)&&(r=Object.assign({},r,{keyEncoding:f,valueEncoding:c})),this._get(this.prefixKey(o.encode(e),f),r,(d,l)=>{if(d)return(d.code==="LEVEL_NOT_FOUND"||d.notFound||/NotFound/i.test(d))&&(d.code||(d.code="LEVEL_NOT_FOUND"),d.notFound||(d.notFound=!0),d.status||(d.status=404)),i(d);try{l=s.decode(l)}catch(h){return i(new is("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:h}))}i(null,l)}),i[mt]}_get(e,r,i){this.nextTick(i,new Error("NotFound"))}getMany(e,r,i){if(i=Ku(r,i),i=cc(i,mt),r=uc(r,this[Vu].entry),this[At]==="opening")return this.defer(()=>this.getMany(e,r,i)),i[mt];if(eh(this,i))return i[mt];if(!Array.isArray(e))return this.nextTick(i,new TypeError("The first argument 'keys' must be an array")),i[mt];if(e.length===0)return this.nextTick(i,null,[]),i[mt];let n=this.keyEncoding(r.keyEncoding),o=this.valueEncoding(r.valueEncoding),s=n.format,f=o.format;(r.keyEncoding!==s||r.valueEncoding!==f)&&(r=Object.assign({},r,{keyEncoding:s,valueEncoding:f}));let c=new Array(e.length);for(let d=0;d<e.length;d++){let l=e[d],h=this._checkKey(l);if(h)return this.nextTick(i,h),i[mt];c[d]=this.prefixKey(n.encode(l),s)}return this._getMany(c,r,(d,l)=>{if(d)return i(d);try{for(let h=0;h<l.length;h++)l[h]!==void 0&&(l[h]=o.decode(l[h]))}catch(h){return i(new is(`Could not decode one or more of ${l.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:h}))}i(null,l)}),i[mt]}_getMany(e,r,i){this.nextTick(i,null,new Array(e.length).fill(void 0))}put(e,r,i,n){if(n=Ku(i,n),n=cc(n,mt),i=uc(i,this[Vu].entry),this[At]==="opening")return this.defer(()=>this.put(e,r,i,n)),n[mt];if(eh(this,n))return n[mt];let o=this._checkKey(e)||this._checkValue(r);if(o)return this.nextTick(n,o),n[mt];let s=this.keyEncoding(i.keyEncoding),f=this.valueEncoding(i.valueEncoding),c=s.format,d=f.format;(i.keyEncoding!==c||i.valueEncoding!==d)&&(i=Object.assign({},i,{keyEncoding:c,valueEncoding:d}));let l=this.prefixKey(s.encode(e),c),h=f.encode(r);return this._put(l,h,i,E=>{if(E)return n(E);this.emit("put",e,r),n()}),n[mt]}_put(e,r,i,n){this.nextTick(n)}del(e,r,i){if(i=Ku(r,i),i=cc(i,mt),r=uc(r,this[Vu].key),this[At]==="opening")return this.defer(()=>this.del(e,r,i)),i[mt];if(eh(this,i))return i[mt];let n=this._checkKey(e);if(n)return this.nextTick(i,n),i[mt];let o=this.keyEncoding(r.keyEncoding),s=o.format;return r.keyEncoding!==s&&(r=Object.assign({},r,{keyEncoding:s})),this._del(this.prefixKey(o.encode(e),s),r,f=>{if(f)return i(f);this.emit("del",e),i()}),i[mt]}_del(e,r,i){this.nextTick(i)}batch(e,r,i){if(!arguments.length){if(this[At]==="opening")return new vR(this);if(this[At]!=="open")throw new is("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof e=="function"?i=e:i=Ku(r,i),i=cc(i,mt),r=uc(r,this[Vu].empty),this[At]==="opening")return this.defer(()=>this.batch(e,r,i)),i[mt];if(eh(this,i))return i[mt];if(!Array.isArray(e))return this.nextTick(i,new TypeError("The first argument 'operations' must be an array")),i[mt];if(e.length===0)return this.nextTick(i),i[mt];let n=new Array(e.length),{keyEncoding:o,valueEncoding:s,...f}=r;for(let c=0;c<e.length;c++){if(typeof e[c]!="object"||e[c]===null)return this.nextTick(i,new TypeError("A batch operation must be an object")),i[mt];let d=Object.assign({},e[c]);if(d.type!=="put"&&d.type!=="del")return this.nextTick(i,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),i[mt];let l=this._checkKey(d.key);if(l)return this.nextTick(i,l),i[mt];let h=d.sublevel!=null?d.sublevel:this,E=h.keyEncoding(d.keyEncoding||o),b=E.format;if(d.key=h.prefixKey(E.encode(d.key),b),d.keyEncoding=b,d.type==="put"){let T=this._checkValue(d.value);if(T)return this.nextTick(i,T),i[mt];let k=h.valueEncoding(d.valueEncoding||s);d.value=k.encode(d.value),d.valueEncoding=k.format}h!==this&&(d.sublevel=null),n[c]=d}return this._batch(n,f,c=>{if(c)return i(c);this.emit("batch",e),i()}),i[mt]}_batch(e,r,i){this.nextTick(i)}sublevel(e,r){return this._sublevel(e,N6.defaults(r))}_sublevel(e,r){return new N6(this,e,r)}prefixKey(e,r){return e}clear(e,r){if(r=Ku(e,r),r=cc(r,mt),e=uc(e,this[Vu].empty),this[At]==="opening")return this.defer(()=>this.clear(e,r)),r[mt];if(eh(this,r))return r[mt];let i=e,n=this.keyEncoding(e.keyEncoding);return e=Pv(e,n),e.keyEncoding=n.format,e.limit===0?this.nextTick(r):this._clear(e,o=>{if(o)return r(o);this.emit("clear",i),r()}),r[mt]}_clear(e,r){this.nextTick(r)}iterator(e){let r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=Pv(e,r),e.keys=e.keys!==!1,e.values=e.values!==!1,e[Wu.keyEncoding]=r,e[Wu.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[At]==="opening")return new QG(this,e);if(this[At]!=="open")throw new is("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(e)}_iterator(e){return new Wu(this,e)}keys(e){let r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=Pv(e,r),e[Wu.keyEncoding]=r,e[Wu.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[At]==="opening")return new XG(this,e);if(this[At]!=="open")throw new is("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(e)}_keys(e){return new YG(this,e)}values(e){let r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=Pv(e,r),e[Wu.keyEncoding]=r,e[Wu.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[At]==="opening")return new eZ(this,e);if(this[At]!=="open")throw new is("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(e)}_values(e){return new JG(this,e)}defer(e){if(typeof e!="function")throw new TypeError("The first argument must be a function");this[Q0].push(e)}[X0](){if(this[Q0].length===0)return;let e=this[Q0];this[Q0]=[];for(let r of e)r()}attachResource(e){if(typeof e!="object"||e===null||typeof e.close!="function")throw new TypeError("The first argument must be a resource object");this[Hu].add(e)}detachResource(e){this[Hu].delete(e)}_chainedBatch(){return new vR(this)}_checkKey(e){if(e==null)return new is("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(e){if(e==null)return new is("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};ey.prototype.nextTick=lR();var{AbstractSublevel:N6}=gR()({AbstractLevel:ey});q6.AbstractLevel=ey;q6.AbstractSublevel=N6;var eh=function(t,e){return t[At]!=="open"?(t.nextTick(e,new is("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},rZ=function(t){return Object.keys(t.supports.encodings).filter(e=>!!t.supports.encodings[e])}});var U6=z(Gu=>{"use strict";x();Gu.AbstractLevel=L6().AbstractLevel;Gu.AbstractSublevel=L6().AbstractSublevel;Gu.AbstractIterator=ac().AbstractIterator;Gu.AbstractKeyIterator=ac().AbstractKeyIterator;Gu.AbstractValueIterator=ac().AbstractValueIterator;Gu.AbstractChainedBatch=T6().AbstractChainedBatch});var _R=z((D_e,wR)=>{x();wR.exports=nZ;var iZ=P6();function nZ(t,e,r){if(typeof e!="number")throw new Error("second argument must be a Number");let i,n,o,s,f,c=!0,d;Array.isArray(t)?(i=[],o=n=t.length):(s=Object.keys(t),i={},o=n=s.length);function l(E){function b(){r&&r(E,i),r=null}c?iZ(b):b()}function h(E,b,T){if(i[E]=T,b&&(f=!0),--o===0||b)l(b);else if(!f&&d<n){let k;s?(k=s[d],d+=1,t[k](function(O,D){h(k,O,D)})):(k=d,d+=1,t[k](function(O,D){h(k,O,D)}))}}d=e,o?s?s.some(function(E,b){return t[E](function(T,k){h(E,T,k)}),b===e-1}):t.some(function(E,b){return E(function(T,k){h(b,T,k)}),b===e-1}):l(null),c=!1}});var F6=z((C_e,ER)=>{"use strict";x();ER.exports=function(e){let r=e.gte!==void 0?e.gte:e.gt!==void 0?e.gt:void 0,i=e.lte!==void 0?e.lte:e.lt!==void 0?e.lt:void 0,n=e.gte===void 0,o=e.lte===void 0;return r!==void 0&&i!==void 0?IDBKeyRange.bound(r,i,n,o):r!==void 0?IDBKeyRange.lowerBound(r,n):i!==void 0?IDBKeyRange.upperBound(i,o):null}});var z6=z((j_e,xR)=>{"use strict";x();var oZ=new TextEncoder;xR.exports=function(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):oZ.encode(t)}});var RR=z(TR=>{"use strict";x();var{AbstractIterator:sZ}=U6(),SR=F6(),Dv=z6(),Zs=Symbol("cache"),Fa=Symbol("finished"),Ln=Symbol("options"),za=Symbol("currentOptions"),Zu=Symbol("position"),$6=Symbol("location"),th=Symbol("first"),MR={},W6=class extends sZ{constructor(e,r,i){super(e,i),this[Zs]=[],this[Fa]=this.limit===0,this[Ln]=i,this[za]={...i},this[Zu]=void 0,this[$6]=r,this[th]=!0}_nextv(e,r,i){if(this[th]=!1,this[Fa])return this.nextTick(i,null,[]);if(this[Zs].length>0)return e=Math.min(e,this[Zs].length),this.nextTick(i,null,this[Zs].splice(0,e));this[Zu]!==void 0&&(this[Ln].reverse?(this[za].lt=this[Zu],this[za].lte=void 0):(this[za].gt=this[Zu],this[za].gte=void 0));let n;try{n=SR(this[za])}catch{return this[Fa]=!0,this.nextTick(i,null,[])}let o=this.db.db.transaction([this[$6]],"readonly"),s=o.objectStore(this[$6]),f=[];if(this[Ln].reverse){let c=!this[Ln].values&&s.openKeyCursor?"openKeyCursor":"openCursor";s[c](n,"prev").onsuccess=d=>{let l=d.target.result;if(l){let{key:h,value:E}=l;this[Zu]=h,f.push([this[Ln].keys&&h!==void 0?Dv(h):void 0,this[Ln].values&&E!==void 0?Dv(E):void 0]),f.length<e?l.continue():AR(o)}else this[Fa]=!0}}else{let c,d,l=()=>{if(c===void 0||d===void 0)return;let h=Math.max(c.length,d.length);h===0||e===1/0?this[Fa]=!0:this[Zu]=c[h-1],f.length=h;for(let E=0;E<h;E++){let b=c[E],T=d[E];f[E]=[this[Ln].keys&&b!==void 0?Dv(b):void 0,this[Ln].values&&T!==void 0?Dv(T):void 0]}AR(o)};this[Ln].keys||e<1/0?s.getAllKeys(n,e<1/0?e:void 0).onsuccess=h=>{c=h.target.result,l()}:(c=[],this.nextTick(l)),this[Ln].values?s.getAll(n,e<1/0?e:void 0).onsuccess=h=>{d=h.target.result,l()}:(d=[],this.nextTick(l))}o.onabort=()=>{i(o.error||new Error("aborted by user")),i=null},o.oncomplete=()=>{i(null,f),i=null}}_next(e){if(this[Zs].length>0){let[r,i]=this[Zs].shift();this.nextTick(e,null,r,i)}else if(this[Fa])this.nextTick(e);else{let r=Math.min(100,this.limit-this.count);this[th]&&(this[th]=!1,r=1),this._nextv(r,MR,(i,n)=>{if(i)return e(i);this[Zs]=n,this._next(e)})}}_all(e,r){this[th]=!1;let i=this[Zs].splice(0,this[Zs].length),n=this.limit-this.count-i.length;if(n<=0)return this.nextTick(r,null,i);this._nextv(n,MR,(o,s)=>{if(o)return r(o);i.length>0&&(s=i.concat(s)),r(null,s)})}_seek(e,r){this[th]=!0,this[Zs]=[],this[Fa]=!1,this[Zu]=void 0,this[za]={...this[Ln]};let i;try{i=SR(this[Ln])}catch{this[Fa]=!0;return}i!==null&&!i.includes(e)?this[Fa]=!0:this[Ln].reverse?this[za].lte=e:this[za].gte=e}};TR.Iterator=W6;function AR(t){typeof t.commit=="function"&&t.commit()}});var kR=z((U_e,PR)=>{"use strict";x();PR.exports=function(e,r,i,n,o){if(n.limit===0)return e.nextTick(o);let s=e.db.transaction([r],"readwrite"),f=s.objectStore(r),c=0;s.oncomplete=function(){o()},s.onabort=function(){o(s.error||new Error("aborted by user"))};let d=f.openKeyCursor?"openKeyCursor":"openCursor",l=n.reverse?"prev":"next";f[d](i,l).onsuccess=function(h){let E=h.target.result;E&&(f.delete(E.key).onsuccess=function(){(n.limit<=0||++c<n.limit)&&E.continue()})}}});var jR=z(OR=>{"use strict";x();var{AbstractLevel:aZ}=U6(),IR=ts(),fZ=_R(),{fromCallback:cZ}=F0(),{Iterator:uZ}=RR(),DR=z6(),dZ=kR(),lZ=F6(),CR="level-js-",ty=Symbol("idb"),K6=Symbol("namePrefix"),$a=Symbol("location"),H6=Symbol("version"),Yu=Symbol("store"),ry=Symbol("onComplete"),BR=Symbol("promise"),Bv=class extends aZ{constructor(e,r,i){if(typeof r=="function"||typeof i=="function")throw new IR("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{prefix:n,version:o,...s}=r||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},s),typeof e!="string")throw new Error("constructor requires a location string argument");this[$a]=e,this[K6]=n??CR,this[H6]=parseInt(o||1,10),this[ty]=null}get location(){return this[$a]}get namePrefix(){return this[K6]}get version(){return this[H6]}get db(){return this[ty]}get type(){return"browser-level"}_open(e,r){let i=indexedDB.open(this[K6]+this[$a],this[H6]);i.onerror=function(){r(i.error||new Error("unknown error"))},i.onsuccess=()=>{this[ty]=i.result,r()},i.onupgradeneeded=n=>{let o=n.target.result;o.objectStoreNames.contains(this[$a])||o.createObjectStore(this[$a])}}[Yu](e){return this[ty].transaction([this[$a]],e).objectStore(this[$a])}[ry](e,r){let i=e.transaction;i.onabort=function(){r(i.error||new Error("aborted by user"))},i.oncomplete=function(){r(null,e.result)}}_get(e,r,i){let n=this[Yu]("readonly"),o;try{o=n.get(e)}catch(s){return this.nextTick(i,s)}this[ry](o,function(s,f){if(s)return i(s);if(f===void 0)return i(new IR("Entry not found",{code:"LEVEL_NOT_FOUND"}));i(null,DR(f))})}_getMany(e,r,i){let n=this[Yu]("readonly"),o=e.map(s=>f=>{let c;try{c=n.get(s)}catch(d){return f(d)}c.onsuccess=()=>{let d=c.result;f(null,d===void 0?d:DR(d))},c.onerror=d=>{d.stopPropagation(),f(c.error)}});fZ(o,16,i)}_del(e,r,i){let n=this[Yu]("readwrite"),o;try{o=n.delete(e)}catch(s){return this.nextTick(i,s)}this[ry](o,i)}_put(e,r,i,n){let o=this[Yu]("readwrite"),s;try{s=o.put(r,e)}catch(f){return this.nextTick(n,f)}this[ry](s,n)}_iterator(e){return new uZ(this,this[$a],e)}_batch(e,r,i){let n=this[Yu]("readwrite"),o=n.transaction,s=0,f;o.onabort=function(){i(f||o.error||new Error("aborted by user"))},o.oncomplete=function(){i()};function c(){let d=e[s++],l=d.key,h;try{h=d.type==="del"?n.delete(l):n.put(d.value,l)}catch(E){f=E,o.abort();return}s<e.length?h.onsuccess=c:typeof o.commit=="function"&&o.commit()}c()}_clear(e,r){let i,n;try{i=lZ(e)}catch{return this.nextTick(r)}if(e.limit>=0)return dZ(this,this[$a],i,e,r);try{let o=this[Yu]("readwrite");n=i?o.delete(i):o.clear()}catch(o){return this.nextTick(r,o)}this[ry](n,r)}_close(e){this[ty].close(),this.nextTick(e)}};Bv.destroy=function(t,e,r){typeof e=="function"&&(r=e,e=CR),r=cZ(r,BR);let i=indexedDB.deleteDatabase(e+t);return i.onsuccess=function(){r()},i.onerror=function(n){r(n)},r[BR]};OR.BrowserLevel=Bv});var qR=z(NR=>{x();NR.Level=jR().BrowserLevel});var HR=z((I3e,G6)=>{"use strict";x();var AZ=Object.prototype.hasOwnProperty,an="~";function ny(){}Object.create&&(ny.prototype=Object.create(null),new ny().__proto__||(an=!1));function TZ(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function KR(t,e,r,i,n){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new TZ(r,i||t,n),s=an?an+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],o]:t._events[s].push(o):(t._events[s]=o,t._eventsCount++),t}function Nv(t,e){--t._eventsCount===0?t._events=new ny:delete t._events[e]}function Ki(){this._events=new ny,this._eventsCount=0}Ki.prototype.eventNames=function(){var e=[],r,i;if(this._eventsCount===0)return e;for(i in r=this._events)AZ.call(r,i)&&e.push(an?i.slice(1):i);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};Ki.prototype.listeners=function(e){var r=an?an+e:e,i=this._events[r];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=new Array(o);n<o;n++)s[n]=i[n].fn;return s};Ki.prototype.listenerCount=function(e){var r=an?an+e:e,i=this._events[r];return i?i.fn?1:i.length:0};Ki.prototype.emit=function(e,r,i,n,o,s){var f=an?an+e:e;if(!this._events[f])return!1;var c=this._events[f],d=arguments.length,l,h;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,r),!0;case 3:return c.fn.call(c.context,r,i),!0;case 4:return c.fn.call(c.context,r,i,n),!0;case 5:return c.fn.call(c.context,r,i,n,o),!0;case 6:return c.fn.call(c.context,r,i,n,o,s),!0}for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];c.fn.apply(c.context,l)}else{var E=c.length,b;for(h=0;h<E;h++)switch(c[h].once&&this.removeListener(e,c[h].fn,void 0,!0),d){case 1:c[h].fn.call(c[h].context);break;case 2:c[h].fn.call(c[h].context,r);break;case 3:c[h].fn.call(c[h].context,r,i);break;case 4:c[h].fn.call(c[h].context,r,i,n);break;default:if(!l)for(b=1,l=new Array(d-1);b<d;b++)l[b-1]=arguments[b];c[h].fn.apply(c[h].context,l)}}return!0};Ki.prototype.on=function(e,r,i){return KR(this,e,r,i,!1)};Ki.prototype.once=function(e,r,i){return KR(this,e,r,i,!0)};Ki.prototype.removeListener=function(e,r,i,n){var o=an?an+e:e;if(!this._events[o])return this;if(!r)return Nv(this,o),this;var s=this._events[o];if(s.fn)s.fn===r&&(!n||s.once)&&(!i||s.context===i)&&Nv(this,o);else{for(var f=0,c=[],d=s.length;f<d;f++)(s[f].fn!==r||n&&!s[f].once||i&&s[f].context!==i)&&c.push(s[f]);c.length?this._events[o]=c.length===1?c[0]:c:Nv(this,o)}return this};Ki.prototype.removeAllListeners=function(e){var r;return e?(r=an?an+e:e,this._events[r]&&Nv(this,r)):(this._events=new ny,this._eventsCount=0),this};Ki.prototype.off=Ki.prototype.removeListener;Ki.prototype.addListener=Ki.prototype.on;Ki.prefixed=an;Ki.EventEmitter=Ki;typeof G6<"u"&&(G6.exports=Ki)});var Qr=z((X6e,vP)=>{"use strict";x();vP.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array}});var Ys=z((t4e,i4)=>{"use strict";x();var VZ=er(),GZ=Object.getPrototypeOf(async function(){}).constructor,bP=globalThis.Blob||VZ.Blob,ZZ=typeof bP<"u"?function(e){return e instanceof bP}:function(e){return!1},r4=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let i=0;i<e.length;i++)r+=`    ${e[i].stack}
`;super(r),this.name="AggregateError",this.errors=e}};i4.exports={AggregateError:r4,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((i,n)=>{t=i,e=n}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((i,...n)=>i?r(i):e(...n))})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,i]){let n=e.shift();return i==="f"?n.toFixed(6):i==="j"?JSON.stringify(n):i==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction(t){return t instanceof GZ},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:ZZ};i4.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Gv=z((i4e,Vv)=>{"use strict";x();var{AbortController:wP,AbortSignal:YZ}=typeof self<"u"?self:typeof window<"u"?window:void 0;Vv.exports=wP;Vv.exports.AbortSignal=YZ;Vv.exports.default=wP});var fn=z((o4e,xP)=>{"use strict";x();var{format:JZ,inspect:Zv,AggregateError:QZ}=Ys(),XZ=globalThis.AggregateError||QZ,eY=Symbol("kIsNodeError"),tY=["string","function","number","object","Function","Object","boolean","bigint","symbol"],rY=/^([A-Z][a-z0-9]*)+$/,iY="__node_internal_",Yv={};function td(t,e){if(!t)throw new Yv.ERR_INTERNAL_ASSERTION(e)}function _P(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function nY(t,e,r){if(typeof e=="function")return td(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let i=(e.match(/%[dfijoOs]/g)||[]).length;return td(i===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),r.length===0?e:JZ(e,...r)}function ji(t,e,r){r||(r=Error);class i extends r{constructor(...o){super(nY(t,e,o))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=t,i.prototype[eY]=!0,Yv[t]=i}function EP(t){let e=iY+t.name;return Object.defineProperty(t,"name",{value:e}),t}function oY(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new XZ([e,t],e.message);return r.code=e.code,r}return t||e}var n4=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Yv.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};ji("ERR_ASSERTION","%s",Error);ji("ERR_INVALID_ARG_TYPE",(t,e,r)=>{td(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let i="The ";t.endsWith(" argument")?i+=`${t} `:i+=`"${t}" ${t.includes(".")?"property":"argument"} `,i+="must be ";let n=[],o=[],s=[];for(let c of e)td(typeof c=="string","All expected entries have to be of type string"),tY.includes(c)?n.push(c.toLowerCase()):rY.test(c)?o.push(c):(td(c!=="object",'The value "object" should be written as "Object"'),s.push(c));if(o.length>0){let c=n.indexOf("object");c!==-1&&(n.splice(n,c,1),o.push("Object"))}if(n.length>0){switch(n.length){case 1:i+=`of type ${n[0]}`;break;case 2:i+=`one of type ${n[0]} or ${n[1]}`;break;default:{let c=n.pop();i+=`one of type ${n.join(", ")}, or ${c}`}}(o.length>0||s.length>0)&&(i+=" or ")}if(o.length>0){switch(o.length){case 1:i+=`an instance of ${o[0]}`;break;case 2:i+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let c=o.pop();i+=`an instance of ${o.join(", ")}, or ${c}`}}s.length>0&&(i+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(i+="an "),i+=`${s[0]}`;break;case 2:i+=`one of ${s[0]} or ${s[1]}`;break;default:{let c=s.pop();i+=`one of ${s.join(", ")}, or ${c}`}}if(r==null)i+=`. Received ${r}`;else if(typeof r=="function"&&r.name)i+=`. Received function ${r.name}`;else if(typeof r=="object"){var f;if((f=r.constructor)!==null&&f!==void 0&&f.name)i+=`. Received an instance of ${r.constructor.name}`;else{let c=Zv(r,{depth:-1});i+=`. Received ${c}`}}else{let c=Zv(r,{colors:!1});c.length>25&&(c=`${c.slice(0,25)}...`),i+=`. Received type ${typeof r} (${c})`}return i},TypeError);ji("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let i=Zv(e);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${i}`},TypeError);ji("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var i;let n=r!=null&&(i=r.constructor)!==null&&i!==void 0&&i.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${n}.`},TypeError);ji("ERR_MISSING_ARGS",(...t)=>{td(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(i=>`"${i}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let i=t.pop();e+=`The ${t.join(", ")}, and ${i} arguments`}break}return`${e} must be specified`},TypeError);ji("ERR_OUT_OF_RANGE",(t,e,r)=>{td(e,'Missing "range" argument');let i;return Number.isInteger(r)&&Math.abs(r)>2**32?i=_P(String(r)):typeof r=="bigint"?(i=String(r),(r>2n**32n||r<-(2n**32n))&&(i=_P(i)),i+="n"):i=Zv(r),`The value of "${t}" is out of range. It must be ${e}. Received ${i}`},RangeError);ji("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);ji("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);ji("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);ji("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);ji("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);ji("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ji("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);ji("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);ji("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);ji("ERR_STREAM_WRITE_AFTER_END","write after end",Error);ji("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);xP.exports={AbortError:n4,aggregateTwoErrors:EP(oY),hideStackFrames:EP,codes:Yv}});var py=z((a4e,IP)=>{"use strict";x();var{ArrayIsArray:AP,ArrayPrototypeIncludes:TP,ArrayPrototypeJoin:RP,ArrayPrototypeMap:sY,NumberIsInteger:s4,NumberIsNaN:aY,NumberMAX_SAFE_INTEGER:fY,NumberMIN_SAFE_INTEGER:cY,NumberParseInt:uY,ObjectPrototypeHasOwnProperty:dY,RegExpPrototypeExec:lY,String:hY,StringPrototypeToUpperCase:pY,StringPrototypeTrim:yY}=Qr(),{hideStackFrames:as,codes:{ERR_SOCKET_BAD_PORT:mY,ERR_INVALID_ARG_TYPE:gn,ERR_INVALID_ARG_VALUE:Jv,ERR_OUT_OF_RANGE:rd,ERR_UNKNOWN_SIGNAL:SP}}=fn(),{normalizeEncoding:gY}=Ys(),{isAsyncFunction:vY,isArrayBufferView:bY}=Ys().types,MP={};function wY(t){return t===(t|0)}function _Y(t){return t===t>>>0}var EY=/^[0-7]+$/,xY="must be a 32-bit unsigned integer or an octal string";function SY(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(lY(EY,t)===null)throw new Jv(e,t,xY);t=uY(t,8)}return PP(t,e),t}var MY=as((t,e,r=cY,i=fY)=>{if(typeof t!="number")throw new gn(e,"number",t);if(!s4(t))throw new rd(e,"an integer",t);if(t<r||t>i)throw new rd(e,`>= ${r} && <= ${i}`,t)}),AY=as((t,e,r=-2147483648,i=2147483647)=>{if(typeof t!="number")throw new gn(e,"number",t);if(!s4(t))throw new rd(e,"an integer",t);if(t<r||t>i)throw new rd(e,`>= ${r} && <= ${i}`,t)}),PP=as((t,e,r=!1)=>{if(typeof t!="number")throw new gn(e,"number",t);if(!s4(t))throw new rd(e,"an integer",t);let i=r?1:0,n=4294967295;if(t<i||t>n)throw new rd(e,`>= ${i} && <= ${n}`,t)});function kP(t,e){if(typeof t!="string")throw new gn(e,"string",t)}function TY(t,e,r=void 0,i){if(typeof t!="number")throw new gn(e,"number",t);if(r!=null&&t<r||i!=null&&t>i||(r!=null||i!=null)&&aY(t))throw new rd(e,`${r!=null?`>= ${r}`:""}${r!=null&&i!=null?" && ":""}${i!=null?`<= ${i}`:""}`,t)}var RY=as((t,e,r)=>{if(!TP(r,t)){let n="must be one of: "+RP(sY(r,o=>typeof o=="string"?`'${o}'`:hY(o)),", ");throw new Jv(e,t,n)}});function PY(t,e){if(typeof t!="boolean")throw new gn(e,"boolean",t)}function o4(t,e,r){return t==null||!dY(t,e)?r:t[e]}var kY=as((t,e,r=null)=>{let i=o4(r,"allowArray",!1),n=o4(r,"allowFunction",!1);if(!o4(r,"nullable",!1)&&t===null||!i&&AP(t)||typeof t!="object"&&(!n||typeof t!="function"))throw new gn(e,"Object",t)}),IY=as((t,e,r=0)=>{if(!AP(t))throw new gn(e,"Array",t);if(t.length<r){let i=`must be longer than ${r}`;throw new Jv(e,t,i)}});function DY(t,e="signal"){if(kP(t,e),MP[t]===void 0)throw MP[pY(t)]!==void 0?new SP(t+" (signals must use all capital letters)"):new SP(t)}var BY=as((t,e="buffer")=>{if(!bY(t))throw new gn(e,["Buffer","TypedArray","DataView"],t)});function CY(t,e){let r=gY(e),i=t.length;if(r==="hex"&&i%2!==0)throw new Jv("encoding",e,`is invalid for data of length ${i}`)}function OY(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&yY(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new mY(e,t,r);return t|0}var jY=as((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new gn(e,"AbortSignal",t)}),NY=as((t,e)=>{if(typeof t!="function")throw new gn(e,"Function",t)}),qY=as((t,e)=>{if(typeof t!="function"||vY(t))throw new gn(e,"Function",t)}),LY=as((t,e)=>{if(t!==void 0)throw new gn(e,"undefined",t)});function UY(t,e,r){if(!TP(r,t))throw new gn(e,`('${RP(r,"|")}')`,t)}IP.exports={isInt32:wY,isUint32:_Y,parseFileMode:SY,validateArray:IY,validateBoolean:PY,validateBuffer:BY,validateEncoding:CY,validateFunction:NY,validateInt32:AY,validateInteger:MY,validateNumber:TY,validateObject:kY,validateOneOf:RY,validatePlainFunction:qY,validatePort:OY,validateSignalName:DY,validateString:kP,validateUint32:PP,validateUndefined:LY,validateUnion:UY,validateAbortSignal:jY}});var pc=z((c4e,$P)=>{"use strict";x();var{Symbol:Qv,SymbolAsyncIterator:DP,SymbolIterator:BP}=Qr(),CP=Qv("kDestroyed"),OP=Qv("kIsErrored"),a4=Qv("kIsReadable"),jP=Qv("kIsDisturbed");function Xv(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function eb(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function FY(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function id(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function zY(t,e){return t==null?!1:e===!0?typeof t[DP]=="function":e===!1?typeof t[BP]=="function":typeof t[DP]=="function"||typeof t[BP]=="function"}function tb(t){if(!id(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return!!(t.destroyed||t[CP]||i!=null&&i.destroyed)}function NP(t){if(!eb(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function $Y(t,e){if(!eb(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function WY(t){if(!Xv(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function qP(t,e){if(!Xv(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function LP(t){return t&&t[a4]!=null?t[a4]:typeof t?.readable!="boolean"?null:tb(t)?!1:Xv(t)&&t.readable&&!qP(t)}function UP(t){return typeof t?.writable!="boolean"?null:tb(t)?!1:eb(t)&&t.writable&&!NP(t)}function KY(t,e){return id(t)?tb(t)?!0:!(e?.readable!==!1&&LP(t)||e?.writable!==!1&&UP(t)):null}function HY(t){var e,r;return id(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function VY(t){var e,r;return id(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function GY(t){if(!id(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&FP(t)?t._closed:null}function FP(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function zP(t){return typeof t._sent100=="boolean"&&FP(t)}function ZY(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function YY(t){if(!id(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return!i&&zP(t)||!!(i&&i.autoDestroy&&i.emitClose&&i.closed===!1)}function JY(t){var e;return!!(t&&((e=t[jP])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function QY(t){var e,r,i,n,o,s,f,c,d,l;return!!(t&&((e=(r=(i=(n=(o=(s=t[OP])!==null&&s!==void 0?s:t.readableErrored)!==null&&o!==void 0?o:t.writableErrored)!==null&&n!==void 0?n:(f=t._readableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&i!==void 0?i:(c=t._writableState)===null||c===void 0?void 0:c.errorEmitted)!==null&&r!==void 0?r:(d=t._readableState)===null||d===void 0?void 0:d.errored)!==null&&e!==void 0?e:!((l=t._writableState)===null||l===void 0)&&l.errored))}$P.exports={kDestroyed:CP,isDisturbed:JY,kIsDisturbed:jP,isErrored:QY,kIsErrored:OP,isReadable:LP,kIsReadable:a4,isClosed:GY,isDestroyed:tb,isDuplexNodeStream:FY,isFinished:KY,isIterable:zY,isReadableNodeStream:Xv,isReadableEnded:WY,isReadableFinished:qP,isReadableErrored:VY,isNodeStream:id,isWritable:UP,isWritableNodeStream:eb,isWritableEnded:NP,isWritableFinished:$Y,isWritableErrored:HY,isServerRequest:ZY,isServerResponse:zP,willEmitClose:YY}});var yc=z((d4e,c4)=>{x();var fh=Sa(),{AbortError:XY,codes:eJ}=fn(),{ERR_INVALID_ARG_TYPE:tJ,ERR_STREAM_PREMATURE_CLOSE:WP}=eJ,{kEmptyObject:KP,once:HP}=Ys(),{validateAbortSignal:rJ,validateFunction:iJ,validateObject:nJ}=py(),{Promise:oJ}=Qr(),{isClosed:sJ,isReadable:VP,isReadableNodeStream:f4,isReadableFinished:GP,isReadableErrored:aJ,isWritable:ZP,isWritableNodeStream:YP,isWritableFinished:JP,isWritableErrored:fJ,isNodeStream:cJ,willEmitClose:uJ}=pc();function dJ(t){return t.setHeader&&typeof t.abort=="function"}var lJ=()=>{};function QP(t,e,r){var i,n;arguments.length===2?(r=e,e=KP):e==null?e=KP:nJ(e,"options"),iJ(r,"callback"),rJ(e.signal,"options.signal"),r=HP(r);let o=(i=e.readable)!==null&&i!==void 0?i:f4(t),s=(n=e.writable)!==null&&n!==void 0?n:YP(t);if(!cJ(t))throw new tJ("stream","Stream",t);let f=t._writableState,c=t._readableState,d=()=>{t.writable||E()},l=uJ(t)&&f4(t)===o&&YP(t)===s,h=JP(t,!1),E=()=>{h=!0,t.destroyed&&(l=!1),!(l&&(!t.readable||o))&&(!o||b)&&r.call(t)},b=GP(t,!1),T=()=>{b=!0,t.destroyed&&(l=!1),!(l&&(!t.writable||s))&&(!s||h)&&r.call(t)},k=U=>{r.call(t,U)},O=sJ(t),D=()=>{O=!0;let U=fJ(t)||aJ(t);if(U&&typeof U!="boolean")return r.call(t,U);if(o&&!b&&f4(t,!0)&&!GP(t,!1))return r.call(t,new WP);if(s&&!h&&!JP(t,!1))return r.call(t,new WP);r.call(t)},I=()=>{t.req.on("finish",E)};dJ(t)?(t.on("complete",E),l||t.on("abort",D),t.req?I():t.on("request",I)):s&&!f&&(t.on("end",d),t.on("close",d)),!l&&typeof t.aborted=="boolean"&&t.on("aborted",D),t.on("end",T),t.on("finish",E),e.error!==!1&&t.on("error",k),t.on("close",D),O?fh.nextTick(D):f!=null&&f.errorEmitted||c!=null&&c.errorEmitted?l||fh.nextTick(D):(!o&&(!l||VP(t))&&(h||ZP(t)===!1)||!s&&(!l||ZP(t))&&(b||VP(t)===!1)||c&&t.req&&t.aborted)&&fh.nextTick(D);let L=()=>{r=lJ,t.removeListener("aborted",D),t.removeListener("complete",E),t.removeListener("abort",D),t.removeListener("request",I),t.req&&t.req.removeListener("finish",E),t.removeListener("end",d),t.removeListener("close",d),t.removeListener("finish",E),t.removeListener("end",T),t.removeListener("error",k),t.removeListener("close",D)};if(e.signal&&!O){let U=()=>{let $=r;L(),$.call(t,new XY(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)fh.nextTick(U);else{let $=r;r=HP((...K)=>{e.signal.removeEventListener("abort",U),$.apply(t,K)}),e.signal.addEventListener("abort",U)}}return L}function hJ(t,e){return new oJ((r,i)=>{QP(t,e,n=>{n?i(n):r()})})}c4.exports=QP;c4.exports.finished=hJ});var sk=z((h4e,l4)=>{"use strict";x();var rk=globalThis.AbortController||Gv().AbortController,{codes:{ERR_INVALID_ARG_TYPE:yy,ERR_MISSING_ARGS:pJ,ERR_OUT_OF_RANGE:yJ},AbortError:Js}=fn(),{validateAbortSignal:ch,validateInteger:mJ,validateObject:uh}=py(),gJ=Qr().Symbol("kWeak"),{finished:vJ}=yc(),{ArrayPrototypePush:bJ,MathFloor:wJ,Number:_J,NumberIsNaN:EJ,Promise:XP,PromiseReject:ek,PromisePrototypeThen:xJ,Symbol:ik}=Qr(),rb=ik("kEmpty"),tk=ik("kEof");function ib(t,e){if(typeof t!="function")throw new yy("fn",["Function","AsyncFunction"],t);e!=null&&uh(e,"options"),e?.signal!=null&&ch(e.signal,"options.signal");let r=1;return e?.concurrency!=null&&(r=wJ(e.concurrency)),mJ(r,"concurrency",1),async function*(){var n,o;let s=new rk,f=this,c=[],d=s.signal,l={signal:d},h=()=>s.abort();e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted&&h(),e==null||(o=e.signal)===null||o===void 0||o.addEventListener("abort",h);let E,b,T=!1;function k(){T=!0}async function O(){try{for await(let L of f){var D;if(T)return;if(d.aborted)throw new Js;try{L=t(L,l)}catch(U){L=ek(U)}L!==rb&&(typeof((D=L)===null||D===void 0?void 0:D.catch)=="function"&&L.catch(k),c.push(L),E&&(E(),E=null),!T&&c.length&&c.length>=r&&await new XP(U=>{b=U}))}c.push(tk)}catch(L){let U=ek(L);xJ(U,void 0,k),c.push(U)}finally{var I;T=!0,E&&(E(),E=null),e==null||(I=e.signal)===null||I===void 0||I.removeEventListener("abort",h)}}O();try{for(;;){for(;c.length>0;){let D=await c[0];if(D===tk)return;if(d.aborted)throw new Js;D!==rb&&(yield D),c.shift(),b&&(b(),b=null)}await new XP(D=>{E=D})}}finally{s.abort(),T=!0,b&&(b(),b=null)}}.call(this)}function SJ(t=void 0){return t!=null&&uh(t,"options"),t?.signal!=null&&ch(t.signal,"options.signal"),async function*(){let r=0;for await(let n of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new Js({cause:t.signal.reason});yield[r++,n]}}.call(this)}async function nk(t,e=void 0){for await(let r of d4.call(this,t,e))return!0;return!1}async function MJ(t,e=void 0){if(typeof t!="function")throw new yy("fn",["Function","AsyncFunction"],t);return!await nk.call(this,async(...r)=>!await t(...r),e)}async function AJ(t,e){for await(let r of d4.call(this,t,e))return r}async function TJ(t,e){if(typeof t!="function")throw new yy("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n),rb}for await(let i of ib.call(this,r,e));}function d4(t,e){if(typeof t!="function")throw new yy("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n)?i:rb}return ib.call(this,r,e)}var u4=class extends pJ{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function RJ(t,e,r){var i;if(typeof t!="function")throw new yy("reducer",["Function","AsyncFunction"],t);r!=null&&uh(r,"options"),r?.signal!=null&&ch(r.signal,"options.signal");let n=arguments.length>1;if(r!=null&&(i=r.signal)!==null&&i!==void 0&&i.aborted){let d=new Js(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await vJ(this.destroy(d)),d}let o=new rk,s=o.signal;if(r!=null&&r.signal){let d={once:!0,[gJ]:this};r.signal.addEventListener("abort",()=>o.abort(),d)}let f=!1;try{for await(let d of this){var c;if(f=!0,r!=null&&(c=r.signal)!==null&&c!==void 0&&c.aborted)throw new Js;n?e=await t(e,d,{signal:s}):(e=d,n=!0)}if(!f&&!n)throw new u4}finally{o.abort()}return e}async function PJ(t){t!=null&&uh(t,"options"),t?.signal!=null&&ch(t.signal,"options.signal");let e=[];for await(let i of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Js(void 0,{cause:t.signal.reason});bJ(e,i)}return e}function kJ(t,e){let r=ib.call(this,t,e);return async function*(){for await(let n of r)yield*n}.call(this)}function ok(t){if(t=_J(t),EJ(t))return 0;if(t<0)throw new yJ("number",">= 0",t);return t}function IJ(t,e=void 0){return e!=null&&uh(e,"options"),e?.signal!=null&&ch(e.signal,"options.signal"),t=ok(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Js;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Js;t--<=0&&(yield o)}}.call(this)}function DJ(t,e=void 0){return e!=null&&uh(e,"options"),e?.signal!=null&&ch(e.signal,"options.signal"),t=ok(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Js;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Js;if(t-- >0)yield o;else return}}.call(this)}l4.exports.streamReturningOperators={asIndexedPairs:SJ,drop:IJ,filter:d4,flatMap:kJ,map:ib,take:DJ};l4.exports.promiseReturningOperators={every:MJ,forEach:TJ,reduce:RJ,toArray:PJ,some:nk,find:AJ}});var nd=z((y4e,pk)=>{"use strict";x();var mc=Sa(),{aggregateTwoErrors:BJ,codes:{ERR_MULTIPLE_CALLBACK:CJ},AbortError:OJ}=fn(),{Symbol:ck}=Qr(),{kDestroyed:jJ,isDestroyed:NJ,isFinished:qJ,isServerRequest:LJ}=pc(),uk=ck("kDestroy"),h4=ck("kConstruct");function dk(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function UJ(t,e){let r=this._readableState,i=this._writableState,n=i||r;return i&&i.destroyed||r&&r.destroyed?(typeof e=="function"&&e(),this):(dk(t,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),n.constructed?ak(this,t,e):this.once(uk,function(o){ak(this,BJ(o,t),e)}),this)}function ak(t,e,r){let i=!1;function n(o){if(i)return;i=!0;let s=t._readableState,f=t._writableState;dk(o,f,s),f&&(f.closed=!0),s&&(s.closed=!0),typeof r=="function"&&r(o),o?mc.nextTick(FJ,t,o):mc.nextTick(lk,t)}try{t._destroy(e||null,n)}catch(o){n(o)}}function FJ(t,e){p4(t,e),lk(t)}function lk(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r&&r.emitClose||e&&e.emitClose)&&t.emit("close")}function p4(t,e){let r=t._readableState,i=t._writableState;i&&i.errorEmitted||r&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function zJ(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function y4(t,e,r){let i=t._readableState,n=t._writableState;if(n&&n.destroyed||i&&i.destroyed)return this;i&&i.autoDestroy||n&&n.autoDestroy?t.destroy(e):e&&(e.stack,n&&!n.errored&&(n.errored=e),i&&!i.errored&&(i.errored=e),r?mc.nextTick(p4,t,e):p4(t,e))}function $J(t,e){if(typeof t._construct!="function")return;let r=t._readableState,i=t._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),t.once(h4,e),!(t.listenerCount(h4)>1)&&mc.nextTick(WJ,t)}function WJ(t){let e=!1;function r(i){if(e){y4(t,i??new CJ);return}e=!0;let n=t._readableState,o=t._writableState,s=o||n;n&&(n.constructed=!0),o&&(o.constructed=!0),s.destroyed?t.emit(uk,i):i?y4(t,i,!0):mc.nextTick(KJ,t)}try{t._construct(r)}catch(i){r(i)}}function KJ(t){t.emit(h4)}function fk(t){return t&&t.setHeader&&typeof t.abort=="function"}function hk(t){t.emit("close")}function HJ(t,e){t.emit("error",e),mc.nextTick(hk,t)}function VJ(t,e){!t||NJ(t)||(!e&&!qJ(t)&&(e=new OJ),LJ(t)?(t.socket=null,t.destroy(e)):fk(t)?t.abort():fk(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?mc.nextTick(HJ,t,e):mc.nextTick(hk,t),t.destroyed||(t[jJ]=!0))}pk.exports={construct:$J,destroyer:VJ,destroy:UJ,undestroy:zJ,errorOrDestroy:y4}});var sb=z((g4e,mk)=>{"use strict";x();var{ArrayIsArray:GJ,ObjectSetPrototypeOf:yk}=Qr(),{EventEmitter:nb}=oo();function ob(t){nb.call(this,t)}yk(ob.prototype,nb.prototype);yk(ob,nb);ob.prototype.pipe=function(t,e){let r=this;function i(l){t.writable&&t.write(l)===!1&&r.pause&&r.pause()}r.on("data",i);function n(){r.readable&&r.resume&&r.resume()}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",f));let o=!1;function s(){o||(o=!0,t.end())}function f(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function c(l){d(),nb.listenerCount(this,"error")===0&&this.emit("error",l)}m4(r,"error",c),m4(t,"error",c);function d(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",s),r.removeListener("close",f),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",d),r.removeListener("close",d),t.removeListener("close",d)}return r.on("end",d),r.on("close",d),t.on("close",d),t.emit("pipe",r),t};function m4(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):GJ(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}mk.exports={Stream:ob,prependListener:m4}});var fb=z((b4e,ab)=>{"use strict";x();var{AbortError:ZJ,codes:YJ}=fn(),JJ=yc(),{ERR_INVALID_ARG_TYPE:gk}=YJ,QJ=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new gk(e,"AbortSignal",t)};function XJ(t){return!!(t&&typeof t.pipe=="function")}ab.exports.addAbortSignal=function(e,r){if(QJ(e,"signal"),!XJ(r))throw new gk("stream","stream.Stream",r);return ab.exports.addAbortSignalNoValidate(e,r)};ab.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=()=>{e.destroy(new ZJ(void 0,{cause:t.reason}))};return t.aborted?r():(t.addEventListener("abort",r),JJ(e,()=>t.removeEventListener("abort",r))),e}});var wk=z((E4e,bk)=>{"use strict";x();var{StringPrototypeSlice:vk,SymbolIterator:eQ,TypedArrayPrototypeSet:cb,Uint8Array:tQ}=Qr(),{Buffer:g4}=er(),{inspect:rQ}=Ys();bk.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,i=""+r.data;for(;(r=r.next)!==null;)i+=e+r.data;return i}concat(e){if(this.length===0)return g4.alloc(0);let r=g4.allocUnsafe(e>>>0),i=this.head,n=0;for(;i;)cb(r,i.data,n),n+=i.data.length,i=i.next;return r}consume(e,r){let i=this.head.data;if(e<i.length){let n=i.slice(0,e);return this.head.data=i.slice(e),n}return e===i.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[eQ](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",i=this.head,n=0;do{let o=i.data;if(e>o.length)r+=o,e-=o.length;else{e===o.length?(r+=o,++n,i.next?this.head=i.next:this.head=this.tail=null):(r+=vk(o,0,e),this.head=i,i.data=vk(o,e));break}++n}while((i=i.next)!==null);return this.length-=n,r}_getBuffer(e){let r=g4.allocUnsafe(e),i=e,n=this.head,o=0;do{let s=n.data;if(e>s.length)cb(r,s,i-e),e-=s.length;else{e===s.length?(cb(r,s,i-e),++o,n.next?this.head=n.next:this.head=this.tail=null):(cb(r,new tQ(s.buffer,s.byteOffset,e),i-e),this.head=n,n.data=s.slice(e));break}++o}while((n=n.next)!==null);return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return rQ(this,{...r,depth:0,customInspect:!1})}}});var ub=z((S4e,Ek)=>{"use strict";x();var{MathFloor:iQ,NumberIsInteger:nQ}=Qr(),{ERR_INVALID_ARG_VALUE:oQ}=fn().codes;function sQ(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function _k(t){return t?16:16*1024}function aQ(t,e,r,i){let n=sQ(e,i,r);if(n!=null){if(!nQ(n)||n<0){let o=i?`options.${r}`:"options.highWaterMark";throw new oQ(o,n)}return iQ(n)}return _k(t.objectMode)}Ek.exports={getHighWaterMark:aQ,getDefaultHighWaterMark:_k}});var Mk=z((v4,Sk)=>{x();var db=er(),Qs=db.Buffer;function xk(t,e){for(var r in t)e[r]=t[r]}Qs.from&&Qs.alloc&&Qs.allocUnsafe&&Qs.allocUnsafeSlow?Sk.exports=db:(xk(db,v4),v4.Buffer=od);function od(t,e,r){return Qs(t,e,r)}od.prototype=Object.create(Qs.prototype);xk(Qs,od);od.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Qs(t,e,r)};od.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Qs(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};od.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Qs(t)};od.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return db.SlowBuffer(t)}});var Ka=z(Tk=>{"use strict";x();var w4=Mk().Buffer,Ak=w4.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function fQ(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function cQ(t){var e=fQ(t);if(typeof e!="string"&&(w4.isEncoding===Ak||!Ak(t)))throw new Error("Unknown encoding: "+t);return e||t}Tk.StringDecoder=my;function my(t){this.encoding=cQ(t);var e;switch(this.encoding){case"utf16le":this.text=yQ,this.end=mQ,e=4;break;case"utf8":this.fillLast=lQ,e=4;break;case"base64":this.text=gQ,this.end=vQ,e=3;break;default:this.write=bQ,this.end=wQ;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=w4.allocUnsafe(e)}my.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};my.prototype.end=pQ;my.prototype.text=hQ;my.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function b4(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function uQ(t,e,r){var i=e.length-1;if(i<r)return 0;var n=b4(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=b4(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=b4(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function dQ(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function lQ(t){var e=this.lastTotal-this.lastNeed,r=dQ(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function hQ(t,e){var r=uQ(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function pQ(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function yQ(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function mQ(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function gQ(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function vQ(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function bQ(t){return t.toString(this.encoding)}function wQ(t){return t&&t.length?this.write(t):""}});var _4=z((P4e,Ik)=>{"use strict";x();var Rk=Sa(),{PromisePrototypeThen:_Q,SymbolAsyncIterator:Pk,SymbolIterator:kk}=Qr(),{Buffer:EQ}=er(),{ERR_INVALID_ARG_TYPE:xQ,ERR_STREAM_NULL_VALUES:SQ}=fn().codes;function MQ(t,e,r){let i;if(typeof e=="string"||e instanceof EQ)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let n;if(e&&e[Pk])n=!0,i=e[Pk]();else if(e&&e[kk])n=!1,i=e[kk]();else throw new xQ("iterable",["Iterable"],e);let o=new t({objectMode:!0,highWaterMark:1,...r}),s=!1;o._read=function(){s||(s=!0,c())},o._destroy=function(d,l){_Q(f(d),()=>Rk.nextTick(l,d),h=>Rk.nextTick(l,h||d))};async function f(d){let l=d!=null,h=typeof i.throw=="function";if(l&&h){let{value:E,done:b}=await i.throw(d);if(await E,b)return}if(typeof i.return=="function"){let{value:E}=await i.return();await E}}async function c(){for(;;){try{let{value:d,done:l}=n?await i.next():i.next();if(l)o.push(null);else{let h=d&&typeof d.then=="function"?await d:d;if(h===null)throw s=!1,new SQ;if(o.push(h))continue;s=!1}}catch(d){o.destroy(d)}break}}return o}Ik.exports=MQ});var gy=z((I4e,Wk)=>{x();var fs=Sa(),{ArrayPrototypeIndexOf:AQ,NumberIsInteger:TQ,NumberIsNaN:RQ,NumberParseInt:PQ,ObjectDefineProperties:Ck,ObjectKeys:kQ,ObjectSetPrototypeOf:Ok,Promise:IQ,SafeSet:DQ,SymbolAsyncIterator:BQ,Symbol:CQ}=Qr();Wk.exports=vt;vt.ReadableState=T4;var{EventEmitter:OQ}=oo(),{Stream:gc,prependListener:jQ}=sb(),{Buffer:E4}=er(),{addAbortSignal:NQ}=fb(),qQ=yc(),Pt=Ys().debuglog("stream",t=>{Pt=t}),LQ=wk(),lh=nd(),{getHighWaterMark:UQ,getDefaultHighWaterMark:FQ}=ub(),{aggregateTwoErrors:Dk,codes:{ERR_INVALID_ARG_TYPE:zQ,ERR_METHOD_NOT_IMPLEMENTED:$Q,ERR_OUT_OF_RANGE:WQ,ERR_STREAM_PUSH_AFTER_EOF:KQ,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:HQ}}=fn(),{validateObject:VQ}=py(),sd=CQ("kPaused"),{StringDecoder:jk}=Ka(),GQ=_4();Ok(vt.prototype,gc.prototype);Ok(vt,gc);var x4=()=>{},{errorOrDestroy:dh}=lh;function T4(t,e,r){typeof r!="boolean"&&(r=e instanceof Xs()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.readableObjectMode)),this.highWaterMark=t?UQ(this,t,"readableHighWaterMark",r):FQ(!1),this.buffer=new LQ,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[sd]=null,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new jk(t.encoding),this.encoding=t.encoding)}function vt(t){if(!(this instanceof vt))return new vt(t);let e=this instanceof Xs();this._readableState=new T4(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&NQ(t.signal,this)),gc.call(this,t),lh.construct(this,()=>{this._readableState.needReadable&&lb(this,this._readableState)})}vt.prototype.destroy=lh.destroy;vt.prototype._undestroy=lh.undestroy;vt.prototype._destroy=function(t,e){e(t)};vt.prototype[OQ.captureRejectionSymbol]=function(t){this.destroy(t)};vt.prototype.push=function(t,e){return Nk(this,t,e,!1)};vt.prototype.unshift=function(t,e){return Nk(this,t,e,!0)};function Nk(t,e,r,i){Pt("readableAddChunk",e);let n=t._readableState,o;if(n.objectMode||(typeof e=="string"?(r=r||n.defaultEncoding,n.encoding!==r&&(i&&n.encoding?e=E4.from(e,r).toString(n.encoding):(e=E4.from(e,r),r=""))):e instanceof E4?r="":gc._isUint8Array(e)?(e=gc._uint8ArrayToBuffer(e),r=""):e!=null&&(o=new zQ("chunk",["string","Buffer","Uint8Array"],e))),o)dh(t,o);else if(e===null)n.reading=!1,JQ(t,n);else if(n.objectMode||e&&e.length>0)if(i)if(n.endEmitted)dh(t,new HQ);else{if(n.destroyed||n.errored)return!1;S4(t,n,e,!0)}else if(n.ended)dh(t,new KQ);else{if(n.destroyed||n.errored)return!1;n.reading=!1,n.decoder&&!r?(e=n.decoder.write(e),n.objectMode||e.length!==0?S4(t,n,e,!1):lb(t,n)):S4(t,n,e,!1)}else i||(n.reading=!1,lb(t,n));return!n.ended&&(n.length<n.highWaterMark||n.length===0)}function S4(t,e,r,i){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&hb(t)),lb(t,e)}vt.prototype.isPaused=function(){let t=this._readableState;return t[sd]===!0||t.flowing===!1};vt.prototype.setEncoding=function(t){let e=new jk(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,i="";for(let n of r)i+=e.write(n);return r.clear(),i!==""&&r.push(i),this._readableState.length=i.length,this};var ZQ=1073741824;function YQ(t){if(t>ZQ)throw new WQ("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function Bk(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:RQ(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}vt.prototype.read=function(t){Pt("read",t),t===void 0?t=NaN:TQ(t)||(t=PQ(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=YQ(t)),t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Pt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?M4(this):hb(this),null;if(t=Bk(t,e),t===0&&e.ended)return e.length===0&&M4(this),null;let i=e.needReadable;if(Pt("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Pt("length less than watermark",i)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)i=!1,Pt("reading, ended or constructing",i);else if(i){Pt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0);try{this._read(e.highWaterMark)}catch(o){dh(this,o)}e.sync=!1,e.reading||(t=Bk(r,e))}let n;return t>0?n=zk(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&M4(this)),n!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",n)),n};function JQ(t,e){if(Pt("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?hb(t):(e.needReadable=!1,e.emittedReadable=!0,qk(t))}}function hb(t){let e=t._readableState;Pt("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Pt("emitReadable",e.flowing),e.emittedReadable=!0,fs.nextTick(qk,t))}function qk(t){let e=t._readableState;Pt("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Uk(t)}function lb(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,fs.nextTick(QQ,t,e))}function QQ(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Pt("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}vt.prototype._read=function(t){throw new $Q("_read()")};vt.prototype.pipe=function(t,e){let r=this,i=this._readableState;i.pipes.length===1&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new DQ(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(t),Pt("pipe count=%d opts=%j",i.pipes.length,e);let o=(!e||e.end!==!1)&&t!==fs.stdout&&t!==fs.stderr?f:O;i.endEmitted?fs.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(D,I){Pt("onunpipe"),D===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,l())}function f(){Pt("onend"),t.end()}let c,d=!1;function l(){Pt("cleanup"),t.removeListener("close",T),t.removeListener("finish",k),c&&t.removeListener("drain",c),t.removeListener("error",b),t.removeListener("unpipe",s),r.removeListener("end",f),r.removeListener("end",O),r.removeListener("data",E),d=!0,c&&i.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&c()}function h(){d||(i.pipes.length===1&&i.pipes[0]===t?(Pt("false write response, pause",0),i.awaitDrainWriters=t,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(t)&&(Pt("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(t)),r.pause()),c||(c=XQ(r,t),t.on("drain",c))}r.on("data",E);function E(D){Pt("ondata");let I=t.write(D);Pt("dest.write",I),I===!1&&h()}function b(D){if(Pt("onerror",D),O(),t.removeListener("error",b),t.listenerCount("error")===0){let I=t._writableState||t._readableState;I&&!I.errorEmitted?dh(t,D):t.emit("error",D)}}jQ(t,"error",b);function T(){t.removeListener("finish",k),O()}t.once("close",T);function k(){Pt("onfinish"),t.removeListener("close",T),O()}t.once("finish",k);function O(){Pt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?i.flowing&&h():i.flowing||(Pt("pipe resume"),r.resume()),t};function XQ(t,e){return function(){let i=t._readableState;i.awaitDrainWriters===e?(Pt("pipeOnDrain",1),i.awaitDrainWriters=null):i.multiAwaitDrain&&(Pt("pipeOnDrain",i.awaitDrainWriters.size),i.awaitDrainWriters.delete(e)),(!i.awaitDrainWriters||i.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}vt.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let n=e.pipes;e.pipes=[],this.pause();for(let o=0;o<n.length;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}let i=AQ(e.pipes,t);return i===-1?this:(e.pipes.splice(i,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};vt.prototype.on=function(t,e){let r=gc.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Pt("on readable",i.length,i.reading),i.length?hb(this):i.reading||fs.nextTick(eX,this)),r};vt.prototype.addListener=vt.prototype.on;vt.prototype.removeListener=function(t,e){let r=gc.prototype.removeListener.call(this,t,e);return t==="readable"&&fs.nextTick(Lk,this),r};vt.prototype.off=vt.prototype.removeListener;vt.prototype.removeAllListeners=function(t){let e=gc.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&fs.nextTick(Lk,this),e};function Lk(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[sd]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function eX(t){Pt("readable nexttick read 0"),t.read(0)}vt.prototype.resume=function(){let t=this._readableState;return t.flowing||(Pt("resume"),t.flowing=!t.readableListening,tX(this,t)),t[sd]=!1,this};function tX(t,e){e.resumeScheduled||(e.resumeScheduled=!0,fs.nextTick(rX,t,e))}function rX(t,e){Pt("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Uk(t),e.flowing&&!e.reading&&t.read(0)}vt.prototype.pause=function(){return Pt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Pt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[sd]=!0,this};function Uk(t){let e=t._readableState;for(Pt("flow",e.flowing);e.flowing&&t.read()!==null;);}vt.prototype.wrap=function(t){let e=!1;t.on("data",i=>{!this.push(i)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",i=>{dh(this,i)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=kQ(t);for(let i=1;i<r.length;i++){let n=r[i];this[n]===void 0&&typeof t[n]=="function"&&(this[n]=t[n].bind(t))}return this};vt.prototype[BQ]=function(){return Fk(this)};vt.prototype.iterator=function(t){return t!==void 0&&VQ(t,"options"),Fk(this,t)};function Fk(t,e){typeof t.read!="function"&&(t=vt.wrap(t,{objectMode:!0}));let r=iX(t,e);return r.stream=t,r}async function*iX(t,e){let r=x4;function i(s){this===t?(r(),r=x4):r=s}t.on("readable",i);let n,o=qQ(t,{writable:!1},s=>{n=s?Dk(n,s):null,r(),r=x4});try{for(;;){let s=t.destroyed?null:t.read();if(s!==null)yield s;else{if(n)throw n;if(n===null)return;await new IQ(i)}}}catch(s){throw n=Dk(n,s),n}finally{(n||e?.destroyOnReturn!==!1)&&(n===void 0||t._readableState.autoDestroy)?lh.destroyer(t,null):(t.off("readable",i),o())}}Ck(vt.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});Ck(T4.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[sd]!==!1},set(t){this[sd]=!!t}}});vt._fromList=zk;function zk(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function M4(t){let e=t._readableState;Pt("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,fs.nextTick(nX,e,t))}function nX(t,e){if(Pt("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)fs.nextTick(oX,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function oX(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}vt.from=function(t,e){return GQ(vt,t,e)};var A4;function $k(){return A4===void 0&&(A4={}),A4}vt.fromWeb=function(t,e){return $k().newStreamReadableFromReadableStream(t,e)};vt.toWeb=function(t,e){return $k().newReadableStreamFromStreamReadable(t,e)};vt.wrap=function(t,e){var r,i;return new vt({objectMode:(r=(i=t.readableObjectMode)!==null&&i!==void 0?i:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(n,o){lh.destroyer(t,n),o(n)}}).wrap(t)}});var C4=z((B4e,rI)=>{x();var ad=Sa(),{ArrayPrototypeSlice:Vk,Error:sX,FunctionPrototypeSymbolHasInstance:Gk,ObjectDefineProperty:Zk,ObjectDefineProperties:aX,ObjectSetPrototypeOf:Yk,StringPrototypeToLowerCase:fX,Symbol:cX,SymbolHasInstance:uX}=Qr();rI.exports=Sr;Sr.WritableState=wy;var{EventEmitter:dX}=oo(),vy=sb().Stream,{Buffer:pb}=er(),gb=nd(),{addAbortSignal:lX}=fb(),{getHighWaterMark:hX,getDefaultHighWaterMark:pX}=ub(),{ERR_INVALID_ARG_TYPE:yX,ERR_METHOD_NOT_IMPLEMENTED:mX,ERR_MULTIPLE_CALLBACK:Jk,ERR_STREAM_CANNOT_PIPE:gX,ERR_STREAM_DESTROYED:by,ERR_STREAM_ALREADY_FINISHED:vX,ERR_STREAM_NULL_VALUES:bX,ERR_STREAM_WRITE_AFTER_END:wX,ERR_UNKNOWN_ENCODING:Qk}=fn().codes,{errorOrDestroy:hh}=gb;Yk(Sr.prototype,vy.prototype);Yk(Sr,vy);function k4(){}var ph=cX("kOnFinished");function wy(t,e,r){typeof r!="boolean"&&(r=e instanceof Xs()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?hX(this,t,"writableHighWaterMark",r):pX(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(t&&t.decodeStrings===!1);this.decodeStrings=!i,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=EX.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,mb(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ph]=[]}function mb(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}wy.prototype.getBuffer=function(){return Vk(this.buffered,this.bufferedIndex)};Zk(wy.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Sr(t){let e=this instanceof Xs();if(!e&&!Gk(Sr,this))return new Sr(t);this._writableState=new wy(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&lX(t.signal,this)),vy.call(this,t),gb.construct(this,()=>{let r=this._writableState;r.writing||D4(this,r),B4(this,r)})}Zk(Sr,uX,{__proto__:null,value:function(t){return Gk(this,t)?!0:this!==Sr?!1:t&&t._writableState instanceof wy}});Sr.prototype.pipe=function(){hh(this,new gX)};function Xk(t,e,r,i){let n=t._writableState;if(typeof r=="function")i=r,r=n.defaultEncoding;else{if(!r)r=n.defaultEncoding;else if(r!=="buffer"&&!pb.isEncoding(r))throw new Qk(r);typeof i!="function"&&(i=k4)}if(e===null)throw new bX;if(!n.objectMode)if(typeof e=="string")n.decodeStrings!==!1&&(e=pb.from(e,r),r="buffer");else if(e instanceof pb)r="buffer";else if(vy._isUint8Array(e))e=vy._uint8ArrayToBuffer(e),r="buffer";else throw new yX("chunk",["string","Buffer","Uint8Array"],e);let o;return n.ending?o=new wX:n.destroyed&&(o=new by("write")),o?(ad.nextTick(i,o),hh(t,o,!0),o):(n.pendingcb++,_X(t,n,e,r,i))}Sr.prototype.write=function(t,e,r){return Xk(this,t,e,r)===!0};Sr.prototype.cork=function(){this._writableState.corked++};Sr.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||D4(this,t))};Sr.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=fX(e)),!pb.isEncoding(e))throw new Qk(e);return this._writableState.defaultEncoding=e,this};function _X(t,e,r,i,n){let o=e.objectMode?1:r.length;e.length+=o;let s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:i,callback:n}),e.allBuffers&&i!=="buffer"&&(e.allBuffers=!1),e.allNoop&&n!==k4&&(e.allNoop=!1)):(e.writelen=o,e.writecb=n,e.writing=!0,e.sync=!0,t._write(r,i,e.onwrite),e.sync=!1),s&&!e.errored&&!e.destroyed}function Kk(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new by("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function Hk(t,e,r,i){--e.pendingcb,i(r),I4(e),hh(t,r)}function EX(t,e){let r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function"){hh(t,new Jk);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),i?ad.nextTick(Hk,t,r,e,n):Hk(t,r,e,n)):(r.buffered.length>r.bufferedIndex&&D4(t,r),i?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===n?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:n,stream:t,state:r},ad.nextTick(xX,r.afterWriteTickInfo)):eI(t,r,1,n))}function xX({stream:t,state:e,count:r,cb:i}){return e.afterWriteTickInfo=null,eI(t,e,r,i)}function eI(t,e,r,i){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,i();e.destroyed&&I4(e),B4(t,e)}function I4(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;let{chunk:o,callback:s}=t.buffered[n],f=t.objectMode?1:o.length;t.length-=f,s((e=t.errored)!==null&&e!==void 0?e:new by("write"))}let r=t[ph].splice(0);for(let n=0;n<r.length;n++){var i;r[n]((i=t.errored)!==null&&i!==void 0?i:new by("end"))}mb(t)}function D4(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:i,objectMode:n}=e,o=r.length-i;if(!o)return;let s=i;if(e.bufferProcessing=!0,o>1&&t._writev){e.pendingcb-=o-1;let f=e.allNoop?k4:d=>{for(let l=s;l<r.length;++l)r[l].callback(d)},c=e.allNoop&&s===0?r:Vk(r,s);c.allBuffers=e.allBuffers,Kk(t,e,!0,e.length,c,"",f),mb(e)}else{do{let{chunk:f,encoding:c,callback:d}=r[s];r[s++]=null;let l=n?1:f.length;Kk(t,e,!1,l,f,c,d)}while(s<r.length&&!e.writing);s===r.length?mb(e):s>256?(r.splice(0,s),e.bufferedIndex=0):e.bufferedIndex=s}e.bufferProcessing=!1}Sr.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new mX("_write()")};Sr.prototype._writev=null;Sr.prototype.end=function(t,e,r){let i=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let n;if(t!=null){let o=Xk(this,t,e);o instanceof sX&&(n=o)}return i.corked&&(i.corked=1,this.uncork()),n||(!i.errored&&!i.ending?(i.ending=!0,B4(this,i,!0),i.ended=!0):i.finished?n=new vX("end"):i.destroyed&&(n=new by("end"))),typeof r=="function"&&(n||i.finished?ad.nextTick(r,n):i[ph].push(r)),this};function yb(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function SX(t,e){let r=!1;function i(n){if(r){hh(t,n??Jk());return}if(r=!0,e.pendingcb--,n){let o=e[ph].splice(0);for(let s=0;s<o.length;s++)o[s](n);hh(t,n,e.sync)}else yb(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,ad.nextTick(P4,t,e))}e.sync=!0,e.pendingcb++;try{t._final(i)}catch(n){i(n)}e.sync=!1}function MX(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,SX(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function B4(t,e,r){yb(e)&&(MX(t,e),e.pendingcb===0&&(r?(e.pendingcb++,ad.nextTick((i,n)=>{yb(n)?P4(i,n):n.pendingcb--},t,e)):yb(e)&&(e.pendingcb++,P4(t,e))))}function P4(t,e){e.pendingcb--,e.finished=!0;let r=e[ph].splice(0);for(let i=0;i<r.length;i++)r[i]();if(t.emit("finish"),e.autoDestroy){let i=t._readableState;(!i||i.autoDestroy&&(i.endEmitted||i.readable===!1))&&t.destroy()}}aX(Sr.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var AX=gb.destroy;Sr.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[ph].length)&&ad.nextTick(I4,r),AX.call(this,t,e),this};Sr.prototype._undestroy=gb.undestroy;Sr.prototype._destroy=function(t,e){e(t)};Sr.prototype[dX.captureRejectionSymbol]=function(t){this.destroy(t)};var R4;function tI(){return R4===void 0&&(R4={}),R4}Sr.fromWeb=function(t,e){return tI().newStreamWritableFromWritableStream(t,e)};Sr.toWeb=function(t){return tI().newWritableStreamFromStreamWritable(t)}});var pI=z((O4e,hI)=>{x();var O4=Sa(),TX=er(),{isReadable:RX,isWritable:PX,isIterable:iI,isNodeStream:kX,isReadableNodeStream:nI,isWritableNodeStream:oI,isDuplexNodeStream:IX}=pc(),sI=yc(),{AbortError:lI,codes:{ERR_INVALID_ARG_TYPE:DX,ERR_INVALID_RETURN_VALUE:aI}}=fn(),{destroyer:yh}=nd(),BX=Xs(),CX=gy(),{createDeferredPromise:fI}=Ys(),cI=_4(),uI=globalThis.Blob||TX.Blob,OX=typeof uI<"u"?function(e){return e instanceof uI}:function(e){return!1},jX=globalThis.AbortController||Gv().AbortController,{FunctionPrototypeCall:dI}=Qr(),fd=class extends BX{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};hI.exports=function t(e,r){if(IX(e))return e;if(nI(e))return vb({readable:e});if(oI(e))return vb({writable:e});if(kX(e))return vb({writable:!1,readable:!1});if(typeof e=="function"){let{value:n,write:o,final:s,destroy:f}=NX(e);if(iI(n))return cI(fd,n,{objectMode:!0,write:o,final:s,destroy:f});let c=n?.then;if(typeof c=="function"){let d,l=dI(c,n,h=>{if(h!=null)throw new aI("nully","body",h)},h=>{yh(d,h)});return d=new fd({objectMode:!0,readable:!1,write:o,final(h){s(async()=>{try{await l,O4.nextTick(h,null)}catch(E){O4.nextTick(h,E)}})},destroy:f})}throw new aI("Iterable, AsyncIterable or AsyncFunction",r,n)}if(OX(e))return t(e.arrayBuffer());if(iI(e))return cI(fd,e,{objectMode:!0,writable:!1});if(typeof e?.writable=="object"||typeof e?.readable=="object"){let n=e!=null&&e.readable?nI(e?.readable)?e?.readable:t(e.readable):void 0,o=e!=null&&e.writable?oI(e?.writable)?e?.writable:t(e.writable):void 0;return vb({readable:n,writable:o})}let i=e?.then;if(typeof i=="function"){let n;return dI(i,e,o=>{o!=null&&n.push(o),n.push(null)},o=>{yh(n,o)}),n=new fd({objectMode:!0,writable:!1,read(){}})}throw new DX(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function NX(t){let{promise:e,resolve:r}=fI(),i=new jX,n=i.signal;return{value:t(async function*(){for(;;){let s=e;e=null;let{chunk:f,done:c,cb:d}=await s;if(O4.nextTick(d),c)return;if(n.aborted)throw new lI(void 0,{cause:n.reason});({promise:e,resolve:r}=fI()),yield f}}(),{signal:n}),write(s,f,c){let d=r;r=null,d({chunk:s,done:!1,cb:c})},final(s){let f=r;r=null,f({done:!0,cb:s})},destroy(s,f){i.abort(),f(s)}}}function vb(t){let e=t.readable&&typeof t.readable.read!="function"?CX.wrap(t.readable):t.readable,r=t.writable,i=!!RX(e),n=!!PX(r),o,s,f,c,d;function l(h){let E=c;c=null,E?E(h):h?d.destroy(h):!i&&!n&&d.destroy()}return d=new fd({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:i,writable:n}),n&&(sI(r,h=>{n=!1,h&&yh(e,h),l(h)}),d._write=function(h,E,b){r.write(h,E)?b():o=b},d._final=function(h){r.end(),s=h},r.on("drain",function(){if(o){let h=o;o=null,h()}}),r.on("finish",function(){if(s){let h=s;s=null,h()}})),i&&(sI(e,h=>{i=!1,h&&yh(e,h),l(h)}),e.on("readable",function(){if(f){let h=f;f=null,h()}}),e.on("end",function(){d.push(null)}),d._read=function(){for(;;){let h=e.read();if(h===null){f=d._read;return}if(!d.push(h))return}}),d._destroy=function(h,E){!h&&c!==null&&(h=new lI),f=null,o=null,s=null,c===null?E(h):(c=E,yh(r,h),yh(e,h))},d}});var Xs=z((N4e,gI)=>{"use strict";x();var{ObjectDefineProperties:qX,ObjectGetOwnPropertyDescriptor:Ha,ObjectKeys:LX,ObjectSetPrototypeOf:yI}=Qr();gI.exports=cs;var q4=gy(),fo=C4();yI(cs.prototype,q4.prototype);yI(cs,q4);{let t=LX(fo.prototype);for(let e=0;e<t.length;e++){let r=t[e];cs.prototype[r]||(cs.prototype[r]=fo.prototype[r])}}function cs(t){if(!(this instanceof cs))return new cs(t);q4.call(this,t),fo.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}qX(cs.prototype,{writable:{__proto__:null,...Ha(fo.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Ha(fo.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Ha(fo.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Ha(fo.prototype,"writableBuffer")},writableLength:{__proto__:null,...Ha(fo.prototype,"writableLength")},writableFinished:{__proto__:null,...Ha(fo.prototype,"writableFinished")},writableCorked:{__proto__:null,...Ha(fo.prototype,"writableCorked")},writableEnded:{__proto__:null,...Ha(fo.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Ha(fo.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var j4;function mI(){return j4===void 0&&(j4={}),j4}cs.fromWeb=function(t,e){return mI().newStreamDuplexFromReadableWritablePair(t,e)};cs.toWeb=function(t){return mI().newReadableWritablePairFromDuplex(t)};var N4;cs.from=function(t){return N4||(N4=pI()),N4(t,"body")}});var F4=z((L4e,bI)=>{"use strict";x();var{ObjectSetPrototypeOf:vI,Symbol:UX}=Qr();bI.exports=Va;var{ERR_METHOD_NOT_IMPLEMENTED:FX}=fn().codes,U4=Xs(),{getHighWaterMark:zX}=ub();vI(Va.prototype,U4.prototype);vI(Va,U4);var _y=UX("kCallback");function Va(t){if(!(this instanceof Va))return new Va(t);let e=t?zX(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),U4.call(this,t),this._readableState.sync=!1,this[_y]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",$X)}function L4(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function $X(){this._final!==L4&&L4.call(this)}Va.prototype._final=L4;Va.prototype._transform=function(t,e,r){throw new FX("_transform()")};Va.prototype._write=function(t,e,r){let i=this._readableState,n=this._writableState,o=i.length;this._transform(t,e,(s,f)=>{if(s){r(s);return}f!=null&&this.push(f),n.ended||o===i.length||i.length<i.highWaterMark?r():this[_y]=r})};Va.prototype._read=function(){if(this[_y]){let t=this[_y];this[_y]=null,t()}}});var $4=z((F4e,_I)=>{"use strict";x();var{ObjectSetPrototypeOf:wI}=Qr();_I.exports=mh;var z4=F4();wI(mh.prototype,z4.prototype);wI(mh,z4);function mh(t){if(!(this instanceof mh))return new mh(t);z4.call(this,t)}mh.prototype._transform=function(t,e,r){r(null,t)}});var _b=z(($4e,RI)=>{x();var bb=Sa(),{ArrayIsArray:WX,Promise:KX,SymbolAsyncIterator:HX}=Qr(),wb=yc(),{once:VX}=Ys(),GX=nd(),EI=Xs(),{aggregateTwoErrors:ZX,codes:{ERR_INVALID_ARG_TYPE:AI,ERR_INVALID_RETURN_VALUE:W4,ERR_MISSING_ARGS:YX,ERR_STREAM_DESTROYED:JX,ERR_STREAM_PREMATURE_CLOSE:QX},AbortError:XX}=fn(),{validateFunction:eee,validateAbortSignal:tee}=py(),{isIterable:gh,isReadable:K4,isReadableNodeStream:G4,isNodeStream:xI}=pc(),ree=globalThis.AbortController||Gv().AbortController,H4,V4;function SI(t,e,r){let i=!1;t.on("close",()=>{i=!0});let n=wb(t,{readable:e,writable:r},o=>{i=!o});return{destroy:o=>{i||(i=!0,GX.destroyer(t,o||new JX("pipe")))},cleanup:n}}function iee(t){return eee(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function nee(t){if(gh(t))return t;if(G4(t))return oee(t);throw new AI("val",["Readable","Iterable","AsyncIterable"],t)}async function*oee(t){V4||(V4=gy()),yield*V4.prototype[HX].call(t)}async function MI(t,e,r,{end:i}){let n,o=null,s=d=>{if(d&&(n=d),o){let l=o;o=null,l()}},f=()=>new KX((d,l)=>{n?l(n):o=()=>{n?l(n):d()}});e.on("drain",s);let c=wb(e,{readable:!1},s);try{e.writableNeedDrain&&await f();for await(let d of t)e.write(d)||await f();i&&e.end(),await f(),r()}catch(d){r(n!==d?ZX(n,d):d)}finally{c(),e.off("drain",s)}}function see(...t){return TI(t,VX(iee(t)))}function TI(t,e,r){if(t.length===1&&WX(t[0])&&(t=t[0]),t.length<2)throw new YX("streams");let i=new ree,n=i.signal,o=r?.signal,s=[];tee(o,"options.signal");function f(){b(new XX)}o?.addEventListener("abort",f);let c,d,l=[],h=0;function E(D){b(D,--h===0)}function b(D,I){if(D&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=D),!(!c&&!I)){for(;l.length;)l.shift()(c);o?.removeEventListener("abort",f),i.abort(),I&&(c||s.forEach(L=>L()),bb.nextTick(e,c,d))}}let T;for(let D=0;D<t.length;D++){let I=t[D],L=D<t.length-1,U=D>0,$=L||r?.end!==!1,K=D===t.length-1;if(xI(I)){let q=function(F){F&&F.name!=="AbortError"&&F.code!=="ERR_STREAM_PREMATURE_CLOSE"&&E(F)};var O=q;if($){let{destroy:F,cleanup:G}=SI(I,L,U);l.push(F),K4(I)&&K&&s.push(G)}I.on("error",q),K4(I)&&K&&s.push(()=>{I.removeListener("error",q)})}if(D===0)if(typeof I=="function"){if(T=I({signal:n}),!gh(T))throw new W4("Iterable, AsyncIterable or Stream","source",T)}else gh(I)||G4(I)?T=I:T=EI.from(I);else if(typeof I=="function")if(T=nee(T),T=I(T,{signal:n}),L){if(!gh(T,!0))throw new W4("AsyncIterable",`transform[${D-1}]`,T)}else{var k;H4||(H4=$4());let q=new H4({objectMode:!0}),F=(k=T)===null||k===void 0?void 0:k.then;if(typeof F=="function")h++,F.call(T,w=>{d=w,w!=null&&q.write(w),$&&q.end(),bb.nextTick(E)},w=>{q.destroy(w),bb.nextTick(E,w)});else if(gh(T,!0))h++,MI(T,q,E,{end:$});else throw new W4("AsyncIterable or Promise","destination",T);T=q;let{destroy:G,cleanup:B}=SI(T,!1,!0);l.push(G),K&&s.push(B)}else if(xI(I)){if(G4(T)){h+=2;let q=aee(T,I,E,{end:$});K4(I)&&K&&s.push(q)}else if(gh(T))h++,MI(T,I,E,{end:$});else throw new AI("val",["Readable","Iterable","AsyncIterable"],T);T=I}else T=EI.from(I)}return(n!=null&&n.aborted||o!=null&&o.aborted)&&bb.nextTick(f),T}function aee(t,e,r,{end:i}){let n=!1;return e.on("close",()=>{n||r(new QX)}),t.pipe(e,{end:i}),i?t.once("end",()=>{n=!0,e.end()}):r(),wb(t,{readable:!0,writable:!1},o=>{let s=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&s&&s.ended&&!s.errored&&!s.errorEmitted?t.once("end",r).once("error",r):r(o)}),wb(e,{readable:!1,writable:!0},r)}RI.exports={pipelineImpl:TI,pipeline:see}});var BI=z((K4e,DI)=>{"use strict";x();var{pipeline:fee}=_b(),Eb=Xs(),{destroyer:cee}=nd(),{isNodeStream:uee,isReadable:PI,isWritable:kI}=pc(),{AbortError:dee,codes:{ERR_INVALID_ARG_VALUE:II,ERR_MISSING_ARGS:lee}}=fn();DI.exports=function(...e){if(e.length===0)throw new lee("streams");if(e.length===1)return Eb.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=Eb.from(e[0])),typeof e[e.length-1]=="function"){let b=e.length-1;e[b]=Eb.from(e[b])}for(let b=0;b<e.length;++b)if(uee(e[b])){if(b<e.length-1&&!PI(e[b]))throw new II(`streams[${b}]`,r[b],"must be readable");if(b>0&&!kI(e[b]))throw new II(`streams[${b}]`,r[b],"must be writable")}let i,n,o,s,f;function c(b){let T=s;s=null,T?T(b):b?f.destroy(b):!E&&!h&&f.destroy()}let d=e[0],l=fee(e,c),h=!!kI(d),E=!!PI(l);return f=new Eb({writableObjectMode:!!(d!=null&&d.writableObjectMode),readableObjectMode:!!(l!=null&&l.writableObjectMode),writable:h,readable:E}),h&&(f._write=function(b,T,k){d.write(b,T)?k():i=k},f._final=function(b){d.end(),n=b},d.on("drain",function(){if(i){let b=i;i=null,b()}}),l.on("finish",function(){if(n){let b=n;n=null,b()}})),E&&(l.on("readable",function(){if(o){let b=o;o=null,b()}}),l.on("end",function(){f.push(null)}),f._read=function(){for(;;){let b=l.read();if(b===null){o=f._read;return}if(!f.push(b))return}}),f._destroy=function(b,T){!b&&s!==null&&(b=new dee),o=null,i=null,n=null,s===null?T(b):(s=T,cee(l,b))},f}});var Z4=z((V4e,CI)=>{"use strict";x();var{ArrayPrototypePop:hee,Promise:pee}=Qr(),{isIterable:yee,isNodeStream:mee}=pc(),{pipelineImpl:gee}=_b(),{finished:vee}=yc();function bee(...t){return new pee((e,r)=>{let i,n,o=t[t.length-1];if(o&&typeof o=="object"&&!mee(o)&&!yee(o)){let s=hee(t);i=s.signal,n=s.end}gee(t,(s,f)=>{s?r(s):e(f)},{signal:i,end:n})})}CI.exports={finished:vee,pipeline:bee}});var WI=z((Z4e,$I)=>{x();var{Buffer:wee}=er(),{ObjectDefineProperty:Ga,ObjectKeys:NI,ReflectApply:qI}=Qr(),{promisify:{custom:LI}}=Ys(),{streamReturningOperators:OI,promiseReturningOperators:jI}=sk(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:UI}}=fn(),_ee=BI(),{pipeline:FI}=_b(),{destroyer:Eee}=nd(),zI=yc(),Y4=Z4(),J4=pc(),$r=$I.exports=sb().Stream;$r.isDisturbed=J4.isDisturbed;$r.isErrored=J4.isErrored;$r.isReadable=J4.isReadable;$r.Readable=gy();for(let t of NI(OI)){let r=function(...i){if(new.target)throw UI();return $r.Readable.from(qI(e,this,i))};See=r;let e=OI[t];Ga(r,"name",{__proto__:null,value:e.name}),Ga(r,"length",{__proto__:null,value:e.length}),Ga($r.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var See;for(let t of NI(jI)){let r=function(...n){if(new.target)throw UI();return qI(e,this,n)};See=r;let e=jI[t];Ga(r,"name",{__proto__:null,value:e.name}),Ga(r,"length",{__proto__:null,value:e.length}),Ga($r.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var See;$r.Writable=C4();$r.Duplex=Xs();$r.Transform=F4();$r.PassThrough=$4();$r.pipeline=FI;var{addAbortSignal:xee}=fb();$r.addAbortSignal=xee;$r.finished=zI;$r.destroy=Eee;$r.compose=_ee;Ga($r,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Y4}});Ga(FI,LI,{__proto__:null,enumerable:!0,get(){return Y4.pipeline}});Ga(zI,LI,{__proto__:null,enumerable:!0,get(){return Y4.finished}});$r.Stream=$r;$r._isUint8Array=function(e){return e instanceof Uint8Array};$r._uint8ArrayToBuffer=function(e){return wee.from(e.buffer,e.byteOffset,e.byteLength)}});var xb=z((J4e,Wr)=>{"use strict";x();var si=WI(),Mee=Z4(),Aee=si.Readable.destroy;Wr.exports=si.Readable;Wr.exports._uint8ArrayToBuffer=si._uint8ArrayToBuffer;Wr.exports._isUint8Array=si._isUint8Array;Wr.exports.isDisturbed=si.isDisturbed;Wr.exports.isErrored=si.isErrored;Wr.exports.isReadable=si.isReadable;Wr.exports.Readable=si.Readable;Wr.exports.Writable=si.Writable;Wr.exports.Duplex=si.Duplex;Wr.exports.Transform=si.Transform;Wr.exports.PassThrough=si.PassThrough;Wr.exports.addAbortSignal=si.addAbortSignal;Wr.exports.finished=si.finished;Wr.exports.destroy=si.destroy;Wr.exports.destroy=Aee;Wr.exports.pipeline=si.pipeline;Wr.exports.compose=si.compose;Object.defineProperty(si,"promises",{configurable:!0,enumerable:!0,get(){return Mee}});Wr.exports.Stream=si.Stream;Wr.exports.default=Wr.exports});var Ot=z((X4,GI)=>{x();var Sb=er(),Za=Sb.Buffer;function VI(t,e){for(var r in t)e[r]=t[r]}Za.from&&Za.alloc&&Za.allocUnsafe&&Za.allocUnsafeSlow?GI.exports=Sb:(VI(Sb,X4),X4.Buffer=vh);function vh(t,e,r){return Za(t,e,r)}VI(Za,vh);vh.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Za(t,e,r)};vh.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Za(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};vh.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Za(t)};vh.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Sb.SlowBuffer(t)}});var cd=z((c8e,t8)=>{"use strict";x();var e8=65536,Ree=4294967295;function Pee(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var kee=Ot().Buffer,Mb=globalThis.crypto||globalThis.msCrypto;Mb&&Mb.getRandomValues?t8.exports=Iee:t8.exports=Pee;function Iee(t,e){if(t>Ree)throw new RangeError("requested too many random bytes");var r=kee.allocUnsafe(t);if(t>0)if(t>e8)for(var i=0;i<t;i+=e8)Mb.getRandomValues(r.slice(i,i+e8));else Mb.getRandomValues(r);return typeof e=="function"?C.default.nextTick(function(){e(null,r)}):r}});var Qe=z((d8e,r8)=>{x();typeof Object.create=="function"?r8.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:r8.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var JI=z((i8,YI)=>{x();var Ab=er(),ea=Ab.Buffer;function ZI(t,e){for(var r in t)e[r]=t[r]}ea.from&&ea.alloc&&ea.allocUnsafe&&ea.allocUnsafeSlow?YI.exports=Ab:(ZI(Ab,i8),i8.Buffer=ud);function ud(t,e,r){return ea(t,e,r)}ud.prototype=Object.create(ea.prototype);ZI(ea,ud);ud.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ea(t,e,r)};ud.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=ea(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};ud.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ea(t)};ud.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ab.SlowBuffer(t)}});var n8=z((p8e,QI)=>{x();QI.exports=oo().EventEmitter});var o8=z((m8e,XI)=>{"use strict";x();XI.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[r]=n;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==n||s.enumerable!==!0)return!1}return!0}});var xy=z((v8e,eD)=>{"use strict";x();var Dee=o8();eD.exports=function(){return Dee()&&!!Symbol.toStringTag}});var iD=z((w8e,rD)=>{"use strict";x();var tD=typeof Symbol<"u"&&Symbol,Bee=o8();rD.exports=function(){return typeof tD!="function"||typeof Symbol!="function"||typeof tD("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Bee()}});var oD=z((E8e,nD)=>{"use strict";x();var Cee="Function.prototype.bind called on incompatible ",s8=Array.prototype.slice,Oee=Object.prototype.toString,jee="[object Function]";nD.exports=function(e){var r=this;if(typeof r!="function"||Oee.call(r)!==jee)throw new TypeError(Cee+r);for(var i=s8.call(arguments,1),n,o=function(){if(this instanceof n){var l=r.apply(this,i.concat(s8.call(arguments)));return Object(l)===l?l:this}else return r.apply(e,i.concat(s8.call(arguments)))},s=Math.max(0,r.length-i.length),f=[],c=0;c<s;c++)f.push("$"+c);if(n=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var d=function(){};d.prototype=r.prototype,n.prototype=new d,d.prototype=null}return n}});var Tb=z((S8e,sD)=>{"use strict";x();var Nee=oD();sD.exports=Function.prototype.bind||Nee});var fD=z((A8e,aD)=>{"use strict";x();var qee=Tb();aD.exports=qee.call(Function.call,Object.prototype.hasOwnProperty)});var kb=z((R8e,hD)=>{"use strict";x();var kt,Eh=SyntaxError,lD=Function,_h=TypeError,a8=function(t){try{return lD('"use strict"; return ('+t+").constructor;")()}catch{}},dd=Object.getOwnPropertyDescriptor;if(dd)try{dd({},"")}catch{dd=null}var f8=function(){throw new _h},Lee=dd?function(){try{return arguments.callee,f8}catch{try{return dd(arguments,"callee").get}catch{return f8}}}():f8,bh=iD()(),ta=Object.getPrototypeOf||function(t){return t.__proto__},wh={},Uee=typeof Uint8Array>"u"?kt:ta(Uint8Array),ld={"%AggregateError%":typeof AggregateError>"u"?kt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?kt:ArrayBuffer,"%ArrayIteratorPrototype%":bh?ta([][Symbol.iterator]()):kt,"%AsyncFromSyncIteratorPrototype%":kt,"%AsyncFunction%":wh,"%AsyncGenerator%":wh,"%AsyncGeneratorFunction%":wh,"%AsyncIteratorPrototype%":wh,"%Atomics%":typeof Atomics>"u"?kt:Atomics,"%BigInt%":typeof BigInt>"u"?kt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?kt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?kt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?kt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?kt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?kt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?kt:FinalizationRegistry,"%Function%":lD,"%GeneratorFunction%":wh,"%Int8Array%":typeof Int8Array>"u"?kt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?kt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?kt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":bh?ta(ta([][Symbol.iterator]())):kt,"%JSON%":typeof JSON=="object"?JSON:kt,"%Map%":typeof Map>"u"?kt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!bh?kt:ta(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?kt:Promise,"%Proxy%":typeof Proxy>"u"?kt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?kt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?kt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!bh?kt:ta(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?kt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":bh?ta(""[Symbol.iterator]()):kt,"%Symbol%":bh?Symbol:kt,"%SyntaxError%":Eh,"%ThrowTypeError%":Lee,"%TypedArray%":Uee,"%TypeError%":_h,"%Uint8Array%":typeof Uint8Array>"u"?kt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?kt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?kt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?kt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?kt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?kt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?kt:WeakSet};try{null.error}catch(t){cD=ta(ta(t)),ld["%Error.prototype%"]=cD}var cD,Fee=function t(e){var r;if(e==="%AsyncFunction%")r=a8("async function () {}");else if(e==="%GeneratorFunction%")r=a8("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=a8("async function* () {}");else if(e==="%AsyncGenerator%"){var i=t("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=t("%AsyncGenerator%");n&&(r=ta(n.prototype))}return ld[e]=r,r},uD={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Sy=Tb(),Rb=fD(),zee=Sy.call(Function.call,Array.prototype.concat),$ee=Sy.call(Function.apply,Array.prototype.splice),dD=Sy.call(Function.call,String.prototype.replace),Pb=Sy.call(Function.call,String.prototype.slice),Wee=Sy.call(Function.call,RegExp.prototype.exec),Kee=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Hee=/\\(\\)?/g,Vee=function(e){var r=Pb(e,0,1),i=Pb(e,-1);if(r==="%"&&i!=="%")throw new Eh("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new Eh("invalid intrinsic syntax, expected opening `%`");var n=[];return dD(e,Kee,function(o,s,f,c){n[n.length]=f?dD(c,Hee,"$1"):s||o}),n},Gee=function(e,r){var i=e,n;if(Rb(uD,i)&&(n=uD[i],i="%"+n[0]+"%"),Rb(ld,i)){var o=ld[i];if(o===wh&&(o=Fee(i)),typeof o>"u"&&!r)throw new _h("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:o}}throw new Eh("intrinsic "+e+" does not exist!")};hD.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new _h("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new _h('"allowMissing" argument must be a boolean');if(Wee(/^%?[^%]*%?$/,e)===null)throw new Eh("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=Vee(e),n=i.length>0?i[0]:"",o=Gee("%"+n+"%",r),s=o.name,f=o.value,c=!1,d=o.alias;d&&(n=d[0],$ee(i,zee([0,1],d)));for(var l=1,h=!0;l<i.length;l+=1){var E=i[l],b=Pb(E,0,1),T=Pb(E,-1);if((b==='"'||b==="'"||b==="`"||T==='"'||T==="'"||T==="`")&&b!==T)throw new Eh("property names with quotes must have matching quotes");if((E==="constructor"||!h)&&(c=!0),n+="."+E,s="%"+n+"%",Rb(ld,s))f=ld[s];else if(f!=null){if(!(E in f)){if(!r)throw new _h("base intrinsic for "+e+" exists, but the property is not available.");return}if(dd&&l+1>=i.length){var k=dd(f,E);h=!!k,h&&"get"in k&&!("originalValue"in k.get)?f=k.get:f=f[E]}else h=Rb(f,E),f=f[E];h&&!c&&(ld[s]=f)}}return f}});var bD=z((k8e,Ib)=>{"use strict";x();var c8=Tb(),xh=kb(),mD=xh("%Function.prototype.apply%"),gD=xh("%Function.prototype.call%"),vD=xh("%Reflect.apply%",!0)||c8.call(gD,mD),pD=xh("%Object.getOwnPropertyDescriptor%",!0),hd=xh("%Object.defineProperty%",!0),Zee=xh("%Math.max%");if(hd)try{hd({},"a",{value:1})}catch{hd=null}Ib.exports=function(e){var r=vD(c8,gD,arguments);if(pD&&hd){var i=pD(r,"length");i.configurable&&hd(r,"length",{value:1+Zee(0,e.length-(arguments.length-1))})}return r};var yD=function(){return vD(c8,mD,arguments)};hd?hd(Ib.exports,"apply",{value:yD}):Ib.exports.apply=yD});var Db=z((D8e,ED)=>{"use strict";x();var wD=kb(),_D=bD(),Yee=_D(wD("String.prototype.indexOf"));ED.exports=function(e,r){var i=wD(e,!!r);return typeof i=="function"&&Yee(e,".prototype.")>-1?_D(i):i}});var MD=z((C8e,SD)=>{"use strict";x();var Jee=xy()(),Qee=Db(),u8=Qee("Object.prototype.toString"),Bb=function(e){return Jee&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:u8(e)==="[object Arguments]"},xD=function(e){return Bb(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&u8(e)!=="[object Array]"&&u8(e.callee)==="[object Function]"},Xee=function(){return Bb(arguments)}();Bb.isLegacyArguments=xD;SD.exports=Xee?Bb:xD});var RD=z((j8e,TD)=>{"use strict";x();var ete=Object.prototype.toString,tte=Function.prototype.toString,rte=/^\s*(?:function)?\*/,AD=xy()(),d8=Object.getPrototypeOf,ite=function(){if(!AD)return!1;try{return Function("return function*() {}")()}catch{}},l8;TD.exports=function(e){if(typeof e!="function")return!1;if(rte.test(tte.call(e)))return!0;if(!AD){var r=ete.call(e);return r==="[object GeneratorFunction]"}if(!d8)return!1;if(typeof l8>"u"){var i=ite();l8=i?d8(i):!1}return d8(e)===l8}});var DD=z((q8e,ID)=>{"use strict";x();var kD=Function.prototype.toString,Sh=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,p8,Cb;if(typeof Sh=="function"&&typeof Object.defineProperty=="function")try{p8=Object.defineProperty({},"length",{get:function(){throw Cb}}),Cb={},Sh(function(){throw 42},null,p8)}catch(t){t!==Cb&&(Sh=null)}else Sh=null;var nte=/^\s*class\b/,y8=function(e){try{var r=kD.call(e);return nte.test(r)}catch{return!1}},h8=function(e){try{return y8(e)?!1:(kD.call(e),!0)}catch{return!1}},Ob=Object.prototype.toString,ote="[object Object]",ste="[object Function]",ate="[object GeneratorFunction]",fte="[object HTMLAllCollection]",cte="[object HTML document.all class]",ute="[object HTMLCollection]",dte=typeof Symbol=="function"&&!!Symbol.toStringTag,lte=!(0 in[,]),m8=function(){return!1};typeof document=="object"&&(PD=document.all,Ob.call(PD)===Ob.call(document.all)&&(m8=function(e){if((lte||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=Ob.call(e);return(r===fte||r===cte||r===ute||r===ote)&&e("")==null}catch{}return!1}));var PD;ID.exports=Sh?function(e){if(m8(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Sh(e,null,p8)}catch(r){if(r!==Cb)return!1}return!y8(e)&&h8(e)}:function(e){if(m8(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(dte)return h8(e);if(y8(e))return!1;var r=Ob.call(e);return r!==ste&&r!==ate&&!/^\[object HTML/.test(r)?!1:h8(e)}});var g8=z((U8e,CD)=>{"use strict";x();var hte=DD(),pte=Object.prototype.toString,BD=Object.prototype.hasOwnProperty,yte=function(e,r,i){for(var n=0,o=e.length;n<o;n++)BD.call(e,n)&&(i==null?r(e[n],n,e):r.call(i,e[n],n,e))},mte=function(e,r,i){for(var n=0,o=e.length;n<o;n++)i==null?r(e.charAt(n),n,e):r.call(i,e.charAt(n),n,e)},gte=function(e,r,i){for(var n in e)BD.call(e,n)&&(i==null?r(e[n],n,e):r.call(i,e[n],n,e))},vte=function(e,r,i){if(!hte(r))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=i),pte.call(e)==="[object Array]"?yte(e,r,n):typeof e=="string"?mte(e,r,n):gte(e,r,n)};CD.exports=vte});var b8=z((z8e,OD)=>{"use strict";x();var v8=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],bte=globalThis;OD.exports=function(){for(var e=[],r=0;r<v8.length;r++)typeof bte[v8[r]]=="function"&&(e[e.length]=v8[r]);return e}});var w8=z((W8e,jD)=>{"use strict";x();var wte=kb(),jb=wte("%Object.getOwnPropertyDescriptor%",!0);if(jb)try{jb([],"length")}catch{jb=null}jD.exports=jb});var x8=z((H8e,FD)=>{"use strict";x();var ND=g8(),_te=b8(),E8=Db(),Ete=E8("Object.prototype.toString"),qD=xy()(),Nb=w8(),xte=globalThis,LD=_te(),Ste=E8("Array.prototype.indexOf",!0)||function(e,r){for(var i=0;i<e.length;i+=1)if(e[i]===r)return i;return-1},Mte=E8("String.prototype.slice"),UD={},_8=Object.getPrototypeOf;qD&&Nb&&_8&&ND(LD,function(t){var e=new xte[t];if(Symbol.toStringTag in e){var r=_8(e),i=Nb(r,Symbol.toStringTag);if(!i){var n=_8(r);i=Nb(n,Symbol.toStringTag)}UD[t]=i.get}});var Ate=function(e){var r=!1;return ND(UD,function(i,n){if(!r)try{r=i.call(e)===n}catch{}}),r};FD.exports=function(e){if(!e||typeof e!="object")return!1;if(!qD||!(Symbol.toStringTag in e)){var r=Mte(Ete(e),8,-1);return Ste(LD,r)>-1}return Nb?Ate(e):!1}});var GD=z((G8e,VD)=>{"use strict";x();var $D=g8(),Tte=b8(),WD=Db(),S8=w8(),Rte=WD("Object.prototype.toString"),KD=xy()(),zD=globalThis,Pte=Tte(),kte=WD("String.prototype.slice"),HD={},M8=Object.getPrototypeOf;KD&&S8&&M8&&$D(Pte,function(t){if(typeof zD[t]=="function"){var e=new zD[t];if(Symbol.toStringTag in e){var r=M8(e),i=S8(r,Symbol.toStringTag);if(!i){var n=M8(r);i=S8(n,Symbol.toStringTag)}HD[t]=i.get}}});var Ite=function(e){var r=!1;return $D(HD,function(i,n){if(!r)try{var o=i.call(e);o===n&&(r=o)}catch{}}),r},Dte=x8();VD.exports=function(e){return Dte(e)?!KD||!(Symbol.toStringTag in e)?kte(Rte(e),8,-1):Ite(e):!1}});var fB=z(Tt=>{"use strict";x();var Bte=MD(),Cte=RD(),us=GD(),ZD=x8();function Mh(t){return t.call.bind(t)}var YD=typeof BigInt<"u",JD=typeof Symbol<"u",co=Mh(Object.prototype.toString),Ote=Mh(Number.prototype.valueOf),jte=Mh(String.prototype.valueOf),Nte=Mh(Boolean.prototype.valueOf);YD&&(QD=Mh(BigInt.prototype.valueOf));var QD;JD&&(XD=Mh(Symbol.prototype.valueOf));var XD;function Ay(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}Tt.isArgumentsObject=Bte;Tt.isGeneratorFunction=Cte;Tt.isTypedArray=ZD;function qte(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}Tt.isPromise=qte;function Lte(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):ZD(t)||tB(t)}Tt.isArrayBufferView=Lte;function Ute(t){return us(t)==="Uint8Array"}Tt.isUint8Array=Ute;function Fte(t){return us(t)==="Uint8ClampedArray"}Tt.isUint8ClampedArray=Fte;function zte(t){return us(t)==="Uint16Array"}Tt.isUint16Array=zte;function $te(t){return us(t)==="Uint32Array"}Tt.isUint32Array=$te;function Wte(t){return us(t)==="Int8Array"}Tt.isInt8Array=Wte;function Kte(t){return us(t)==="Int16Array"}Tt.isInt16Array=Kte;function Hte(t){return us(t)==="Int32Array"}Tt.isInt32Array=Hte;function Vte(t){return us(t)==="Float32Array"}Tt.isFloat32Array=Vte;function Gte(t){return us(t)==="Float64Array"}Tt.isFloat64Array=Gte;function Zte(t){return us(t)==="BigInt64Array"}Tt.isBigInt64Array=Zte;function Yte(t){return us(t)==="BigUint64Array"}Tt.isBigUint64Array=Yte;function qb(t){return co(t)==="[object Map]"}qb.working=typeof Map<"u"&&qb(new Map);function Jte(t){return typeof Map>"u"?!1:qb.working?qb(t):t instanceof Map}Tt.isMap=Jte;function Lb(t){return co(t)==="[object Set]"}Lb.working=typeof Set<"u"&&Lb(new Set);function Qte(t){return typeof Set>"u"?!1:Lb.working?Lb(t):t instanceof Set}Tt.isSet=Qte;function Ub(t){return co(t)==="[object WeakMap]"}Ub.working=typeof WeakMap<"u"&&Ub(new WeakMap);function Xte(t){return typeof WeakMap>"u"?!1:Ub.working?Ub(t):t instanceof WeakMap}Tt.isWeakMap=Xte;function T8(t){return co(t)==="[object WeakSet]"}T8.working=typeof WeakSet<"u"&&T8(new WeakSet);function ere(t){return T8(t)}Tt.isWeakSet=ere;function Fb(t){return co(t)==="[object ArrayBuffer]"}Fb.working=typeof ArrayBuffer<"u"&&Fb(new ArrayBuffer);function eB(t){return typeof ArrayBuffer>"u"?!1:Fb.working?Fb(t):t instanceof ArrayBuffer}Tt.isArrayBuffer=eB;function zb(t){return co(t)==="[object DataView]"}zb.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&zb(new DataView(new ArrayBuffer(1),0,1));function tB(t){return typeof DataView>"u"?!1:zb.working?zb(t):t instanceof DataView}Tt.isDataView=tB;var A8=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function My(t){return co(t)==="[object SharedArrayBuffer]"}function rB(t){return typeof A8>"u"?!1:(typeof My.working>"u"&&(My.working=My(new A8)),My.working?My(t):t instanceof A8)}Tt.isSharedArrayBuffer=rB;function tre(t){return co(t)==="[object AsyncFunction]"}Tt.isAsyncFunction=tre;function rre(t){return co(t)==="[object Map Iterator]"}Tt.isMapIterator=rre;function ire(t){return co(t)==="[object Set Iterator]"}Tt.isSetIterator=ire;function nre(t){return co(t)==="[object Generator]"}Tt.isGeneratorObject=nre;function ore(t){return co(t)==="[object WebAssembly.Module]"}Tt.isWebAssemblyCompiledModule=ore;function iB(t){return Ay(t,Ote)}Tt.isNumberObject=iB;function nB(t){return Ay(t,jte)}Tt.isStringObject=nB;function oB(t){return Ay(t,Nte)}Tt.isBooleanObject=oB;function sB(t){return YD&&Ay(t,QD)}Tt.isBigIntObject=sB;function aB(t){return JD&&Ay(t,XD)}Tt.isSymbolObject=aB;function sre(t){return iB(t)||nB(t)||oB(t)||sB(t)||aB(t)}Tt.isBoxedPrimitive=sre;function are(t){return typeof Uint8Array<"u"&&(eB(t)||rB(t))}Tt.isAnyArrayBuffer=are;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(Tt,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var uB=z((Q8e,cB)=>{x();cB.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var md=z(Rt=>{x();var dB=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),i={},n=0;n<r.length;n++)i[r[n]]=Object.getOwnPropertyDescriptor(e,r[n]);return i},fre=/%[sdj%]/g;Rt.format=function(t){if(!Zb(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(vc(arguments[r]));return e.join(" ")}for(var r=1,i=arguments,n=i.length,o=String(t).replace(fre,function(f){if(f==="%%")return"%";if(r>=n)return f;switch(f){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch{return"[Circular]"}default:return f}}),s=i[r];r<n;s=i[++r])Gb(s)||!Ah(s)?o+=" "+s:o+=" "+vc(s);return o};Rt.deprecate=function(t,e){if(typeof C.default<"u"&&C.default.noDeprecation===!0)return t;if(typeof C.default>"u")return function(){return Rt.deprecate(t,e).apply(this,arguments)};var r=!1;function i(){if(!r){if(C.default.throwDeprecation)throw new Error(e);C.default.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return i};var $b={},lB=/^$/;C.default.env.NODE_DEBUG&&(Wb=C.default.env.NODE_DEBUG,Wb=Wb.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),lB=new RegExp("^"+Wb+"$","i"));var Wb;Rt.debuglog=function(t){if(t=t.toUpperCase(),!$b[t])if(lB.test(t)){var e=C.default.pid;$b[t]=function(){var r=Rt.format.apply(Rt,arguments);console.error("%s %d: %s",t,e,r)}}else $b[t]=function(){};return $b[t]};function vc(t,e){var r={seen:[],stylize:ure};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),I8(e)?r.showHidden=e:e&&Rt._extend(r,e),yd(r.showHidden)&&(r.showHidden=!1),yd(r.depth)&&(r.depth=2),yd(r.colors)&&(r.colors=!1),yd(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=cre),Hb(r,t,r.depth)}Rt.inspect=vc;vc.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};vc.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function cre(t,e){var r=vc.styles[e];return r?"\x1B["+vc.colors[r][0]+"m"+t+"\x1B["+vc.colors[r][1]+"m":t}function ure(t,e){return t}function dre(t){var e={};return t.forEach(function(r,i){e[r]=!0}),e}function Hb(t,e,r){if(t.customInspect&&e&&Kb(e.inspect)&&e.inspect!==Rt.inspect&&!(e.constructor&&e.constructor.prototype===e)){var i=e.inspect(r,t);return Zb(i)||(i=Hb(t,i,r)),i}var n=lre(t,e);if(n)return n;var o=Object.keys(e),s=dre(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),Ry(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return R8(e);if(o.length===0){if(Kb(e)){var f=e.name?": "+e.name:"";return t.stylize("[Function"+f+"]","special")}if(Ty(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Vb(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Ry(e))return R8(e)}var c="",d=!1,l=["{","}"];if(hB(e)&&(d=!0,l=["[","]"]),Kb(e)){var h=e.name?": "+e.name:"";c=" [Function"+h+"]"}if(Ty(e)&&(c=" "+RegExp.prototype.toString.call(e)),Vb(e)&&(c=" "+Date.prototype.toUTCString.call(e)),Ry(e)&&(c=" "+R8(e)),o.length===0&&(!d||e.length==0))return l[0]+c+l[1];if(r<0)return Ty(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var E;return d?E=hre(t,e,r,s,o):E=o.map(function(b){return k8(t,e,r,s,b,d)}),t.seen.pop(),pre(E,c,l)}function lre(t,e){if(yd(e))return t.stylize("undefined","undefined");if(Zb(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(pB(e))return t.stylize(""+e,"number");if(I8(e))return t.stylize(""+e,"boolean");if(Gb(e))return t.stylize("null","null")}function R8(t){return"["+Error.prototype.toString.call(t)+"]"}function hre(t,e,r,i,n){for(var o=[],s=0,f=e.length;s<f;++s)yB(e,String(s))?o.push(k8(t,e,r,i,String(s),!0)):o.push("");return n.forEach(function(c){c.match(/^\d+$/)||o.push(k8(t,e,r,i,c,!0))}),o}function k8(t,e,r,i,n,o){var s,f,c;if(c=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]},c.get?c.set?f=t.stylize("[Getter/Setter]","special"):f=t.stylize("[Getter]","special"):c.set&&(f=t.stylize("[Setter]","special")),yB(i,n)||(s="["+n+"]"),f||(t.seen.indexOf(c.value)<0?(Gb(r)?f=Hb(t,c.value,null):f=Hb(t,c.value,r-1),f.indexOf(`
`)>-1&&(o?f=f.split(`
`).map(function(d){return"  "+d}).join(`
`).substr(2):f=`
`+f.split(`
`).map(function(d){return"   "+d}).join(`
`))):f=t.stylize("[Circular]","special")),yd(s)){if(o&&n.match(/^\d+$/))return f;s=JSON.stringify(""+n),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+f}function pre(t,e,r){var i=0,n=t.reduce(function(o,s){return i++,s.indexOf(`
`)>=0&&i++,o+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}Rt.types=fB();function hB(t){return Array.isArray(t)}Rt.isArray=hB;function I8(t){return typeof t=="boolean"}Rt.isBoolean=I8;function Gb(t){return t===null}Rt.isNull=Gb;function yre(t){return t==null}Rt.isNullOrUndefined=yre;function pB(t){return typeof t=="number"}Rt.isNumber=pB;function Zb(t){return typeof t=="string"}Rt.isString=Zb;function mre(t){return typeof t=="symbol"}Rt.isSymbol=mre;function yd(t){return t===void 0}Rt.isUndefined=yd;function Ty(t){return Ah(t)&&D8(t)==="[object RegExp]"}Rt.isRegExp=Ty;Rt.types.isRegExp=Ty;function Ah(t){return typeof t=="object"&&t!==null}Rt.isObject=Ah;function Vb(t){return Ah(t)&&D8(t)==="[object Date]"}Rt.isDate=Vb;Rt.types.isDate=Vb;function Ry(t){return Ah(t)&&(D8(t)==="[object Error]"||t instanceof Error)}Rt.isError=Ry;Rt.types.isNativeError=Ry;function Kb(t){return typeof t=="function"}Rt.isFunction=Kb;function gre(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Rt.isPrimitive=gre;Rt.isBuffer=uB();function D8(t){return Object.prototype.toString.call(t)}function P8(t){return t<10?"0"+t.toString(10):t.toString(10)}var vre=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function bre(){var t=new Date,e=[P8(t.getHours()),P8(t.getMinutes()),P8(t.getSeconds())].join(":");return[t.getDate(),vre[t.getMonth()],e].join(" ")}Rt.log=function(){console.log("%s - %s",bre(),Rt.format.apply(Rt,arguments))};Rt.inherits=Qe();Rt._extend=function(t,e){if(!e||!Ah(e))return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t};function yB(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var pd=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Rt.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(pd&&e[pd]){var r=e[pd];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,pd,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var i,n,o=new Promise(function(c,d){i=c,n=d}),s=[],f=0;f<arguments.length;f++)s.push(arguments[f]);s.push(function(c,d){c?n(c):i(d)});try{e.apply(this,s)}catch(c){n(c)}return o}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),pd&&Object.defineProperty(r,pd,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,dB(e))};Rt.promisify.custom=pd;function wre(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function _re(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);var n=r.pop();if(typeof n!="function")throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return n.apply(o,arguments)};t.apply(this,r).then(function(f){C.default.nextTick(s.bind(null,null,f))},function(f){C.default.nextTick(wre.bind(null,f,s))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,dB(t)),e}Rt.callbackify=_re});var _B=z((rEe,wB)=>{"use strict";x();function mB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function gB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mB(Object(r),!0).forEach(function(i){Ere(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mB(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function Ere(t,e,r){return e=bB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vB(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,bB(i.key),i)}}function Sre(t,e,r){return e&&vB(t.prototype,e),r&&vB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bB(t){var e=Mre(t,"string");return typeof e=="symbol"?e:String(e)}function Mre(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Are=er(),Yb=Are.Buffer,Tre=md(),B8=Tre.inspect,Rre=B8&&B8.custom||"inspect";function Pre(t,e,r){Yb.prototype.copy.call(t,e,r)}wB.exports=function(){function t(){xre(this,t),this.head=null,this.tail=null,this.length=0}return Sre(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return Yb.alloc(0);for(var i=Yb.allocUnsafe(r>>>0),n=this.head,o=0;n;)Pre(n.data,i,o),o+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,o=i.data;for(r-=o.length;i=i.next;){var s=i.data,f=r>s.length?s.length:r;if(f===s.length?o+=s:o+=s.slice(0,r),r-=f,r===0){f===s.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(f));break}++n}return this.length-=n,o}},{key:"_getBuffer",value:function(r){var i=Yb.allocUnsafe(r),n=this.head,o=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var s=n.data,f=r>s.length?s.length:r;if(s.copy(i,i.length-r,0,f),r-=f,r===0){f===s.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(f));break}++o}return this.length-=o,i}},{key:Rre,value:function(r,i){return B8(this,gB(gB({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var O8=z((nEe,xB)=>{"use strict";x();function kre(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,C.default.nextTick(C8,this,t)):C.default.nextTick(C8,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?C.default.nextTick(Jb,r):(r._writableState.errorEmitted=!0,C.default.nextTick(EB,r,o)):C.default.nextTick(EB,r,o):e?(C.default.nextTick(Jb,r),e(o)):C.default.nextTick(Jb,r)}),this)}function EB(t,e){C8(t,e),Jb(t)}function Jb(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Ire(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function C8(t,e){t.emit("error",e)}function Dre(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}xB.exports={destroy:kre,undestroy:Ire,errorOrDestroy:Dre}});var gd=z((sEe,AB)=>{"use strict";x();function Bre(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var MB={};function uo(t,e,r){r||(r=Error);function i(o,s,f){return typeof e=="string"?e:e(o,s,f)}var n=function(o){Bre(s,o);function s(f,c,d){return o.call(this,i(f,c,d))||this}return s}(r);n.prototype.name=r.name,n.prototype.code=t,MB[t]=n}function SB(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Cre(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Ore(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function jre(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}uo("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);uo("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&Cre(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(Ore(t," argument"))n="The ".concat(t," ").concat(i," ").concat(SB(e,"type"));else{var o=jre(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(o," ").concat(i," ").concat(SB(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);uo("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");uo("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});uo("ERR_STREAM_PREMATURE_CLOSE","Premature close");uo("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});uo("ERR_MULTIPLE_CALLBACK","Callback called multiple times");uo("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");uo("ERR_STREAM_WRITE_AFTER_END","write after end");uo("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);uo("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);uo("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");AB.exports.codes=MB});var j8=z((fEe,TB)=>{"use strict";x();var Nre=gd().codes.ERR_INVALID_OPT_VALUE;function qre(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Lre(t,e,r,i){var n=qre(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var o=i?r:"highWaterMark";throw new Nre(o,n)}return Math.floor(n)}return t.objectMode?16:16*1024}TB.exports={getHighWaterMark:Lre}});var Qb=z((uEe,RB)=>{x();RB.exports=Ure;function Ure(t,e){if(N8("noDeprecation"))return t;var r=!1;function i(){if(!r){if(N8("throwDeprecation"))throw new Error(e);N8("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return i}function N8(t){try{if(!globalThis.localStorage)return!1}catch{return!1}var e=globalThis.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var U8=z((lEe,CB)=>{"use strict";x();CB.exports=Pr;function kB(t){var e=this;this.next=null,this.entry=null,this.finish=function(){hie(e,t)}}var Th;Pr.WritableState=ky;var Fre={deprecate:Qb()},IB=n8(),e1=er().Buffer,zre=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function $re(t){return e1.from(t)}function Wre(t){return e1.isBuffer(t)||t instanceof zre}var L8=O8(),Kre=j8(),Hre=Kre.getHighWaterMark,bc=gd().codes,Vre=bc.ERR_INVALID_ARG_TYPE,Gre=bc.ERR_METHOD_NOT_IMPLEMENTED,Zre=bc.ERR_MULTIPLE_CALLBACK,Yre=bc.ERR_STREAM_CANNOT_PIPE,Jre=bc.ERR_STREAM_DESTROYED,Qre=bc.ERR_STREAM_NULL_VALUES,Xre=bc.ERR_STREAM_WRITE_AFTER_END,eie=bc.ERR_UNKNOWN_ENCODING,Rh=L8.errorOrDestroy;Qe()(Pr,IB);function tie(){}function ky(t,e,r){Th=Th||vd(),t=t||{},typeof r!="boolean"&&(r=e instanceof Th),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Hre(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){fie(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new kB(this)}ky.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(ky.prototype,"buffer",{get:Fre.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Xb;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Xb=Function.prototype[Symbol.hasInstance],Object.defineProperty(Pr,Symbol.hasInstance,{value:function(e){return Xb.call(this,e)?!0:this!==Pr?!1:e&&e._writableState instanceof ky}})):Xb=function(e){return e instanceof this};function Pr(t){Th=Th||vd();var e=this instanceof Th;if(!e&&!Xb.call(Pr,this))return new Pr(t);this._writableState=new ky(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),IB.call(this)}Pr.prototype.pipe=function(){Rh(this,new Yre)};function rie(t,e){var r=new Xre;Rh(t,r),C.default.nextTick(e,r)}function iie(t,e,r,i){var n;return r===null?n=new Qre:typeof r!="string"&&!e.objectMode&&(n=new Vre("chunk",["string","Buffer"],r)),n?(Rh(t,n),C.default.nextTick(i,n),!1):!0}Pr.prototype.write=function(t,e,r){var i=this._writableState,n=!1,o=!i.objectMode&&Wre(t);return o&&!e1.isBuffer(t)&&(t=$re(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=tie),i.ending?rie(this,r):(o||iie(this,i,t,r))&&(i.pendingcb++,n=oie(this,i,o,t,e,r)),n};Pr.prototype.cork=function(){this._writableState.corked++};Pr.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&DB(this,t))};Pr.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new eie(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Pr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function nie(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=e1.from(e,r)),e}Object.defineProperty(Pr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function oie(t,e,r,i,n,o){if(!r){var s=nie(e,i,n);i!==s&&(r=!0,n="buffer",i=s)}var f=e.objectMode?1:i.length;e.length+=f;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var d=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},d?d.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else q8(t,e,!1,f,i,n,o);return c}function q8(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Jre("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function sie(t,e,r,i,n){--e.pendingcb,r?(C.default.nextTick(n,i),C.default.nextTick(Py,t,e),t._writableState.errorEmitted=!0,Rh(t,i)):(n(i),t._writableState.errorEmitted=!0,Rh(t,i),Py(t,e))}function aie(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function fie(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new Zre;if(aie(r),e)sie(t,r,i,e,n);else{var o=BB(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&DB(t,r),i?C.default.nextTick(PB,t,r,o,n):PB(t,r,o,n)}}function PB(t,e,r,i){r||cie(t,e),e.pendingcb--,i(),Py(t,e)}function cie(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function DB(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var s=0,f=!0;r;)n[s]=r,r.isBuf||(f=!1),r=r.next,s+=1;n.allBuffers=f,q8(t,e,!0,e.length,n,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new kB(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,d=r.encoding,l=r.callback,h=e.objectMode?1:c.length;if(q8(t,e,!1,h,c,d,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Pr.prototype._write=function(t,e,r){r(new Gre("_write()"))};Pr.prototype._writev=null;Pr.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||lie(this,i,r),this};Object.defineProperty(Pr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function BB(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function uie(t,e){t._final(function(r){e.pendingcb--,r&&Rh(t,r),e.prefinished=!0,t.emit("prefinish"),Py(t,e)})}function die(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,C.default.nextTick(uie,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Py(t,e){var r=BB(e);if(r&&(die(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function lie(t,e,r){e.ending=!0,Py(t,e),r&&(e.finished?C.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function hie(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(Pr.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Pr.prototype.destroy=L8.destroy;Pr.prototype._undestroy=L8.undestroy;Pr.prototype._destroy=function(t,e){e(t)}});var vd=z((pEe,jB)=>{"use strict";x();var pie=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};jB.exports=ra;var OB=$8(),z8=U8();Qe()(ra,OB);for(F8=pie(z8.prototype),t1=0;t1<F8.length;t1++)r1=F8[t1],ra.prototype[r1]||(ra.prototype[r1]=z8.prototype[r1]);var F8,r1,t1;function ra(t){if(!(this instanceof ra))return new ra(t);OB.call(this,t),z8.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",yie)))}Object.defineProperty(ra.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(ra.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(ra.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function yie(){this._writableState.ended||C.default.nextTick(mie,this)}function mie(t){t.end()}Object.defineProperty(ra.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var i1=z((mEe,LB)=>{"use strict";x();var NB=gd().codes.ERR_STREAM_PREMATURE_CLOSE;function gie(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function vie(){}function bie(t){return t.setHeader&&typeof t.abort=="function"}function qB(t,e,r){if(typeof e=="function")return qB(t,null,e);e||(e={}),r=gie(r||vie);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||f()},s=t._writableState&&t._writableState.finished,f=function(){n=!1,s=!0,i||r.call(t)},c=t._readableState&&t._readableState.endEmitted,d=function(){i=!1,c=!0,n||r.call(t)},l=function(T){r.call(t,T)},h=function(){var T;if(i&&!c)return(!t._readableState||!t._readableState.ended)&&(T=new NB),r.call(t,T);if(n&&!s)return(!t._writableState||!t._writableState.ended)&&(T=new NB),r.call(t,T)},E=function(){t.req.on("finish",f)};return bie(t)?(t.on("complete",f),t.on("abort",h),t.req?E():t.on("request",E)):n&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",d),t.on("finish",f),e.error!==!1&&t.on("error",l),t.on("close",h),function(){t.removeListener("complete",f),t.removeListener("abort",h),t.removeListener("request",E),t.req&&t.req.removeListener("finish",f),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",f),t.removeListener("end",d),t.removeListener("error",l),t.removeListener("close",h)}}LB.exports=qB});var FB=z((vEe,UB)=>{"use strict";x();var n1;function wc(t,e,r){return e=wie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wie(t){var e=_ie(t,"string");return typeof e=="symbol"?e:String(e)}function _ie(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eie=i1(),_c=Symbol("lastResolve"),bd=Symbol("lastReject"),Iy=Symbol("error"),o1=Symbol("ended"),wd=Symbol("lastPromise"),W8=Symbol("handlePromise"),_d=Symbol("stream");function Ec(t,e){return{value:t,done:e}}function xie(t){var e=t[_c];if(e!==null){var r=t[_d].read();r!==null&&(t[wd]=null,t[_c]=null,t[bd]=null,e(Ec(r,!1)))}}function Sie(t){C.default.nextTick(xie,t)}function Mie(t,e){return function(r,i){t.then(function(){if(e[o1]){r(Ec(void 0,!0));return}e[W8](r,i)},i)}}var Aie=Object.getPrototypeOf(function(){}),Tie=Object.setPrototypeOf((n1={get stream(){return this[_d]},next:function(){var e=this,r=this[Iy];if(r!==null)return Promise.reject(r);if(this[o1])return Promise.resolve(Ec(void 0,!0));if(this[_d].destroyed)return new Promise(function(s,f){C.default.nextTick(function(){e[Iy]?f(e[Iy]):s(Ec(void 0,!0))})});var i=this[wd],n;if(i)n=new Promise(Mie(i,this));else{var o=this[_d].read();if(o!==null)return Promise.resolve(Ec(o,!1));n=new Promise(this[W8])}return this[wd]=n,n}},wc(n1,Symbol.asyncIterator,function(){return this}),wc(n1,"return",function(){var e=this;return new Promise(function(r,i){e[_d].destroy(null,function(n){if(n){i(n);return}r(Ec(void 0,!0))})})}),n1),Aie),Rie=function(e){var r,i=Object.create(Tie,(r={},wc(r,_d,{value:e,writable:!0}),wc(r,_c,{value:null,writable:!0}),wc(r,bd,{value:null,writable:!0}),wc(r,Iy,{value:null,writable:!0}),wc(r,o1,{value:e._readableState.endEmitted,writable:!0}),wc(r,W8,{value:function(o,s){var f=i[_d].read();f?(i[wd]=null,i[_c]=null,i[bd]=null,o(Ec(f,!1))):(i[_c]=o,i[bd]=s)},writable:!0}),r));return i[wd]=null,Eie(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=i[bd];o!==null&&(i[wd]=null,i[_c]=null,i[bd]=null,o(n)),i[Iy]=n;return}var s=i[_c];s!==null&&(i[wd]=null,i[_c]=null,i[bd]=null,s(Ec(void 0,!0))),i[o1]=!0}),e.on("readable",Sie.bind(null,i)),i};UB.exports=Rie});var $B=z((wEe,zB)=>{x();zB.exports=function(){throw new Error("Readable.from is not available in the browser")}});var $8=z((xEe,XB)=>{"use strict";x();XB.exports=Gt;var Ph;Gt.ReadableState=VB;var EEe=oo().EventEmitter,HB=function(e,r){return e.listeners(r).length},By=n8(),s1=er().Buffer,Pie=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function kie(t){return s1.from(t)}function Iie(t){return s1.isBuffer(t)||t instanceof Pie}var K8=md(),_t;K8&&K8.debuglog?_t=K8.debuglog("stream"):_t=function(){};var Die=_B(),Q8=O8(),Bie=j8(),Cie=Bie.getHighWaterMark,a1=gd().codes,Oie=a1.ERR_INVALID_ARG_TYPE,jie=a1.ERR_STREAM_PUSH_AFTER_EOF,Nie=a1.ERR_METHOD_NOT_IMPLEMENTED,qie=a1.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,kh,H8,V8;Qe()(Gt,By);var Dy=Q8.errorOrDestroy,G8=["error","close","destroy","pause","resume"];function Lie(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function VB(t,e,r){Ph=Ph||vd(),t=t||{},typeof r!="boolean"&&(r=e instanceof Ph),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Cie(this,t,"readableHighWaterMark",r),this.buffer=new Die,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(kh||(kh=Ka().StringDecoder),this.decoder=new kh(t.encoding),this.encoding=t.encoding)}function Gt(t){if(Ph=Ph||vd(),!(this instanceof Gt))return new Gt(t);var e=this instanceof Ph;this._readableState=new VB(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),By.call(this)}Object.defineProperty(Gt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Gt.prototype.destroy=Q8.destroy;Gt.prototype._undestroy=Q8.undestroy;Gt.prototype._destroy=function(t,e){e(t)};Gt.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=s1.from(t,e),e=""),i=!0),GB(this,t,e,!1,i)};Gt.prototype.unshift=function(t){return GB(this,t,null,!0,!1)};function GB(t,e,r,i,n){_t("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,zie(t,o);else{var s;if(n||(s=Uie(o,e)),s)Dy(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==s1.prototype&&(e=kie(e)),i)o.endEmitted?Dy(t,new qie):Z8(t,o,e,!0);else if(o.ended)Dy(t,new jie);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?Z8(t,o,e,!1):J8(t,o)):Z8(t,o,e,!1)}else i||(o.reading=!1,J8(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function Z8(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&f1(t)),J8(t,e)}function Uie(t,e){var r;return!Iie(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Oie("chunk",["string","Buffer","Uint8Array"],e)),r}Gt.prototype.isPaused=function(){return this._readableState.flowing===!1};Gt.prototype.setEncoding=function(t){kh||(kh=Ka().StringDecoder);var e=new kh(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var WB=1073741824;function Fie(t){return t>=WB?t=WB:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function KB(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Fie(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Gt.prototype.read=function(t){_t("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return _t("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Y8(this):f1(this),null;if(t=KB(t,e),t===0&&e.ended)return e.length===0&&Y8(this),null;var i=e.needReadable;_t("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,_t("length less than watermark",i)),e.ended||e.reading?(i=!1,_t("reading or ended",i)):i&&(_t("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=KB(r,e)));var n;return t>0?n=JB(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Y8(this)),n!==null&&this.emit("data",n),n};function zie(t,e){if(_t("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?f1(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,ZB(t)))}}function f1(t){var e=t._readableState;_t("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(_t("emitReadable",e.flowing),e.emittedReadable=!0,C.default.nextTick(ZB,t))}function ZB(t){var e=t._readableState;_t("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,X8(t)}function J8(t,e){e.readingMore||(e.readingMore=!0,C.default.nextTick($ie,t,e))}function $ie(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(_t("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Gt.prototype._read=function(t){Dy(this,new Nie("_read()"))};Gt.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,_t("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==C.default.stdout&&t!==C.default.stderr,o=n?f:k;i.endEmitted?C.default.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(O,D){_t("onunpipe"),O===r&&D&&D.hasUnpiped===!1&&(D.hasUnpiped=!0,l())}function f(){_t("onend"),t.end()}var c=Wie(r);t.on("drain",c);var d=!1;function l(){_t("cleanup"),t.removeListener("close",b),t.removeListener("finish",T),t.removeListener("drain",c),t.removeListener("error",E),t.removeListener("unpipe",s),r.removeListener("end",f),r.removeListener("end",k),r.removeListener("data",h),d=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}r.on("data",h);function h(O){_t("ondata");var D=t.write(O);_t("dest.write",D),D===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&QB(i.pipes,t)!==-1)&&!d&&(_t("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function E(O){_t("onerror",O),k(),t.removeListener("error",E),HB(t,"error")===0&&Dy(t,O)}Lie(t,"error",E);function b(){t.removeListener("finish",T),k()}t.once("close",b);function T(){_t("onfinish"),t.removeListener("close",b),k()}t.once("finish",T);function k(){_t("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(_t("pipe resume"),r.resume()),t};function Wie(t){return function(){var r=t._readableState;_t("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&HB(t,"data")&&(r.flowing=!0,X8(t))}}Gt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=QB(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Gt.prototype.on=function(t,e){var r=By.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,_t("on readable",i.length,i.reading),i.length?f1(this):i.reading||C.default.nextTick(Kie,this)),r};Gt.prototype.addListener=Gt.prototype.on;Gt.prototype.removeListener=function(t,e){var r=By.prototype.removeListener.call(this,t,e);return t==="readable"&&C.default.nextTick(YB,this),r};Gt.prototype.removeAllListeners=function(t){var e=By.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&C.default.nextTick(YB,this),e};function YB(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Kie(t){_t("readable nexttick read 0"),t.read(0)}Gt.prototype.resume=function(){var t=this._readableState;return t.flowing||(_t("resume"),t.flowing=!t.readableListening,Hie(this,t)),t.paused=!1,this};function Hie(t,e){e.resumeScheduled||(e.resumeScheduled=!0,C.default.nextTick(Vie,t,e))}function Vie(t,e){_t("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),X8(t),e.flowing&&!e.reading&&t.read(0)}Gt.prototype.pause=function(){return _t("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_t("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X8(t){var e=t._readableState;for(_t("flow",e.flowing);e.flowing&&t.read()!==null;);}Gt.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(_t("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(_t("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var f=e.push(s);f||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(f){return function(){return t[f].apply(t,arguments)}}(n));for(var o=0;o<G8.length;o++)t.on(G8[o],this.emit.bind(this,G8[o]));return this._read=function(s){_t("wrapped _read",s),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(Gt.prototype[Symbol.asyncIterator]=function(){return H8===void 0&&(H8=FB()),H8(this)});Object.defineProperty(Gt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Gt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Gt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Gt._fromList=JB;Object.defineProperty(Gt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function JB(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Y8(t){var e=t._readableState;_t("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,C.default.nextTick(Gie,e,t))}function Gie(t,e){if(_t("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Gt.from=function(t,e){return V8===void 0&&(V8=$B()),V8(Gt,t,e)});function QB(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var eE=z((MEe,tC)=>{"use strict";x();tC.exports=Ya;var c1=gd().codes,Zie=c1.ERR_METHOD_NOT_IMPLEMENTED,Yie=c1.ERR_MULTIPLE_CALLBACK,Jie=c1.ERR_TRANSFORM_ALREADY_TRANSFORMING,Qie=c1.ERR_TRANSFORM_WITH_LENGTH_0,u1=vd();Qe()(Ya,u1);function Xie(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new Yie);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Ya(t){if(!(this instanceof Ya))return new Ya(t);u1.call(this,t),this._transformState={afterTransform:Xie.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",ene)}function ene(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){eC(t,e,r)}):eC(this,null,null)}Ya.prototype.push=function(t,e){return this._transformState.needTransform=!1,u1.prototype.push.call(this,t,e)};Ya.prototype._transform=function(t,e,r){r(new Zie("_transform()"))};Ya.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};Ya.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ya.prototype._destroy=function(t,e){u1.prototype._destroy.call(this,t,function(r){e(r)})};function eC(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Qie;if(t._transformState.transforming)throw new Jie;return t.push(null)}});var nC=z((TEe,iC)=>{"use strict";x();iC.exports=Cy;var rC=eE();Qe()(Cy,rC);function Cy(t){if(!(this instanceof Cy))return new Cy(t);rC.call(this,t)}Cy.prototype._transform=function(t,e,r){r(null,t)}});var cC=z((PEe,fC)=>{"use strict";x();var tE;function tne(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var aC=gd().codes,rne=aC.ERR_MISSING_ARGS,ine=aC.ERR_STREAM_DESTROYED;function oC(t){if(t)throw t}function nne(t){return t.setHeader&&typeof t.abort=="function"}function one(t,e,r,i){i=tne(i);var n=!1;t.on("close",function(){n=!0}),tE===void 0&&(tE=i1()),tE(t,{readable:e,writable:r},function(s){if(s)return i(s);n=!0,i()});var o=!1;return function(s){if(!n&&!o){if(o=!0,nne(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(s||new ine("pipe"))}}}function sC(t){t()}function sne(t,e){return t.pipe(e)}function ane(t){return!t.length||typeof t[t.length-1]!="function"?oC:t.pop()}function fne(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=ane(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new rne("streams");var n,o=e.map(function(s,f){var c=f<e.length-1,d=f>0;return one(s,c,d,function(l){n||(n=l),l&&o.forEach(sC),!c&&(o.forEach(sC),i(n))})});return e.reduce(sne)}fC.exports=fne});var dC=z((lo,uC)=>{x();lo=uC.exports=$8();lo.Stream=lo;lo.Readable=lo;lo.Writable=U8();lo.Duplex=vd();lo.Transform=eE();lo.PassThrough=nC();lo.finished=i1();lo.pipeline=cC()});var rE=z((DEe,hC)=>{"use strict";x();var d1=JI().Buffer,lC=dC().Transform,cne=Qe();function une(t,e){if(!d1.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function xc(t){lC.call(this),this._block=d1.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}cne(xc,lC);xc.prototype._transform=function(t,e,r){var i=null;try{this.update(t,e)}catch(n){i=n}r(i)};xc.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};xc.prototype.update=function(t,e){if(une(t,"Data"),this._finalized)throw new Error("Digest already called");d1.isBuffer(t)||(t=d1.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var n=this._blockOffset;n<this._blockSize;)r[n++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var o=0,s=t.length*8;s>0;++o)this._length[o]+=s,s=this._length[o]/4294967296|0,s>0&&(this._length[o]-=4294967296*s);return this};xc.prototype._update=function(){throw new Error("_update is not implemented")};xc.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};xc.prototype._digest=function(){throw new Error("_digest is not implemented")};hC.exports=xc});var p1=z((CEe,yC)=>{"use strict";x();var dne=Qe(),pC=rE(),lne=Ot().Buffer,hne=new Array(16);function l1(){pC.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}dne(l1,pC);l1.prototype._update=function(){for(var t=hne,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,i=this._b,n=this._c,o=this._d;r=Hi(r,i,n,o,t[0],3614090360,7),o=Hi(o,r,i,n,t[1],3905402710,12),n=Hi(n,o,r,i,t[2],606105819,17),i=Hi(i,n,o,r,t[3],3250441966,22),r=Hi(r,i,n,o,t[4],4118548399,7),o=Hi(o,r,i,n,t[5],1200080426,12),n=Hi(n,o,r,i,t[6],2821735955,17),i=Hi(i,n,o,r,t[7],4249261313,22),r=Hi(r,i,n,o,t[8],1770035416,7),o=Hi(o,r,i,n,t[9],2336552879,12),n=Hi(n,o,r,i,t[10],4294925233,17),i=Hi(i,n,o,r,t[11],2304563134,22),r=Hi(r,i,n,o,t[12],1804603682,7),o=Hi(o,r,i,n,t[13],4254626195,12),n=Hi(n,o,r,i,t[14],2792965006,17),i=Hi(i,n,o,r,t[15],1236535329,22),r=Vi(r,i,n,o,t[1],4129170786,5),o=Vi(o,r,i,n,t[6],3225465664,9),n=Vi(n,o,r,i,t[11],643717713,14),i=Vi(i,n,o,r,t[0],3921069994,20),r=Vi(r,i,n,o,t[5],3593408605,5),o=Vi(o,r,i,n,t[10],38016083,9),n=Vi(n,o,r,i,t[15],3634488961,14),i=Vi(i,n,o,r,t[4],3889429448,20),r=Vi(r,i,n,o,t[9],568446438,5),o=Vi(o,r,i,n,t[14],3275163606,9),n=Vi(n,o,r,i,t[3],4107603335,14),i=Vi(i,n,o,r,t[8],1163531501,20),r=Vi(r,i,n,o,t[13],2850285829,5),o=Vi(o,r,i,n,t[2],4243563512,9),n=Vi(n,o,r,i,t[7],1735328473,14),i=Vi(i,n,o,r,t[12],2368359562,20),r=Gi(r,i,n,o,t[5],4294588738,4),o=Gi(o,r,i,n,t[8],2272392833,11),n=Gi(n,o,r,i,t[11],1839030562,16),i=Gi(i,n,o,r,t[14],4259657740,23),r=Gi(r,i,n,o,t[1],2763975236,4),o=Gi(o,r,i,n,t[4],1272893353,11),n=Gi(n,o,r,i,t[7],4139469664,16),i=Gi(i,n,o,r,t[10],3200236656,23),r=Gi(r,i,n,o,t[13],681279174,4),o=Gi(o,r,i,n,t[0],3936430074,11),n=Gi(n,o,r,i,t[3],3572445317,16),i=Gi(i,n,o,r,t[6],76029189,23),r=Gi(r,i,n,o,t[9],3654602809,4),o=Gi(o,r,i,n,t[12],3873151461,11),n=Gi(n,o,r,i,t[15],530742520,16),i=Gi(i,n,o,r,t[2],3299628645,23),r=Zi(r,i,n,o,t[0],4096336452,6),o=Zi(o,r,i,n,t[7],1126891415,10),n=Zi(n,o,r,i,t[14],2878612391,15),i=Zi(i,n,o,r,t[5],4237533241,21),r=Zi(r,i,n,o,t[12],1700485571,6),o=Zi(o,r,i,n,t[3],2399980690,10),n=Zi(n,o,r,i,t[10],4293915773,15),i=Zi(i,n,o,r,t[1],2240044497,21),r=Zi(r,i,n,o,t[8],1873313359,6),o=Zi(o,r,i,n,t[15],4264355552,10),n=Zi(n,o,r,i,t[6],2734768916,15),i=Zi(i,n,o,r,t[13],1309151649,21),r=Zi(r,i,n,o,t[4],4149444226,6),o=Zi(o,r,i,n,t[11],3174756917,10),n=Zi(n,o,r,i,t[2],718787259,15),i=Zi(i,n,o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+o|0};l1.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=lne.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function h1(t,e){return t<<e|t>>>32-e}function Hi(t,e,r,i,n,o,s){return h1(t+(e&r|~e&i)+n+o|0,s)+e|0}function Vi(t,e,r,i,n,o,s){return h1(t+(e&i|r&~i)+n+o|0,s)+e|0}function Gi(t,e,r,i,n,o,s){return h1(t+(e^r^i)+n+o|0,s)+e|0}function Zi(t,e,r,i,n,o,s){return h1(t+(r^(e|~i))+n+o|0,s)+e|0}yC.exports=l1});var m1=z((jEe,EC)=>{"use strict";x();var iE=er().Buffer,pne=Qe(),_C=rE(),yne=new Array(16),Oy=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],jy=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ny=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],qy=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ly=[0,1518500249,1859775393,2400959708,2840853838],Uy=[1352829926,1548603684,1836072691,2053994217,0];function y1(){_C.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}pne(y1,_C);y1.prototype._update=function(){for(var t=yne,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,i=this._b|0,n=this._c|0,o=this._d|0,s=this._e|0,f=this._a|0,c=this._b|0,d=this._c|0,l=this._d|0,h=this._e|0,E=0;E<80;E+=1){var b,T;E<16?(b=mC(r,i,n,o,s,t[Oy[E]],Ly[0],Ny[E]),T=wC(f,c,d,l,h,t[jy[E]],Uy[0],qy[E])):E<32?(b=gC(r,i,n,o,s,t[Oy[E]],Ly[1],Ny[E]),T=bC(f,c,d,l,h,t[jy[E]],Uy[1],qy[E])):E<48?(b=vC(r,i,n,o,s,t[Oy[E]],Ly[2],Ny[E]),T=vC(f,c,d,l,h,t[jy[E]],Uy[2],qy[E])):E<64?(b=bC(r,i,n,o,s,t[Oy[E]],Ly[3],Ny[E]),T=gC(f,c,d,l,h,t[jy[E]],Uy[3],qy[E])):(b=wC(r,i,n,o,s,t[Oy[E]],Ly[4],Ny[E]),T=mC(f,c,d,l,h,t[jy[E]],Uy[4],qy[E])),r=s,s=o,o=Ed(n,10),n=i,i=b,f=h,h=l,l=Ed(d,10),d=c,c=T}var k=this._b+n+l|0;this._b=this._c+o+h|0,this._c=this._d+s+f|0,this._d=this._e+r+c|0,this._e=this._a+i+d|0,this._a=k};y1.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=iE.alloc?iE.alloc(20):new iE(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Ed(t,e){return t<<e|t>>>32-e}function mC(t,e,r,i,n,o,s,f){return Ed(t+(e^r^i)+o+s|0,f)+n|0}function gC(t,e,r,i,n,o,s,f){return Ed(t+(e&r|~e&i)+o+s|0,f)+n|0}function vC(t,e,r,i,n,o,s,f){return Ed(t+((e|~r)^i)+o+s|0,f)+n|0}function bC(t,e,r,i,n,o,s,f){return Ed(t+(e&i|r&~i)+o+s|0,f)+n|0}function wC(t,e,r,i,n,o,s,f){return Ed(t+(e^(r|~i))+o+s|0,f)+n|0}EC.exports=y1});var xd=z((qEe,SC)=>{x();var xC=Ot().Buffer;function g1(t,e){this._block=xC.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}g1.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=xC.from(t,e));for(var r=this._block,i=this._blockSize,n=t.length,o=this._len,s=0;s<n;){for(var f=o%i,c=Math.min(n-s,i-f),d=0;d<c;d++)r[f+d]=t[s+d];o+=c,s+=c,o%i===0&&this._update(r)}return this._len+=n,this};g1.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(r&4294967295)>>>0,n=(r-i)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o};g1.prototype._update=function(){throw new Error("_update must be implemented by subclass")};SC.exports=g1});var TC=z((UEe,AC)=>{x();var mne=Qe(),MC=xd(),gne=Ot().Buffer,vne=[1518500249,1859775393,-1894007588,-899497514],bne=new Array(80);function Fy(){this.init(),this._w=bne,MC.call(this,64,56)}mne(Fy,MC);Fy.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function wne(t){return t<<5|t>>>27}function _ne(t){return t<<30|t>>>2}function Ene(t,e,r,i){return t===0?e&r|~e&i:t===2?e&r|e&i|r&i:e^r^i}Fy.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,o=this._d|0,s=this._e|0,f=0;f<16;++f)e[f]=t.readInt32BE(f*4);for(;f<80;++f)e[f]=e[f-3]^e[f-8]^e[f-14]^e[f-16];for(var c=0;c<80;++c){var d=~~(c/20),l=wne(r)+Ene(d,i,n,o)+s+e[c]+vne[d]|0;s=o,o=n,n=_ne(i),i=r,r=l}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};Fy.prototype._hash=function(){var t=gne.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};AC.exports=Fy});var kC=z((zEe,PC)=>{x();var xne=Qe(),RC=xd(),Sne=Ot().Buffer,Mne=[1518500249,1859775393,-1894007588,-899497514],Ane=new Array(80);function zy(){this.init(),this._w=Ane,RC.call(this,64,56)}xne(zy,RC);zy.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Tne(t){return t<<1|t>>>31}function Rne(t){return t<<5|t>>>27}function Pne(t){return t<<30|t>>>2}function kne(t,e,r,i){return t===0?e&r|~e&i:t===2?e&r|e&i|r&i:e^r^i}zy.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,o=this._d|0,s=this._e|0,f=0;f<16;++f)e[f]=t.readInt32BE(f*4);for(;f<80;++f)e[f]=Tne(e[f-3]^e[f-8]^e[f-14]^e[f-16]);for(var c=0;c<80;++c){var d=~~(c/20),l=Rne(r)+kne(d,i,n,o)+s+e[c]+Mne[d]|0;s=o,o=n,n=Pne(i),i=r,r=l}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};zy.prototype._hash=function(){var t=Sne.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};PC.exports=zy});var nE=z((WEe,DC)=>{x();var Ine=Qe(),IC=xd(),Dne=Ot().Buffer,Bne=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Cne=new Array(64);function $y(){this.init(),this._w=Cne,IC.call(this,64,56)}Ine($y,IC);$y.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function One(t,e,r){return r^t&(e^r)}function jne(t,e,r){return t&e|r&(t|e)}function Nne(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function qne(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Lne(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Une(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}$y.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,o=this._d|0,s=this._e|0,f=this._f|0,c=this._g|0,d=this._h|0,l=0;l<16;++l)e[l]=t.readInt32BE(l*4);for(;l<64;++l)e[l]=Une(e[l-2])+e[l-7]+Lne(e[l-15])+e[l-16]|0;for(var h=0;h<64;++h){var E=d+qne(s)+One(s,f,c)+Bne[h]+e[h]|0,b=Nne(r)+jne(r,i,n)|0;d=c,c=f,f=s,s=o+E|0,o=n,n=i,i=r,r=E+b|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=f+this._f|0,this._g=c+this._g|0,this._h=d+this._h|0};$y.prototype._hash=function(){var t=Dne.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};DC.exports=$y});var CC=z((HEe,BC)=>{x();var Fne=Qe(),zne=nE(),$ne=xd(),Wne=Ot().Buffer,Kne=new Array(64);function v1(){this.init(),this._w=Kne,$ne.call(this,64,56)}Fne(v1,zne);v1.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};v1.prototype._hash=function(){var t=Wne.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};BC.exports=v1});var oE=z((GEe,FC)=>{x();var Hne=Qe(),UC=xd(),Vne=Ot().Buffer,OC=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Gne=new Array(160);function Wy(){this.init(),this._w=Gne,UC.call(this,128,112)}Hne(Wy,UC);Wy.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function jC(t,e,r){return r^t&(e^r)}function NC(t,e,r){return t&e|r&(t|e)}function qC(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function LC(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Zne(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Yne(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Jne(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Qne(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function bi(t,e){return t>>>0<e>>>0?1:0}Wy.prototype._update=function(t){for(var e=this._w,r=this._ah|0,i=this._bh|0,n=this._ch|0,o=this._dh|0,s=this._eh|0,f=this._fh|0,c=this._gh|0,d=this._hh|0,l=this._al|0,h=this._bl|0,E=this._cl|0,b=this._dl|0,T=this._el|0,k=this._fl|0,O=this._gl|0,D=this._hl|0,I=0;I<32;I+=2)e[I]=t.readInt32BE(I*4),e[I+1]=t.readInt32BE(I*4+4);for(;I<160;I+=2){var L=e[I-30],U=e[I-15*2+1],$=Zne(L,U),K=Yne(U,L);L=e[I-2*2],U=e[I-2*2+1];var q=Jne(L,U),F=Qne(U,L),G=e[I-7*2],B=e[I-7*2+1],w=e[I-16*2],M=e[I-16*2+1],_=K+B|0,a=$+G+bi(_,K)|0;_=_+F|0,a=a+q+bi(_,F)|0,_=_+M|0,a=a+w+bi(_,M)|0,e[I]=a,e[I+1]=_}for(var u=0;u<160;u+=2){a=e[u],_=e[u+1];var p=NC(r,i,n),v=NC(l,h,E),g=qC(r,l),m=qC(l,r),A=LC(s,T),R=LC(T,s),y=OC[u],P=OC[u+1],W=jC(s,f,c),H=jC(T,k,O),V=D+R|0,Z=d+A+bi(V,D)|0;V=V+H|0,Z=Z+W+bi(V,H)|0,V=V+P|0,Z=Z+y+bi(V,P)|0,V=V+_|0,Z=Z+a+bi(V,_)|0;var J=m+v|0,Q=g+p+bi(J,m)|0;d=c,D=O,c=f,O=k,f=s,k=T,T=b+V|0,s=o+Z+bi(T,b)|0,o=n,b=E,n=i,E=h,i=r,h=l,l=V+J|0,r=Z+Q+bi(l,V)|0}this._al=this._al+l|0,this._bl=this._bl+h|0,this._cl=this._cl+E|0,this._dl=this._dl+b|0,this._el=this._el+T|0,this._fl=this._fl+k|0,this._gl=this._gl+O|0,this._hl=this._hl+D|0,this._ah=this._ah+r+bi(this._al,l)|0,this._bh=this._bh+i+bi(this._bl,h)|0,this._ch=this._ch+n+bi(this._cl,E)|0,this._dh=this._dh+o+bi(this._dl,b)|0,this._eh=this._eh+s+bi(this._el,T)|0,this._fh=this._fh+f+bi(this._fl,k)|0,this._gh=this._gh+c+bi(this._gl,O)|0,this._hh=this._hh+d+bi(this._hl,D)|0};Wy.prototype._hash=function(){var t=Vne.allocUnsafe(64);function e(r,i,n){t.writeInt32BE(r,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};FC.exports=Wy});var $C=z((YEe,zC)=>{x();var Xne=Qe(),eoe=oE(),toe=xd(),roe=Ot().Buffer,ioe=new Array(160);function b1(){this.init(),this._w=ioe,toe.call(this,128,112)}Xne(b1,eoe);b1.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};b1.prototype._hash=function(){var t=roe.allocUnsafe(48);function e(r,i,n){t.writeInt32BE(r,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};zC.exports=b1});var w1=z((Ja,WC)=>{x();var Ja=WC.exports=function(e){e=e.toLowerCase();var r=Ja[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Ja.sha=TC();Ja.sha1=kC();Ja.sha224=CC();Ja.sha256=nE();Ja.sha384=$C();Ja.sha512=oE()});var sE=z((XEe,KC)=>{x();KC.exports=oo().EventEmitter});var JC=z((txe,YC)=>{"use strict";x();function HC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function VC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(r),!0).forEach(function(i){noe(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function noe(t,e,r){return e=ZC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ooe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GC(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,ZC(i.key),i)}}function soe(t,e,r){return e&&GC(t.prototype,e),r&&GC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZC(t){var e=aoe(t,"string");return typeof e=="symbol"?e:String(e)}function aoe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var foe=er(),_1=foe.Buffer,coe=md(),aE=coe.inspect,uoe=aE&&aE.custom||"inspect";function doe(t,e,r){_1.prototype.copy.call(t,e,r)}YC.exports=function(){function t(){ooe(this,t),this.head=null,this.tail=null,this.length=0}return soe(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return _1.alloc(0);for(var i=_1.allocUnsafe(r>>>0),n=this.head,o=0;n;)doe(n.data,i,o),o+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,o=i.data;for(r-=o.length;i=i.next;){var s=i.data,f=r>s.length?s.length:r;if(f===s.length?o+=s:o+=s.slice(0,r),r-=f,r===0){f===s.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(f));break}++n}return this.length-=n,o}},{key:"_getBuffer",value:function(r){var i=_1.allocUnsafe(r),n=this.head,o=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var s=n.data,f=r>s.length?s.length:r;if(s.copy(i,i.length-r,0,f),r-=f,r===0){f===s.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(f));break}++o}return this.length-=o,i}},{key:uoe,value:function(r,i){return aE(this,VC(VC({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var cE=z((ixe,XC)=>{"use strict";x();function loe(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,C.default.nextTick(fE,this,t)):C.default.nextTick(fE,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?C.default.nextTick(E1,r):(r._writableState.errorEmitted=!0,C.default.nextTick(QC,r,o)):C.default.nextTick(QC,r,o):e?(C.default.nextTick(E1,r),e(o)):C.default.nextTick(E1,r)}),this)}function QC(t,e){fE(t,e),E1(t)}function E1(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function hoe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function fE(t,e){t.emit("error",e)}function poe(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}XC.exports={destroy:loe,undestroy:hoe,errorOrDestroy:poe}});var Sd=z((oxe,rO)=>{"use strict";x();function yoe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var tO={};function ho(t,e,r){r||(r=Error);function i(o,s,f){return typeof e=="string"?e:e(o,s,f)}var n=function(o){yoe(s,o);function s(f,c,d){return o.call(this,i(f,c,d))||this}return s}(r);n.prototype.name=r.name,n.prototype.code=t,tO[t]=n}function eO(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function moe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function goe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function voe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ho("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ho("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&moe(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(goe(t," argument"))n="The ".concat(t," ").concat(i," ").concat(eO(e,"type"));else{var o=voe(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(o," ").concat(i," ").concat(eO(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);ho("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ho("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ho("ERR_STREAM_PREMATURE_CLOSE","Premature close");ho("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ho("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ho("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ho("ERR_STREAM_WRITE_AFTER_END","write after end");ho("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ho("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ho("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");rO.exports.codes=tO});var uE=z((axe,iO)=>{"use strict";x();var boe=Sd().codes.ERR_INVALID_OPT_VALUE;function woe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function _oe(t,e,r,i){var n=woe(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var o=i?r:"highWaterMark";throw new boe(o,n)}return Math.floor(n)}return t.objectMode?16:16*1024}iO.exports={getHighWaterMark:_oe}});var hE=z((cxe,cO)=>{"use strict";x();cO.exports=kr;function oO(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Goe(e,t)}}var Ih;kr.WritableState=Hy;var Eoe={deprecate:Qb()},sO=sE(),S1=er().Buffer,xoe=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Soe(t){return S1.from(t)}function Moe(t){return S1.isBuffer(t)||t instanceof xoe}var lE=cE(),Aoe=uE(),Toe=Aoe.getHighWaterMark,Sc=Sd().codes,Roe=Sc.ERR_INVALID_ARG_TYPE,Poe=Sc.ERR_METHOD_NOT_IMPLEMENTED,koe=Sc.ERR_MULTIPLE_CALLBACK,Ioe=Sc.ERR_STREAM_CANNOT_PIPE,Doe=Sc.ERR_STREAM_DESTROYED,Boe=Sc.ERR_STREAM_NULL_VALUES,Coe=Sc.ERR_STREAM_WRITE_AFTER_END,Ooe=Sc.ERR_UNKNOWN_ENCODING,Dh=lE.errorOrDestroy;Qe()(kr,sO);function joe(){}function Hy(t,e,r){Ih=Ih||Md(),t=t||{},typeof r!="boolean"&&(r=e instanceof Ih),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Toe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){$oe(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new oO(this)}Hy.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Hy.prototype,"buffer",{get:Eoe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var x1;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x1=Function.prototype[Symbol.hasInstance],Object.defineProperty(kr,Symbol.hasInstance,{value:function(e){return x1.call(this,e)?!0:this!==kr?!1:e&&e._writableState instanceof Hy}})):x1=function(e){return e instanceof this};function kr(t){Ih=Ih||Md();var e=this instanceof Ih;if(!e&&!x1.call(kr,this))return new kr(t);this._writableState=new Hy(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),sO.call(this)}kr.prototype.pipe=function(){Dh(this,new Ioe)};function Noe(t,e){var r=new Coe;Dh(t,r),C.default.nextTick(e,r)}function qoe(t,e,r,i){var n;return r===null?n=new Boe:typeof r!="string"&&!e.objectMode&&(n=new Roe("chunk",["string","Buffer"],r)),n?(Dh(t,n),C.default.nextTick(i,n),!1):!0}kr.prototype.write=function(t,e,r){var i=this._writableState,n=!1,o=!i.objectMode&&Moe(t);return o&&!S1.isBuffer(t)&&(t=Soe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=joe),i.ending?Noe(this,r):(o||qoe(this,i,t,r))&&(i.pendingcb++,n=Uoe(this,i,o,t,e,r)),n};kr.prototype.cork=function(){this._writableState.corked++};kr.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&aO(this,t))};kr.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Ooe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(kr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Loe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=S1.from(e,r)),e}Object.defineProperty(kr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Uoe(t,e,r,i,n,o){if(!r){var s=Loe(e,i,n);i!==s&&(r=!0,n="buffer",i=s)}var f=e.objectMode?1:i.length;e.length+=f;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var d=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},d?d.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else dE(t,e,!1,f,i,n,o);return c}function dE(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Doe("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function Foe(t,e,r,i,n){--e.pendingcb,r?(C.default.nextTick(n,i),C.default.nextTick(Ky,t,e),t._writableState.errorEmitted=!0,Dh(t,i)):(n(i),t._writableState.errorEmitted=!0,Dh(t,i),Ky(t,e))}function zoe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function $oe(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new koe;if(zoe(r),e)Foe(t,r,i,e,n);else{var o=fO(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&aO(t,r),i?C.default.nextTick(nO,t,r,o,n):nO(t,r,o,n)}}function nO(t,e,r,i){r||Woe(t,e),e.pendingcb--,i(),Ky(t,e)}function Woe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function aO(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var s=0,f=!0;r;)n[s]=r,r.isBuf||(f=!1),r=r.next,s+=1;n.allBuffers=f,dE(t,e,!0,e.length,n,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new oO(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,d=r.encoding,l=r.callback,h=e.objectMode?1:c.length;if(dE(t,e,!1,h,c,d,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}kr.prototype._write=function(t,e,r){r(new Poe("_write()"))};kr.prototype._writev=null;kr.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||Voe(this,i,r),this};Object.defineProperty(kr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function fO(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Koe(t,e){t._final(function(r){e.pendingcb--,r&&Dh(t,r),e.prefinished=!0,t.emit("prefinish"),Ky(t,e)})}function Hoe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,C.default.nextTick(Koe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Ky(t,e){var r=fO(e);if(r&&(Hoe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function Voe(t,e,r){e.ending=!0,Ky(t,e),r&&(e.finished?C.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Goe(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(kr.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});kr.prototype.destroy=lE.destroy;kr.prototype._undestroy=lE.undestroy;kr.prototype._destroy=function(t,e){e(t)}});var Md=z((dxe,dO)=>{"use strict";x();var Zoe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};dO.exports=ia;var uO=mE(),yE=hE();Qe()(ia,uO);for(pE=Zoe(yE.prototype),M1=0;M1<pE.length;M1++)A1=pE[M1],ia.prototype[A1]||(ia.prototype[A1]=yE.prototype[A1]);var pE,A1,M1;function ia(t){if(!(this instanceof ia))return new ia(t);uO.call(this,t),yE.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Yoe)))}Object.defineProperty(ia.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(ia.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(ia.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Yoe(){this._writableState.ended||C.default.nextTick(Joe,this)}function Joe(t){t.end()}Object.defineProperty(ia.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var T1=z((hxe,pO)=>{"use strict";x();var lO=Sd().codes.ERR_STREAM_PREMATURE_CLOSE;function Qoe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function Xoe(){}function ese(t){return t.setHeader&&typeof t.abort=="function"}function hO(t,e,r){if(typeof e=="function")return hO(t,null,e);e||(e={}),r=Qoe(r||Xoe);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||f()},s=t._writableState&&t._writableState.finished,f=function(){n=!1,s=!0,i||r.call(t)},c=t._readableState&&t._readableState.endEmitted,d=function(){i=!1,c=!0,n||r.call(t)},l=function(T){r.call(t,T)},h=function(){var T;if(i&&!c)return(!t._readableState||!t._readableState.ended)&&(T=new lO),r.call(t,T);if(n&&!s)return(!t._writableState||!t._writableState.ended)&&(T=new lO),r.call(t,T)},E=function(){t.req.on("finish",f)};return ese(t)?(t.on("complete",f),t.on("abort",h),t.req?E():t.on("request",E)):n&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",d),t.on("finish",f),e.error!==!1&&t.on("error",l),t.on("close",h),function(){t.removeListener("complete",f),t.removeListener("abort",h),t.removeListener("request",E),t.req&&t.req.removeListener("finish",f),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",f),t.removeListener("end",d),t.removeListener("error",l),t.removeListener("close",h)}}pO.exports=hO});var mO=z((yxe,yO)=>{"use strict";x();var R1;function Mc(t,e,r){return e=tse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tse(t){var e=rse(t,"string");return typeof e=="symbol"?e:String(e)}function rse(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ise=T1(),Ac=Symbol("lastResolve"),Ad=Symbol("lastReject"),Vy=Symbol("error"),P1=Symbol("ended"),Td=Symbol("lastPromise"),gE=Symbol("handlePromise"),Rd=Symbol("stream");function Tc(t,e){return{value:t,done:e}}function nse(t){var e=t[Ac];if(e!==null){var r=t[Rd].read();r!==null&&(t[Td]=null,t[Ac]=null,t[Ad]=null,e(Tc(r,!1)))}}function ose(t){C.default.nextTick(nse,t)}function sse(t,e){return function(r,i){t.then(function(){if(e[P1]){r(Tc(void 0,!0));return}e[gE](r,i)},i)}}var ase=Object.getPrototypeOf(function(){}),fse=Object.setPrototypeOf((R1={get stream(){return this[Rd]},next:function(){var e=this,r=this[Vy];if(r!==null)return Promise.reject(r);if(this[P1])return Promise.resolve(Tc(void 0,!0));if(this[Rd].destroyed)return new Promise(function(s,f){C.default.nextTick(function(){e[Vy]?f(e[Vy]):s(Tc(void 0,!0))})});var i=this[Td],n;if(i)n=new Promise(sse(i,this));else{var o=this[Rd].read();if(o!==null)return Promise.resolve(Tc(o,!1));n=new Promise(this[gE])}return this[Td]=n,n}},Mc(R1,Symbol.asyncIterator,function(){return this}),Mc(R1,"return",function(){var e=this;return new Promise(function(r,i){e[Rd].destroy(null,function(n){if(n){i(n);return}r(Tc(void 0,!0))})})}),R1),ase),cse=function(e){var r,i=Object.create(fse,(r={},Mc(r,Rd,{value:e,writable:!0}),Mc(r,Ac,{value:null,writable:!0}),Mc(r,Ad,{value:null,writable:!0}),Mc(r,Vy,{value:null,writable:!0}),Mc(r,P1,{value:e._readableState.endEmitted,writable:!0}),Mc(r,gE,{value:function(o,s){var f=i[Rd].read();f?(i[Td]=null,i[Ac]=null,i[Ad]=null,o(Tc(f,!1))):(i[Ac]=o,i[Ad]=s)},writable:!0}),r));return i[Td]=null,ise(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=i[Ad];o!==null&&(i[Td]=null,i[Ac]=null,i[Ad]=null,o(n)),i[Vy]=n;return}var s=i[Ac];s!==null&&(i[Td]=null,i[Ac]=null,i[Ad]=null,s(Tc(void 0,!0))),i[P1]=!0}),e.on("readable",ose.bind(null,i)),i};yO.exports=cse});var vO=z((gxe,gO)=>{x();gO.exports=function(){throw new Error("Readable.from is not available in the browser")}});var mE=z((wxe,RO)=>{"use strict";x();RO.exports=Zt;var Bh;Zt.ReadableState=EO;var bxe=oo().EventEmitter,_O=function(e,r){return e.listeners(r).length},Zy=sE(),k1=er().Buffer,use=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function dse(t){return k1.from(t)}function lse(t){return k1.isBuffer(t)||t instanceof use}var vE=md(),Et;vE&&vE.debuglog?Et=vE.debuglog("stream"):Et=function(){};var hse=JC(),ME=cE(),pse=uE(),yse=pse.getHighWaterMark,I1=Sd().codes,mse=I1.ERR_INVALID_ARG_TYPE,gse=I1.ERR_STREAM_PUSH_AFTER_EOF,vse=I1.ERR_METHOD_NOT_IMPLEMENTED,bse=I1.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Ch,bE,wE;Qe()(Zt,Zy);var Gy=ME.errorOrDestroy,_E=["error","close","destroy","pause","resume"];function wse(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function EO(t,e,r){Bh=Bh||Md(),t=t||{},typeof r!="boolean"&&(r=e instanceof Bh),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=yse(this,t,"readableHighWaterMark",r),this.buffer=new hse,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Ch||(Ch=Ka().StringDecoder),this.decoder=new Ch(t.encoding),this.encoding=t.encoding)}function Zt(t){if(Bh=Bh||Md(),!(this instanceof Zt))return new Zt(t);var e=this instanceof Bh;this._readableState=new EO(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Zy.call(this)}Object.defineProperty(Zt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Zt.prototype.destroy=ME.destroy;Zt.prototype._undestroy=ME.undestroy;Zt.prototype._destroy=function(t,e){e(t)};Zt.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=k1.from(t,e),e=""),i=!0),xO(this,t,e,!1,i)};Zt.prototype.unshift=function(t){return xO(this,t,null,!0,!1)};function xO(t,e,r,i,n){Et("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,xse(t,o);else{var s;if(n||(s=_se(o,e)),s)Gy(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==k1.prototype&&(e=dse(e)),i)o.endEmitted?Gy(t,new bse):EE(t,o,e,!0);else if(o.ended)Gy(t,new gse);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?EE(t,o,e,!1):SE(t,o)):EE(t,o,e,!1)}else i||(o.reading=!1,SE(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function EE(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&D1(t)),SE(t,e)}function _se(t,e){var r;return!lse(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new mse("chunk",["string","Buffer","Uint8Array"],e)),r}Zt.prototype.isPaused=function(){return this._readableState.flowing===!1};Zt.prototype.setEncoding=function(t){Ch||(Ch=Ka().StringDecoder);var e=new Ch(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var bO=1073741824;function Ese(t){return t>=bO?t=bO:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function wO(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Ese(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Zt.prototype.read=function(t){Et("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Et("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?xE(this):D1(this),null;if(t=wO(t,e),t===0&&e.ended)return e.length===0&&xE(this),null;var i=e.needReadable;Et("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Et("length less than watermark",i)),e.ended||e.reading?(i=!1,Et("reading or ended",i)):i&&(Et("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=wO(r,e)));var n;return t>0?n=AO(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&xE(this)),n!==null&&this.emit("data",n),n};function xse(t,e){if(Et("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?D1(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,SO(t)))}}function D1(t){var e=t._readableState;Et("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Et("emitReadable",e.flowing),e.emittedReadable=!0,C.default.nextTick(SO,t))}function SO(t){var e=t._readableState;Et("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,AE(t)}function SE(t,e){e.readingMore||(e.readingMore=!0,C.default.nextTick(Sse,t,e))}function Sse(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Et("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Zt.prototype._read=function(t){Gy(this,new vse("_read()"))};Zt.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,Et("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==C.default.stdout&&t!==C.default.stderr,o=n?f:k;i.endEmitted?C.default.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(O,D){Et("onunpipe"),O===r&&D&&D.hasUnpiped===!1&&(D.hasUnpiped=!0,l())}function f(){Et("onend"),t.end()}var c=Mse(r);t.on("drain",c);var d=!1;function l(){Et("cleanup"),t.removeListener("close",b),t.removeListener("finish",T),t.removeListener("drain",c),t.removeListener("error",E),t.removeListener("unpipe",s),r.removeListener("end",f),r.removeListener("end",k),r.removeListener("data",h),d=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}r.on("data",h);function h(O){Et("ondata");var D=t.write(O);Et("dest.write",D),D===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&TO(i.pipes,t)!==-1)&&!d&&(Et("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function E(O){Et("onerror",O),k(),t.removeListener("error",E),_O(t,"error")===0&&Gy(t,O)}wse(t,"error",E);function b(){t.removeListener("finish",T),k()}t.once("close",b);function T(){Et("onfinish"),t.removeListener("close",b),k()}t.once("finish",T);function k(){Et("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(Et("pipe resume"),r.resume()),t};function Mse(t){return function(){var r=t._readableState;Et("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&_O(t,"data")&&(r.flowing=!0,AE(t))}}Zt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=TO(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Zt.prototype.on=function(t,e){var r=Zy.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Et("on readable",i.length,i.reading),i.length?D1(this):i.reading||C.default.nextTick(Ase,this)),r};Zt.prototype.addListener=Zt.prototype.on;Zt.prototype.removeListener=function(t,e){var r=Zy.prototype.removeListener.call(this,t,e);return t==="readable"&&C.default.nextTick(MO,this),r};Zt.prototype.removeAllListeners=function(t){var e=Zy.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&C.default.nextTick(MO,this),e};function MO(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Ase(t){Et("readable nexttick read 0"),t.read(0)}Zt.prototype.resume=function(){var t=this._readableState;return t.flowing||(Et("resume"),t.flowing=!t.readableListening,Tse(this,t)),t.paused=!1,this};function Tse(t,e){e.resumeScheduled||(e.resumeScheduled=!0,C.default.nextTick(Rse,t,e))}function Rse(t,e){Et("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),AE(t),e.flowing&&!e.reading&&t.read(0)}Zt.prototype.pause=function(){return Et("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Et("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function AE(t){var e=t._readableState;for(Et("flow",e.flowing);e.flowing&&t.read()!==null;);}Zt.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(Et("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Et("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var f=e.push(s);f||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(f){return function(){return t[f].apply(t,arguments)}}(n));for(var o=0;o<_E.length;o++)t.on(_E[o],this.emit.bind(this,_E[o]));return this._read=function(s){Et("wrapped _read",s),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(Zt.prototype[Symbol.asyncIterator]=function(){return bE===void 0&&(bE=mO()),bE(this)});Object.defineProperty(Zt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Zt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Zt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Zt._fromList=AO;Object.defineProperty(Zt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function AO(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function xE(t){var e=t._readableState;Et("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,C.default.nextTick(Pse,e,t))}function Pse(t,e){if(Et("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Zt.from=function(t,e){return wE===void 0&&(wE=vO()),wE(Zt,t,e)});function TO(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var TE=z((Exe,kO)=>{"use strict";x();kO.exports=Qa;var B1=Sd().codes,kse=B1.ERR_METHOD_NOT_IMPLEMENTED,Ise=B1.ERR_MULTIPLE_CALLBACK,Dse=B1.ERR_TRANSFORM_ALREADY_TRANSFORMING,Bse=B1.ERR_TRANSFORM_WITH_LENGTH_0,C1=Md();Qe()(Qa,C1);function Cse(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new Ise);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Qa(t){if(!(this instanceof Qa))return new Qa(t);C1.call(this,t),this._transformState={afterTransform:Cse.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Ose)}function Ose(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){PO(t,e,r)}):PO(this,null,null)}Qa.prototype.push=function(t,e){return this._transformState.needTransform=!1,C1.prototype.push.call(this,t,e)};Qa.prototype._transform=function(t,e,r){r(new kse("_transform()"))};Qa.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};Qa.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Qa.prototype._destroy=function(t,e){C1.prototype._destroy.call(this,t,function(r){e(r)})};function PO(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Bse;if(t._transformState.transforming)throw new Dse;return t.push(null)}});var BO=z((Sxe,DO)=>{"use strict";x();DO.exports=Yy;var IO=TE();Qe()(Yy,IO);function Yy(t){if(!(this instanceof Yy))return new Yy(t);IO.call(this,t)}Yy.prototype._transform=function(t,e,r){r(null,t)}});var qO=z((Axe,NO)=>{"use strict";x();var RE;function jse(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var jO=Sd().codes,Nse=jO.ERR_MISSING_ARGS,qse=jO.ERR_STREAM_DESTROYED;function CO(t){if(t)throw t}function Lse(t){return t.setHeader&&typeof t.abort=="function"}function Use(t,e,r,i){i=jse(i);var n=!1;t.on("close",function(){n=!0}),RE===void 0&&(RE=T1()),RE(t,{readable:e,writable:r},function(s){if(s)return i(s);n=!0,i()});var o=!1;return function(s){if(!n&&!o){if(o=!0,Lse(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(s||new qse("pipe"))}}}function OO(t){t()}function Fse(t,e){return t.pipe(e)}function zse(t){return!t.length||typeof t[t.length-1]!="function"?CO:t.pop()}function $se(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=zse(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Nse("streams");var n,o=e.map(function(s,f){var c=f<e.length-1,d=f>0;return Use(s,c,d,function(l){n||(n=l),l&&o.forEach(OO),!c&&(o.forEach(OO),i(n))})});return e.reduce(Fse)}NO.exports=$se});var UO=z((Rxe,LO)=>{x();LO.exports=po;var PE=oo().EventEmitter,Wse=Qe();Wse(po,PE);po.Readable=mE();po.Writable=hE();po.Duplex=Md();po.Transform=TE();po.PassThrough=BO();po.finished=T1();po.pipeline=qO();po.Stream=po;function po(){PE.call(this)}po.prototype.pipe=function(t,e){var r=this;function i(l){t.writable&&t.write(l)===!1&&r.pause&&r.pause()}r.on("data",i);function n(){r.readable&&r.resume&&r.resume()}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",f));var o=!1;function s(){o||(o=!0,t.end())}function f(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function c(l){if(d(),PE.listenerCount(this,"error")===0)throw l}r.on("error",c),t.on("error",c);function d(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",s),r.removeListener("close",f),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",d),r.removeListener("close",d),t.removeListener("close",d)}return r.on("end",d),r.on("close",d),t.on("close",d),t.emit("pipe",r),t}});var Xa=z((kxe,$O)=>{x();var FO=Ot().Buffer,zO=UO().Transform,Kse=Ka().StringDecoder,Hse=Qe();function ds(t){zO.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}Hse(ds,zO);ds.prototype.update=function(t,e,r){typeof t=="string"&&(t=FO.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};ds.prototype.setAutoPadding=function(){};ds.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};ds.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};ds.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};ds.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(n){i=n}finally{r(i)}};ds.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};ds.prototype._finalOrDigest=function(t){var e=this.__final()||FO.alloc(0);return t&&(e=this._toString(e,t,!0)),e};ds.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new Kse(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i};$O.exports=ds});var Oh=z((Dxe,KO)=>{"use strict";x();var Vse=Qe(),Gse=p1(),Zse=m1(),Yse=w1(),WO=Xa();function O1(t){WO.call(this,"digest"),this._hash=t}Vse(O1,WO);O1.prototype._update=function(t){this._hash.update(t)};O1.prototype._final=function(){return this._hash.digest()};KO.exports=function(e){return e=e.toLowerCase(),e==="md5"?new Gse:e==="rmd160"||e==="ripemd160"?new Zse:new O1(Yse(e))}});var GO=z((Cxe,VO)=>{"use strict";x();var Jse=Qe(),Pd=Ot().Buffer,HO=Xa(),Qse=Pd.alloc(128),jh=64;function j1(t,e){HO.call(this,"digest"),typeof e=="string"&&(e=Pd.from(e)),this._alg=t,this._key=e,e.length>jh?e=t(e):e.length<jh&&(e=Pd.concat([e,Qse],jh));for(var r=this._ipad=Pd.allocUnsafe(jh),i=this._opad=Pd.allocUnsafe(jh),n=0;n<jh;n++)r[n]=e[n]^54,i[n]=e[n]^92;this._hash=[r]}Jse(j1,HO);j1.prototype._update=function(t){this._hash.push(t)};j1.prototype._final=function(){var t=this._alg(Pd.concat(this._hash));return this._alg(Pd.concat([this._opad,t]))};VO.exports=j1});var kE=z((jxe,ZO)=>{x();var Xse=p1();ZO.exports=function(t){return new Xse().update(t).digest()}});var BE=z((qxe,JO)=>{"use strict";x();var eae=Qe(),tae=GO(),YO=Xa(),Jy=Ot().Buffer,rae=kE(),IE=m1(),DE=w1(),iae=Jy.alloc(128);function Qy(t,e){YO.call(this,"digest"),typeof e=="string"&&(e=Jy.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var i=t==="rmd160"?new IE:DE(t);e=i.update(e).digest()}else e.length<r&&(e=Jy.concat([e,iae],r));for(var n=this._ipad=Jy.allocUnsafe(r),o=this._opad=Jy.allocUnsafe(r),s=0;s<r;s++)n[s]=e[s]^54,o[s]=e[s]^92;this._hash=t==="rmd160"?new IE:DE(t),this._hash.update(n)}eae(Qy,YO);Qy.prototype._update=function(t){this._hash.update(t)};Qy.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new IE:DE(this._alg);return e.update(this._opad).update(t).digest()};JO.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new Qy("rmd160",r):e==="md5"?new tae(rae,r):new Qy(e,r)}});var CE=z((Uxe,nae)=>{nae.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var XO=z((Fxe,QO)=>{x();QO.exports=CE()});var OE=z(($xe,ej)=>{x();var oae=Math.pow(2,30)-1;ej.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>oae||e!==e)throw new TypeError("Bad key length")}});var jE=z((Kxe,rj)=>{x();var N1;globalThis.process&&globalThis.process.browser?N1="utf-8":globalThis.process&&globalThis.process.version?(tj=parseInt(C.default.version.split(".")[0].slice(1),10),N1=tj>=6?"utf-8":"binary"):N1="utf-8";var tj;rj.exports=N1});var qE=z((Vxe,ij)=>{x();var NE=Ot().Buffer;ij.exports=function(t,e,r){if(NE.isBuffer(t))return t;if(typeof t=="string")return NE.from(t,e);if(ArrayBuffer.isView(t))return NE.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var LE=z((Zxe,aj)=>{x();var sae=kE(),aae=m1(),fae=w1(),kd=Ot().Buffer,cae=OE(),nj=jE(),oj=qE(),uae=kd.alloc(128),q1={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function sj(t,e,r){var i=dae(t),n=t==="sha512"||t==="sha384"?128:64;e.length>n?e=i(e):e.length<n&&(e=kd.concat([e,uae],n));for(var o=kd.allocUnsafe(n+q1[t]),s=kd.allocUnsafe(n+q1[t]),f=0;f<n;f++)o[f]=e[f]^54,s[f]=e[f]^92;var c=kd.allocUnsafe(n+r+4);o.copy(c,0,0,n),this.ipad1=c,this.ipad2=o,this.opad=s,this.alg=t,this.blocksize=n,this.hash=i,this.size=q1[t]}sj.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function dae(t){function e(i){return fae(t).update(i).digest()}function r(i){return new aae().update(i).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?sae:e}function lae(t,e,r,i,n){cae(r,i),t=oj(t,nj,"Password"),e=oj(e,nj,"Salt"),n=n||"sha1";var o=new sj(n,t,e.length),s=kd.allocUnsafe(i),f=kd.allocUnsafe(e.length+4);e.copy(f,0,0,e.length);for(var c=0,d=q1[n],l=Math.ceil(i/d),h=1;h<=l;h++){f.writeUInt32BE(h,e.length);for(var E=o.run(f,o.ipad1),b=E,T=1;T<r;T++){b=o.run(b,o.ipad2);for(var k=0;k<d;k++)E[k]^=b[k]}E.copy(s,c),c+=d}return s}aj.exports=lae});var pj=z((Jxe,hj)=>{x();var dj=Ot().Buffer,hae=OE(),fj=jE(),cj=LE(),uj=qE(),L1,Xy=globalThis.crypto&&globalThis.crypto.subtle,pae={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},UE=[];function yae(t){if(globalThis.process&&!globalThis.process.browser||!Xy||!Xy.importKey||!Xy.deriveBits)return Promise.resolve(!1);if(UE[t]!==void 0)return UE[t];L1=L1||dj.alloc(8);var e=lj(L1,L1,10,128,t).then(function(){return!0}).catch(function(){return!1});return UE[t]=e,e}var Id;function FE(){return Id||(globalThis.process&&globalThis.process.nextTick?Id=globalThis.process.nextTick:globalThis.queueMicrotask?Id=globalThis.queueMicrotask:globalThis.setImmediate?Id=globalThis.setImmediate:Id=globalThis.setTimeout,Id)}function lj(t,e,r,i,n){return Xy.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(o){return Xy.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:n}},o,i<<3)}).then(function(o){return dj.from(o)})}function mae(t,e){t.then(function(r){FE()(function(){e(null,r)})},function(r){FE()(function(){e(r)})})}hj.exports=function(t,e,r,i,n,o){typeof n=="function"&&(o=n,n=void 0),n=n||"sha1";var s=pae[n.toLowerCase()];if(!s||typeof globalThis.Promise!="function"){FE()(function(){var f;try{f=cj(t,e,r,i,n)}catch(c){return o(c)}o(null,f)});return}if(hae(r,i),t=uj(t,fj,"Password"),e=uj(e,fj,"Salt"),typeof o!="function")throw new Error("No callback provided to pbkdf2");mae(yae(s).then(function(f){return f?lj(t,e,r,i,s):cj(t,e,r,i,n)}),o)}});var $E=z(zE=>{x();zE.pbkdf2=pj();zE.pbkdf2Sync=LE()});var WE=z(yo=>{"use strict";x();yo.readUInt32BE=function(e,r){var i=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return i>>>0};yo.writeUInt32BE=function(e,r,i){e[0+i]=r>>>24,e[1+i]=r>>>16&255,e[2+i]=r>>>8&255,e[3+i]=r&255};yo.ip=function(e,r,i,n){for(var o=0,s=0,f=6;f>=0;f-=2){for(var c=0;c<=24;c+=8)o<<=1,o|=r>>>c+f&1;for(var c=0;c<=24;c+=8)o<<=1,o|=e>>>c+f&1}for(var f=6;f>=0;f-=2){for(var c=1;c<=25;c+=8)s<<=1,s|=r>>>c+f&1;for(var c=1;c<=25;c+=8)s<<=1,s|=e>>>c+f&1}i[n+0]=o>>>0,i[n+1]=s>>>0};yo.rip=function(e,r,i,n){for(var o=0,s=0,f=0;f<4;f++)for(var c=24;c>=0;c-=8)o<<=1,o|=r>>>c+f&1,o<<=1,o|=e>>>c+f&1;for(var f=4;f<8;f++)for(var c=24;c>=0;c-=8)s<<=1,s|=r>>>c+f&1,s<<=1,s|=e>>>c+f&1;i[n+0]=o>>>0,i[n+1]=s>>>0};yo.pc1=function(e,r,i,n){for(var o=0,s=0,f=7;f>=5;f--){for(var c=0;c<=24;c+=8)o<<=1,o|=r>>c+f&1;for(var c=0;c<=24;c+=8)o<<=1,o|=e>>c+f&1}for(var c=0;c<=24;c+=8)o<<=1,o|=r>>c+f&1;for(var f=1;f<=3;f++){for(var c=0;c<=24;c+=8)s<<=1,s|=r>>c+f&1;for(var c=0;c<=24;c+=8)s<<=1,s|=e>>c+f&1}for(var c=0;c<=24;c+=8)s<<=1,s|=e>>c+f&1;i[n+0]=o>>>0,i[n+1]=s>>>0};yo.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var U1=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];yo.pc2=function(e,r,i,n){for(var o=0,s=0,f=U1.length>>>1,c=0;c<f;c++)o<<=1,o|=e>>>U1[c]&1;for(var c=f;c<U1.length;c++)s<<=1,s|=r>>>U1[c]&1;i[n+0]=o>>>0,i[n+1]=s>>>0};yo.expand=function(e,r,i){var n=0,o=0;n=(e&1)<<5|e>>>27;for(var s=23;s>=15;s-=4)n<<=6,n|=e>>>s&63;for(var s=11;s>=3;s-=4)o|=e>>>s&63,o<<=6;o|=(e&31)<<1|e>>>31,r[i+0]=n>>>0,r[i+1]=o>>>0};var yj=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];yo.substitute=function(e,r){for(var i=0,n=0;n<4;n++){var o=e>>>18-n*6&63,s=yj[n*64+o];i<<=4,i|=s}for(var n=0;n<4;n++){var o=r>>>18-n*6&63,s=yj[4*64+n*64+o];i<<=4,i|=s}return i>>>0};var mj=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];yo.permute=function(e){for(var r=0,i=0;i<mj.length;i++)r<<=1,r|=e>>>mj[i]&1;return r>>>0};yo.padSplit=function(e,r,i){for(var n=e.toString(2);n.length<r;)n="0"+n;for(var o=[],s=0;s<r;s+=i)o.push(n.slice(s,s+i));return o.join(" ")}});var zn=z((i5e,vj)=>{x();vj.exports=gj;function gj(t,e){if(!t)throw new Error(e||"Assertion failed")}gj.equal=function(e,r,i){if(e!=r)throw new Error(i||"Assertion failed: "+e+" != "+r)}});var F1=z((o5e,bj)=>{"use strict";x();var gae=zn();function mo(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}bj.exports=mo;mo.prototype._init=function(){};mo.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};mo.prototype._buffer=function(e,r){for(var i=Math.min(this.buffer.length-this.bufferOff,e.length-r),n=0;n<i;n++)this.buffer[this.bufferOff+n]=e[r+n];return this.bufferOff+=i,i};mo.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};mo.prototype._updateEncrypt=function(e){var r=0,i=0,n=(this.bufferOff+e.length)/this.blockSize|0,o=new Array(n*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(o,i)));for(var s=e.length-(e.length-r)%this.blockSize;r<s;r+=this.blockSize)this._update(e,r,o,i),i+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return o};mo.prototype._updateDecrypt=function(e){for(var r=0,i=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,o=new Array(n*this.blockSize);n>0;n--)r+=this._buffer(e,r),i+=this._flushBuffer(o,i);return r+=this._buffer(e,r),o};mo.prototype.final=function(e){var r;e&&(r=this.update(e));var i;return this.type==="encrypt"?i=this._finalEncrypt():i=this._finalDecrypt(),r?r.concat(i):i};mo.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};mo.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};mo.prototype._unpad=function(e){return e};mo.prototype._finalDecrypt=function(){gae.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var KE=z((a5e,Ej)=>{"use strict";x();var wj=zn(),vae=Qe(),ai=WE(),_j=F1();function bae(){this.tmp=new Array(2),this.keys=null}function na(t){_j.call(this,t);var e=new bae;this._desState=e,this.deriveKeys(e,t.key)}vae(na,_j);Ej.exports=na;na.create=function(e){return new na(e)};var wae=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];na.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),wj.equal(r.length,this.blockSize,"Invalid key length");var i=ai.readUInt32BE(r,0),n=ai.readUInt32BE(r,4);ai.pc1(i,n,e.tmp,0),i=e.tmp[0],n=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=wae[o>>>1];i=ai.r28shl(i,s),n=ai.r28shl(n,s),ai.pc2(i,n,e.keys,o)}};na.prototype._update=function(e,r,i,n){var o=this._desState,s=ai.readUInt32BE(e,r),f=ai.readUInt32BE(e,r+4);ai.ip(s,f,o.tmp,0),s=o.tmp[0],f=o.tmp[1],this.type==="encrypt"?this._encrypt(o,s,f,o.tmp,0):this._decrypt(o,s,f,o.tmp,0),s=o.tmp[0],f=o.tmp[1],ai.writeUInt32BE(i,s,n),ai.writeUInt32BE(i,f,n+4)};na.prototype._pad=function(e,r){for(var i=e.length-r,n=r;n<e.length;n++)e[n]=i;return!0};na.prototype._unpad=function(e){for(var r=e[e.length-1],i=e.length-r;i<e.length;i++)wj.equal(e[i],r);return e.slice(0,e.length-r)};na.prototype._encrypt=function(e,r,i,n,o){for(var s=r,f=i,c=0;c<e.keys.length;c+=2){var d=e.keys[c],l=e.keys[c+1];ai.expand(f,e.tmp,0),d^=e.tmp[0],l^=e.tmp[1];var h=ai.substitute(d,l),E=ai.permute(h),b=f;f=(s^E)>>>0,s=b}ai.rip(f,s,n,o)};na.prototype._decrypt=function(e,r,i,n,o){for(var s=i,f=r,c=e.keys.length-2;c>=0;c-=2){var d=e.keys[c],l=e.keys[c+1];ai.expand(s,e.tmp,0),d^=e.tmp[0],l^=e.tmp[1];var h=ai.substitute(d,l),E=ai.permute(h),b=s;s=(f^E)>>>0,f=b}ai.rip(s,f,n,o)}});var Sj=z(xj=>{"use strict";x();var _ae=zn(),Eae=Qe(),z1={};function xae(t){_ae.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function Sae(t){function e(o){t.call(this,o),this._cbcInit()}Eae(e,t);for(var r=Object.keys(z1),i=0;i<r.length;i++){var n=r[i];e.prototype[n]=z1[n]}return e.create=function(s){return new e(s)},e}xj.instantiate=Sae;z1._cbcInit=function(){var e=new xae(this.options.iv);this._cbcState=e};z1._update=function(e,r,i,n){var o=this._cbcState,s=this.constructor.super_.prototype,f=o.iv;if(this.type==="encrypt"){for(var c=0;c<this.blockSize;c++)f[c]^=e[r+c];s._update.call(this,f,0,i,n);for(var c=0;c<this.blockSize;c++)f[c]=i[n+c]}else{s._update.call(this,e,r,i,n);for(var c=0;c<this.blockSize;c++)i[n+c]^=f[c];for(var c=0;c<this.blockSize;c++)f[c]=e[r+c]}}});var Tj=z((d5e,Aj)=>{"use strict";x();var Mae=zn(),Aae=Qe(),Mj=F1(),Rc=KE();function Tae(t,e){Mae.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),i=e.slice(8,16),n=e.slice(16,24);t==="encrypt"?this.ciphers=[Rc.create({type:"encrypt",key:r}),Rc.create({type:"decrypt",key:i}),Rc.create({type:"encrypt",key:n})]:this.ciphers=[Rc.create({type:"decrypt",key:n}),Rc.create({type:"encrypt",key:i}),Rc.create({type:"decrypt",key:r})]}function Dd(t){Mj.call(this,t);var e=new Tae(this.type,this.options.key);this._edeState=e}Aae(Dd,Mj);Aj.exports=Dd;Dd.create=function(e){return new Dd(e)};Dd.prototype._update=function(e,r,i,n){var o=this._edeState;o.ciphers[0]._update(e,r,i,n),o.ciphers[1]._update(i,n,i,n),o.ciphers[2]._update(i,n,i,n)};Dd.prototype._pad=Rc.prototype._pad;Dd.prototype._unpad=Rc.prototype._unpad});var Rj=z(Nh=>{"use strict";x();Nh.utils=WE();Nh.Cipher=F1();Nh.DES=KE();Nh.CBC=Sj();Nh.EDE=Tj()});var Ij=z((y5e,kj)=>{x();var Pj=Xa(),ef=Rj(),Rae=Qe(),Bd=Ot().Buffer,em={"des-ede3-cbc":ef.CBC.instantiate(ef.EDE),"des-ede3":ef.EDE,"des-ede-cbc":ef.CBC.instantiate(ef.EDE),"des-ede":ef.EDE,"des-cbc":ef.CBC.instantiate(ef.DES),"des-ecb":ef.DES};em.des=em["des-cbc"];em.des3=em["des-ede3-cbc"];kj.exports=$1;Rae($1,Pj);function $1(t){Pj.call(this);var e=t.mode.toLowerCase(),r=em[e],i;t.decrypt?i="decrypt":i="encrypt";var n=t.key;Bd.isBuffer(n)||(n=Bd.from(n)),(e==="des-ede"||e==="des-ede-cbc")&&(n=Bd.concat([n,n.slice(0,8)]));var o=t.iv;Bd.isBuffer(o)||(o=Bd.from(o)),this._des=r.create({key:n,iv:o,type:i})}$1.prototype._update=function(t){return Bd.from(this._des.update(t))};$1.prototype._final=function(){return Bd.from(this._des.final())}});var Dj=z(HE=>{x();HE.encrypt=function(t,e){return t._cipher.encryptBlock(e)};HE.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var qh=z((b5e,Bj)=>{x();Bj.exports=function(e,r){for(var i=Math.min(e.length,r.length),n=new j.Buffer(i),o=0;o<i;++o)n[o]=e[o]^r[o];return n}});var Oj=z(VE=>{x();var Cj=qh();VE.encrypt=function(t,e){var r=Cj(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};VE.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return Cj(i,r)}});var qj=z(Nj=>{x();var tm=Ot().Buffer,Pae=qh();function jj(t,e,r){var i=e.length,n=Pae(e,t._cache);return t._cache=t._cache.slice(i),t._prev=tm.concat([t._prev,r?e:n]),n}Nj.encrypt=function(t,e,r){for(var i=tm.allocUnsafe(0),n;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=tm.allocUnsafe(0)),t._cache.length<=e.length)n=t._cache.length,i=tm.concat([i,jj(t,e.slice(0,n),r)]),e=e.slice(n);else{i=tm.concat([i,jj(t,e,r)]);break}return i}});var Uj=z(Lj=>{x();var GE=Ot().Buffer;function kae(t,e,r){var i=t._cipher.encryptBlock(t._prev),n=i[0]^e;return t._prev=GE.concat([t._prev.slice(1),GE.from([r?e:n])]),n}Lj.encrypt=function(t,e,r){for(var i=e.length,n=GE.allocUnsafe(i),o=-1;++o<i;)n[o]=kae(t,e[o],r);return n}});var zj=z(Fj=>{x();var W1=Ot().Buffer;function Iae(t,e,r){for(var i,n=-1,o=8,s=0,f,c;++n<o;)i=t._cipher.encryptBlock(t._prev),f=e&1<<7-n?128:0,c=i[0]^f,s+=(c&128)>>n%8,t._prev=Dae(t._prev,r?f:c);return s}function Dae(t,e){var r=t.length,i=-1,n=W1.allocUnsafe(t.length);for(t=W1.concat([t,W1.from([e])]);++i<r;)n[i]=t[i]<<1|t[i+1]>>7;return n}Fj.encrypt=function(t,e,r){for(var i=e.length,n=W1.allocUnsafe(i),o=-1;++o<i;)n[o]=Iae(t,e[o],r);return n}});var Wj=z($j=>{x();var Bae=qh();function Cae(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}$j.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=j.Buffer.concat([t._cache,Cae(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Bae(e,r)}});var ZE=z((I5e,Kj)=>{x();function Oae(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}Kj.exports=Oae});var JE=z(Vj=>{x();var jae=qh(),Hj=Ot().Buffer,Nae=ZE();function qae(t){var e=t._cipher.encryptBlockRaw(t._prev);return Nae(t._prev),e}var YE=16;Vj.encrypt=function(t,e){var r=Math.ceil(e.length/YE),i=t._cache.length;t._cache=Hj.concat([t._cache,Hj.allocUnsafe(r*YE)]);for(var n=0;n<r;n++){var o=qae(t),s=i+n*YE;t._cache.writeUInt32BE(o[0],s+0),t._cache.writeUInt32BE(o[1],s+4),t._cache.writeUInt32BE(o[2],s+8),t._cache.writeUInt32BE(o[3],s+12)}var f=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),jae(e,f)}});var QE=z((O5e,Lae)=>{Lae.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var H1=z((j5e,Gj)=>{x();var Uae={ECB:Dj(),CBC:Oj(),CFB:qj(),CFB8:Uj(),CFB1:zj(),OFB:Wj(),CTR:JE(),GCM:JE()},K1=QE();for(XE in K1)K1[XE].module=Uae[K1[XE].mode];var XE;Gj.exports=K1});var rm=z((q5e,Yj)=>{x();var V1=Ot().Buffer;function tx(t){V1.isBuffer(t)||(t=V1.from(t));for(var e=t.length/4|0,r=new Array(e),i=0;i<e;i++)r[i]=t.readUInt32BE(i*4);return r}function ex(t){for(var e=0;e<t.length;t++)t[e]=0}function Zj(t,e,r,i,n){for(var o=r[0],s=r[1],f=r[2],c=r[3],d=t[0]^e[0],l=t[1]^e[1],h=t[2]^e[2],E=t[3]^e[3],b,T,k,O,D=4,I=1;I<n;I++)b=o[d>>>24]^s[l>>>16&255]^f[h>>>8&255]^c[E&255]^e[D++],T=o[l>>>24]^s[h>>>16&255]^f[E>>>8&255]^c[d&255]^e[D++],k=o[h>>>24]^s[E>>>16&255]^f[d>>>8&255]^c[l&255]^e[D++],O=o[E>>>24]^s[d>>>16&255]^f[l>>>8&255]^c[h&255]^e[D++],d=b,l=T,h=k,E=O;return b=(i[d>>>24]<<24|i[l>>>16&255]<<16|i[h>>>8&255]<<8|i[E&255])^e[D++],T=(i[l>>>24]<<24|i[h>>>16&255]<<16|i[E>>>8&255]<<8|i[d&255])^e[D++],k=(i[h>>>24]<<24|i[E>>>16&255]<<16|i[d>>>8&255]<<8|i[l&255])^e[D++],O=(i[E>>>24]<<24|i[d>>>16&255]<<16|i[l>>>8&255]<<8|i[h&255])^e[D++],b=b>>>0,T=T>>>0,k=k>>>0,O=O>>>0,[b,T,k,O]}var Fae=[0,1,2,4,8,16,32,64,128,27,54],Xr=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],i=[],n=[[],[],[],[]],o=[[],[],[],[]],s=0,f=0,c=0;c<256;++c){var d=f^f<<1^f<<2^f<<3^f<<4;d=d>>>8^d&255^99,r[s]=d,i[d]=s;var l=t[s],h=t[l],E=t[h],b=t[d]*257^d*16843008;n[0][s]=b<<24|b>>>8,n[1][s]=b<<16|b>>>16,n[2][s]=b<<8|b>>>24,n[3][s]=b,b=E*16843009^h*65537^l*257^s*16843008,o[0][d]=b<<24|b>>>8,o[1][d]=b<<16|b>>>16,o[2][d]=b<<8|b>>>24,o[3][d]=b,s===0?s=f=1:(s=l^t[t[t[E^l]]],f^=t[t[f]])}return{SBOX:r,INV_SBOX:i,SUB_MIX:n,INV_SUB_MIX:o}}();function go(t){this._key=tx(t),this._reset()}go.blockSize=4*4;go.keySize=256/8;go.prototype.blockSize=go.blockSize;go.prototype.keySize=go.keySize;go.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,i=(r+1)*4,n=[],o=0;o<e;o++)n[o]=t[o];for(o=e;o<i;o++){var s=n[o-1];o%e===0?(s=s<<8|s>>>24,s=Xr.SBOX[s>>>24]<<24|Xr.SBOX[s>>>16&255]<<16|Xr.SBOX[s>>>8&255]<<8|Xr.SBOX[s&255],s^=Fae[o/e|0]<<24):e>6&&o%e===4&&(s=Xr.SBOX[s>>>24]<<24|Xr.SBOX[s>>>16&255]<<16|Xr.SBOX[s>>>8&255]<<8|Xr.SBOX[s&255]),n[o]=n[o-e]^s}for(var f=[],c=0;c<i;c++){var d=i-c,l=n[d-(c%4?0:4)];c<4||d<=4?f[c]=l:f[c]=Xr.INV_SUB_MIX[0][Xr.SBOX[l>>>24]]^Xr.INV_SUB_MIX[1][Xr.SBOX[l>>>16&255]]^Xr.INV_SUB_MIX[2][Xr.SBOX[l>>>8&255]]^Xr.INV_SUB_MIX[3][Xr.SBOX[l&255]]}this._nRounds=r,this._keySchedule=n,this._invKeySchedule=f};go.prototype.encryptBlockRaw=function(t){return t=tx(t),Zj(t,this._keySchedule,Xr.SUB_MIX,Xr.SBOX,this._nRounds)};go.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=V1.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};go.prototype.decryptBlock=function(t){t=tx(t);var e=t[1];t[1]=t[3],t[3]=e;var r=Zj(t,this._invKeySchedule,Xr.INV_SUB_MIX,Xr.INV_SBOX,this._nRounds),i=V1.allocUnsafe(16);return i.writeUInt32BE(r[0],0),i.writeUInt32BE(r[3],4),i.writeUInt32BE(r[2],8),i.writeUInt32BE(r[1],12),i};go.prototype.scrub=function(){ex(this._keySchedule),ex(this._invKeySchedule),ex(this._key)};Yj.exports.AES=go});var Xj=z((U5e,Qj)=>{x();var Lh=Ot().Buffer,zae=Lh.alloc(16,0);function $ae(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function Jj(t){var e=Lh.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function im(t){this.h=t,this.state=Lh.alloc(16,0),this.cache=Lh.allocUnsafe(0)}im.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};im.prototype._multiply=function(){for(var t=$ae(this.h),e=[0,0,0,0],r,i,n,o=-1;++o<128;){for(i=(this.state[~~(o/8)]&1<<7-o%8)!==0,i&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),n=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,n&&(t[0]=t[0]^225<<24)}this.state=Jj(e)};im.prototype.update=function(t){this.cache=Lh.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};im.prototype.final=function(t,e){return this.cache.length&&this.ghash(Lh.concat([this.cache,zae],16)),this.ghash(Jj([0,t,0,e])),this.state};Qj.exports=im});var rx=z((z5e,rN)=>{x();var Wae=rm(),vn=Ot().Buffer,eN=Xa(),Kae=Qe(),tN=Xj(),Hae=qh(),Vae=ZE();function Gae(t,e){var r=0;t.length!==e.length&&r++;for(var i=Math.min(t.length,e.length),n=0;n<i;++n)r+=t[n]^e[n];return r}function Zae(t,e,r){if(e.length===12)return t._finID=vn.concat([e,vn.from([0,0,0,1])]),vn.concat([e,vn.from([0,0,0,2])]);var i=new tN(r),n=e.length,o=n%16;i.update(e),o&&(o=16-o,i.update(vn.alloc(o,0))),i.update(vn.alloc(8,0));var s=n*8,f=vn.alloc(8);f.writeUIntBE(s,0,8),i.update(f),t._finID=i.state;var c=vn.from(t._finID);return Vae(c),c}function Cd(t,e,r,i){eN.call(this);var n=vn.alloc(4,0);this._cipher=new Wae.AES(e);var o=this._cipher.encryptBlock(n);this._ghash=new tN(o),r=Zae(this,r,o),this._prev=vn.from(r),this._cache=vn.allocUnsafe(0),this._secCache=vn.allocUnsafe(0),this._decrypt=i,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}Kae(Cd,eN);Cd.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=vn.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};Cd.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=Hae(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&Gae(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};Cd.prototype.getAuthTag=function(){if(this._decrypt||!vn.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};Cd.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};Cd.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};rN.exports=Cd});var nx=z((W5e,nN)=>{x();var Yae=rm(),ix=Ot().Buffer,iN=Xa(),Jae=Qe();function G1(t,e,r,i){iN.call(this),this._cipher=new Yae.AES(e),this._prev=ix.from(r),this._cache=ix.allocUnsafe(0),this._secCache=ix.allocUnsafe(0),this._decrypt=i,this._mode=t}Jae(G1,iN);G1.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};G1.prototype._final=function(){this._cipher.scrub()};nN.exports=G1});var nm=z((H5e,oN)=>{x();var Od=Ot().Buffer,Qae=p1();function Xae(t,e,r,i){if(Od.isBuffer(t)||(t=Od.from(t,"binary")),e&&(Od.isBuffer(e)||(e=Od.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var n=r/8,o=Od.alloc(n),s=Od.alloc(i||0),f=Od.alloc(0);n>0||i>0;){var c=new Qae;c.update(f),c.update(t),e&&c.update(e),f=c.digest();var d=0;if(n>0){var l=o.length-n;d=Math.min(n,f.length),f.copy(o,l,0,d),n-=d}if(d<f.length&&i>0){var h=s.length-i,E=Math.min(i,f.length-d);f.copy(s,h,d,d+E),i-=E}}return f.fill(0),{key:o,iv:s}}oN.exports=Xae});var cN=z(ox=>{x();var sN=H1(),efe=rx(),tf=Ot().Buffer,tfe=nx(),aN=Xa(),rfe=rm(),ife=nm(),nfe=Qe();function om(t,e,r){aN.call(this),this._cache=new Z1,this._cipher=new rfe.AES(e),this._prev=tf.from(r),this._mode=t,this._autopadding=!0}nfe(om,aN);om.prototype._update=function(t){this._cache.add(t);for(var e,r,i=[];e=this._cache.get();)r=this._mode.encrypt(this,e),i.push(r);return tf.concat(i)};var ofe=tf.alloc(16,16);om.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(ofe))throw this._cipher.scrub(),new Error("data not multiple of block length")};om.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function Z1(){this.cache=tf.allocUnsafe(0)}Z1.prototype.add=function(t){this.cache=tf.concat([this.cache,t])};Z1.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};Z1.prototype.flush=function(){for(var t=16-this.cache.length,e=tf.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return tf.concat([this.cache,e])};function fN(t,e,r){var i=sN[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=tf.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=tf.from(r)),i.mode!=="GCM"&&r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);return i.type==="stream"?new tfe(i.module,e,r):i.type==="auth"?new efe(i.module,e,r):new om(i.module,e,r)}function sfe(t,e){var r=sN[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=ife(e,!1,r.key,r.iv);return fN(t,i.key,i.iv)}ox.createCipheriv=fN;ox.createCipher=sfe});var hN=z(sx=>{x();var afe=rx(),Uh=Ot().Buffer,uN=H1(),ffe=nx(),dN=Xa(),cfe=rm(),ufe=nm(),dfe=Qe();function sm(t,e,r){dN.call(this),this._cache=new Y1,this._last=void 0,this._cipher=new cfe.AES(e),this._prev=Uh.from(r),this._mode=t,this._autopadding=!0}dfe(sm,dN);sm.prototype._update=function(t){this._cache.add(t);for(var e,r,i=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),i.push(r);return Uh.concat(i)};sm.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return lfe(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};sm.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function Y1(){this.cache=Uh.allocUnsafe(0)}Y1.prototype.add=function(t){this.cache=Uh.concat([this.cache,t])};Y1.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};Y1.prototype.flush=function(){if(this.cache.length)return this.cache};function lfe(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function lN(t,e,r){var i=uN[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=Uh.from(r)),i.mode!=="GCM"&&r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=Uh.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);return i.type==="stream"?new ffe(i.module,e,r,!0):i.type==="auth"?new afe(i.module,e,r,!0):new sm(i.module,e,r)}function hfe(t,e){var r=uN[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=ufe(e,!1,r.key,r.iv);return lN(t,i.key,i.iv)}sx.createDecipher=hfe;sx.createDecipheriv=lN});var J1=z(ls=>{x();var pN=cN(),yN=hN(),pfe=QE();function yfe(){return Object.keys(pfe)}ls.createCipher=ls.Cipher=pN.createCipher;ls.createCipheriv=ls.Cipheriv=pN.createCipheriv;ls.createDecipher=ls.Decipher=yN.createDecipher;ls.createDecipheriv=ls.Decipheriv=yN.createDecipheriv;ls.listCiphers=ls.getCiphers=yfe});var mN=z(rf=>{x();rf["des-ecb"]={key:8,iv:0};rf["des-cbc"]=rf.des={key:8,iv:8};rf["des-ede3-cbc"]=rf.des3={key:24,iv:8};rf["des-ede3"]={key:24,iv:0};rf["des-ede-cbc"]={key:16,iv:8};rf["des-ede"]={key:16,iv:0}});var _N=z(hs=>{x();var gN=Ij(),ax=J1(),Pc=H1(),nf=mN(),vN=nm();function mfe(t,e){t=t.toLowerCase();var r,i;if(Pc[t])r=Pc[t].key,i=Pc[t].iv;else if(nf[t])r=nf[t].key*8,i=nf[t].iv;else throw new TypeError("invalid suite type");var n=vN(e,!1,r,i);return bN(t,n.key,n.iv)}function gfe(t,e){t=t.toLowerCase();var r,i;if(Pc[t])r=Pc[t].key,i=Pc[t].iv;else if(nf[t])r=nf[t].key*8,i=nf[t].iv;else throw new TypeError("invalid suite type");var n=vN(e,!1,r,i);return wN(t,n.key,n.iv)}function bN(t,e,r){if(t=t.toLowerCase(),Pc[t])return ax.createCipheriv(t,e,r);if(nf[t])return new gN({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function wN(t,e,r){if(t=t.toLowerCase(),Pc[t])return ax.createDecipheriv(t,e,r);if(nf[t])return new gN({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function vfe(){return Object.keys(nf).concat(ax.getCiphers())}hs.createCipher=hs.Cipher=mfe;hs.createCipheriv=hs.Cipheriv=bN;hs.createDecipher=hs.Decipher=gfe;hs.createDecipheriv=hs.Decipheriv=wN;hs.listCiphers=hs.getCiphers=vfe});var fi=z((EN,fx)=>{x();(function(t,e){"use strict";function r(B,w){if(!B)throw new Error(w||"Assertion failed")}function i(B,w){B.super_=w;var M=function(){};M.prototype=w.prototype,B.prototype=new M,B.prototype.constructor=B}function n(B,w,M){if(n.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((w==="le"||w==="be")&&(M=w,w=10),this._init(B||0,w||10,M||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=er().Buffer}catch{}n.isBN=function(w){return w instanceof n?!0:w!==null&&typeof w=="object"&&w.constructor.wordSize===n.wordSize&&Array.isArray(w.words)},n.max=function(w,M){return w.cmp(M)>0?w:M},n.min=function(w,M){return w.cmp(M)<0?w:M},n.prototype._init=function(w,M,_){if(typeof w=="number")return this._initNumber(w,M,_);if(typeof w=="object")return this._initArray(w,M,_);M==="hex"&&(M=16),r(M===(M|0)&&M>=2&&M<=36),w=w.toString().replace(/\s+/g,"");var a=0;w[0]==="-"&&(a++,this.negative=1),a<w.length&&(M===16?this._parseHex(w,a,_):(this._parseBase(w,M,a),_==="le"&&this._initArray(this.toArray(),M,_)))},n.prototype._initNumber=function(w,M,_){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[w&67108863],this.length=1):w<4503599627370496?(this.words=[w&67108863,w/67108864&67108863],this.length=2):(r(w<9007199254740992),this.words=[w&67108863,w/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),M,_)},n.prototype._initArray=function(w,M,_){if(r(typeof w.length=="number"),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var u,p,v=0;if(_==="be")for(a=w.length-1,u=0;a>=0;a-=3)p=w[a]|w[a-1]<<8|w[a-2]<<16,this.words[u]|=p<<v&67108863,this.words[u+1]=p>>>26-v&67108863,v+=24,v>=26&&(v-=26,u++);else if(_==="le")for(a=0,u=0;a<w.length;a+=3)p=w[a]|w[a+1]<<8|w[a+2]<<16,this.words[u]|=p<<v&67108863,this.words[u+1]=p>>>26-v&67108863,v+=24,v>=26&&(v-=26,u++);return this.strip()};function s(B,w){var M=B.charCodeAt(w);return M>=65&&M<=70?M-55:M>=97&&M<=102?M-87:M-48&15}function f(B,w,M){var _=s(B,M);return M-1>=w&&(_|=s(B,M-1)<<4),_}n.prototype._parseHex=function(w,M,_){this.length=Math.ceil((w.length-M)/6),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var u=0,p=0,v;if(_==="be")for(a=w.length-1;a>=M;a-=2)v=f(w,M,a)<<u,this.words[p]|=v&67108863,u>=18?(u-=18,p+=1,this.words[p]|=v>>>26):u+=8;else{var g=w.length-M;for(a=g%2===0?M+1:M;a<w.length;a+=2)v=f(w,M,a)<<u,this.words[p]|=v&67108863,u>=18?(u-=18,p+=1,this.words[p]|=v>>>26):u+=8}this.strip()};function c(B,w,M,_){for(var a=0,u=Math.min(B.length,M),p=w;p<u;p++){var v=B.charCodeAt(p)-48;a*=_,v>=49?a+=v-49+10:v>=17?a+=v-17+10:a+=v}return a}n.prototype._parseBase=function(w,M,_){this.words=[0],this.length=1;for(var a=0,u=1;u<=67108863;u*=M)a++;a--,u=u/M|0;for(var p=w.length-_,v=p%a,g=Math.min(p,p-v)+_,m=0,A=_;A<g;A+=a)m=c(w,A,A+a,M),this.imuln(u),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(v!==0){var R=1;for(m=c(w,A,w.length,M),A=0;A<v;A++)R*=M;this.imuln(R),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this.strip()},n.prototype.copy=function(w){w.words=new Array(this.length);for(var M=0;M<this.length;M++)w.words[M]=this.words[M];w.length=this.length,w.negative=this.negative,w.red=this.red},n.prototype.clone=function(){var w=new n(null);return this.copy(w),w},n.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(w,M){w=w||10,M=M|0||1;var _;if(w===16||w==="hex"){_="";for(var a=0,u=0,p=0;p<this.length;p++){var v=this.words[p],g=((v<<a|u)&16777215).toString(16);u=v>>>24-a&16777215,u!==0||p!==this.length-1?_=d[6-g.length]+g+_:_=g+_,a+=2,a>=26&&(a-=26,p--)}for(u!==0&&(_=u.toString(16)+_);_.length%M!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(w===(w|0)&&w>=2&&w<=36){var m=l[w],A=h[w];_="";var R=this.clone();for(R.negative=0;!R.isZero();){var y=R.modn(A).toString(w);R=R.idivn(A),R.isZero()?_=y+_:_=d[m-y.length]+y+_}for(this.isZero()&&(_="0"+_);_.length%M!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var w=this.words[0];return this.length===2?w+=this.words[1]*67108864:this.length===3&&this.words[2]===1?w+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-w:w},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(w,M){return r(typeof o<"u"),this.toArrayLike(o,w,M)},n.prototype.toArray=function(w,M){return this.toArrayLike(Array,w,M)},n.prototype.toArrayLike=function(w,M,_){var a=this.byteLength(),u=_||Math.max(1,a);r(a<=u,"byte array longer than desired length"),r(u>0,"Requested array length <= 0"),this.strip();var p=M==="le",v=new w(u),g,m,A=this.clone();if(p){for(m=0;!A.isZero();m++)g=A.andln(255),A.iushrn(8),v[m]=g;for(;m<u;m++)v[m]=0}else{for(m=0;m<u-a;m++)v[m]=0;for(m=0;!A.isZero();m++)g=A.andln(255),A.iushrn(8),v[u-m-1]=g}return v},Math.clz32?n.prototype._countBits=function(w){return 32-Math.clz32(w)}:n.prototype._countBits=function(w){var M=w,_=0;return M>=4096&&(_+=13,M>>>=13),M>=64&&(_+=7,M>>>=7),M>=8&&(_+=4,M>>>=4),M>=2&&(_+=2,M>>>=2),_+M},n.prototype._zeroBits=function(w){if(w===0)return 26;var M=w,_=0;return M&8191||(_+=13,M>>>=13),M&127||(_+=7,M>>>=7),M&15||(_+=4,M>>>=4),M&3||(_+=2,M>>>=2),M&1||_++,_},n.prototype.bitLength=function(){var w=this.words[this.length-1],M=this._countBits(w);return(this.length-1)*26+M};function E(B){for(var w=new Array(B.bitLength()),M=0;M<w.length;M++){var _=M/26|0,a=M%26;w[M]=(B.words[_]&1<<a)>>>a}return w}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,M=0;M<this.length;M++){var _=this._zeroBits(this.words[M]);if(w+=_,_!==26)break}return w},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(w){return this.negative!==0?this.abs().inotn(w).iaddn(1):this.clone()},n.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var M=0;M<w.length;M++)this.words[M]=this.words[M]|w.words[M];return this.strip()},n.prototype.ior=function(w){return r((this.negative|w.negative)===0),this.iuor(w)},n.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},n.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},n.prototype.iuand=function(w){var M;this.length>w.length?M=w:M=this;for(var _=0;_<M.length;_++)this.words[_]=this.words[_]&w.words[_];return this.length=M.length,this.strip()},n.prototype.iand=function(w){return r((this.negative|w.negative)===0),this.iuand(w)},n.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},n.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},n.prototype.iuxor=function(w){var M,_;this.length>w.length?(M=this,_=w):(M=w,_=this);for(var a=0;a<_.length;a++)this.words[a]=M.words[a]^_.words[a];if(this!==M)for(;a<M.length;a++)this.words[a]=M.words[a];return this.length=M.length,this.strip()},n.prototype.ixor=function(w){return r((this.negative|w.negative)===0),this.iuxor(w)},n.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},n.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},n.prototype.inotn=function(w){r(typeof w=="number"&&w>=0);var M=Math.ceil(w/26)|0,_=w%26;this._expand(M),_>0&&M--;for(var a=0;a<M;a++)this.words[a]=~this.words[a]&67108863;return _>0&&(this.words[a]=~this.words[a]&67108863>>26-_),this.strip()},n.prototype.notn=function(w){return this.clone().inotn(w)},n.prototype.setn=function(w,M){r(typeof w=="number"&&w>=0);var _=w/26|0,a=w%26;return this._expand(_+1),M?this.words[_]=this.words[_]|1<<a:this.words[_]=this.words[_]&~(1<<a),this.strip()},n.prototype.iadd=function(w){var M;if(this.negative!==0&&w.negative===0)return this.negative=0,M=this.isub(w),this.negative^=1,this._normSign();if(this.negative===0&&w.negative!==0)return w.negative=0,M=this.isub(w),w.negative=1,M._normSign();var _,a;this.length>w.length?(_=this,a=w):(_=w,a=this);for(var u=0,p=0;p<a.length;p++)M=(_.words[p]|0)+(a.words[p]|0)+u,this.words[p]=M&67108863,u=M>>>26;for(;u!==0&&p<_.length;p++)M=(_.words[p]|0)+u,this.words[p]=M&67108863,u=M>>>26;if(this.length=_.length,u!==0)this.words[this.length]=u,this.length++;else if(_!==this)for(;p<_.length;p++)this.words[p]=_.words[p];return this},n.prototype.add=function(w){var M;return w.negative!==0&&this.negative===0?(w.negative=0,M=this.sub(w),w.negative^=1,M):w.negative===0&&this.negative!==0?(this.negative=0,M=w.sub(this),this.negative=1,M):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},n.prototype.isub=function(w){if(w.negative!==0){w.negative=0;var M=this.iadd(w);return w.negative=1,M._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var _=this.cmp(w);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var a,u;_>0?(a=this,u=w):(a=w,u=this);for(var p=0,v=0;v<u.length;v++)M=(a.words[v]|0)-(u.words[v]|0)+p,p=M>>26,this.words[v]=M&67108863;for(;p!==0&&v<a.length;v++)M=(a.words[v]|0)+p,p=M>>26,this.words[v]=M&67108863;if(p===0&&v<a.length&&a!==this)for(;v<a.length;v++)this.words[v]=a.words[v];return this.length=Math.max(this.length,v),a!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(w){return this.clone().isub(w)};function b(B,w,M){M.negative=w.negative^B.negative;var _=B.length+w.length|0;M.length=_,_=_-1|0;var a=B.words[0]|0,u=w.words[0]|0,p=a*u,v=p&67108863,g=p/67108864|0;M.words[0]=v;for(var m=1;m<_;m++){for(var A=g>>>26,R=g&67108863,y=Math.min(m,w.length-1),P=Math.max(0,m-B.length+1);P<=y;P++){var W=m-P|0;a=B.words[W]|0,u=w.words[P]|0,p=a*u+R,A+=p/67108864|0,R=p&67108863}M.words[m]=R|0,g=A|0}return g!==0?M.words[m]=g|0:M.length--,M.strip()}var T=function(w,M,_){var a=w.words,u=M.words,p=_.words,v=0,g,m,A,R=a[0]|0,y=R&8191,P=R>>>13,W=a[1]|0,H=W&8191,V=W>>>13,Z=a[2]|0,J=Z&8191,Q=Z>>>13,me=a[3]|0,te=me&8191,ie=me>>>13,or=a[4]|0,ce=or&8191,ue=or>>>13,Fi=a[5]|0,he=Fi&8191,pe=Fi>>>13,Mn=a[6]|0,ve=Mn&8191,ge=Mn>>>13,xf=a[7]|0,be=xf&8191,we=xf>>>13,Sf=a[8]|0,_e=Sf&8191,Ee=Sf>>>13,Mf=a[9]|0,xe=Mf&8191,Se=Mf>>>13,Af=u[0]|0,Me=Af&8191,Ae=Af>>>13,Tf=u[1]|0,Te=Tf&8191,Re=Tf>>>13,Rf=u[2]|0,Pe=Rf&8191,ke=Rf>>>13,Pf=u[3]|0,Ie=Pf&8191,De=Pf>>>13,kf=u[4]|0,Be=kf&8191,Ce=kf>>>13,If=u[5]|0,Oe=If&8191,je=If>>>13,Df=u[6]|0,Ne=Df&8191,qe=Df>>>13,Bf=u[7]|0,Le=Bf&8191,Ue=Bf>>>13,Cf=u[8]|0,Fe=Cf&8191,ze=Cf>>>13,Of=u[9]|0,$e=Of&8191,We=Of>>>13;_.negative=w.negative^M.negative,_.length=19,g=Math.imul(y,Me),m=Math.imul(y,Ae),m=m+Math.imul(P,Me)|0,A=Math.imul(P,Ae);var wa=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(wa>>>26)|0,wa&=67108863,g=Math.imul(H,Me),m=Math.imul(H,Ae),m=m+Math.imul(V,Me)|0,A=Math.imul(V,Ae),g=g+Math.imul(y,Te)|0,m=m+Math.imul(y,Re)|0,m=m+Math.imul(P,Te)|0,A=A+Math.imul(P,Re)|0;var lt=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(lt>>>26)|0,lt&=67108863,g=Math.imul(J,Me),m=Math.imul(J,Ae),m=m+Math.imul(Q,Me)|0,A=Math.imul(Q,Ae),g=g+Math.imul(H,Te)|0,m=m+Math.imul(H,Re)|0,m=m+Math.imul(V,Te)|0,A=A+Math.imul(V,Re)|0,g=g+Math.imul(y,Pe)|0,m=m+Math.imul(y,ke)|0,m=m+Math.imul(P,Pe)|0,A=A+Math.imul(P,ke)|0;var ht=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(ht>>>26)|0,ht&=67108863,g=Math.imul(te,Me),m=Math.imul(te,Ae),m=m+Math.imul(ie,Me)|0,A=Math.imul(ie,Ae),g=g+Math.imul(J,Te)|0,m=m+Math.imul(J,Re)|0,m=m+Math.imul(Q,Te)|0,A=A+Math.imul(Q,Re)|0,g=g+Math.imul(H,Pe)|0,m=m+Math.imul(H,ke)|0,m=m+Math.imul(V,Pe)|0,A=A+Math.imul(V,ke)|0,g=g+Math.imul(y,Ie)|0,m=m+Math.imul(y,De)|0,m=m+Math.imul(P,Ie)|0,A=A+Math.imul(P,De)|0;var Do=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(Do>>>26)|0,Do&=67108863,g=Math.imul(ce,Me),m=Math.imul(ce,Ae),m=m+Math.imul(ue,Me)|0,A=Math.imul(ue,Ae),g=g+Math.imul(te,Te)|0,m=m+Math.imul(te,Re)|0,m=m+Math.imul(ie,Te)|0,A=A+Math.imul(ie,Re)|0,g=g+Math.imul(J,Pe)|0,m=m+Math.imul(J,ke)|0,m=m+Math.imul(Q,Pe)|0,A=A+Math.imul(Q,ke)|0,g=g+Math.imul(H,Ie)|0,m=m+Math.imul(H,De)|0,m=m+Math.imul(V,Ie)|0,A=A+Math.imul(V,De)|0,g=g+Math.imul(y,Be)|0,m=m+Math.imul(y,Ce)|0,m=m+Math.imul(P,Be)|0,A=A+Math.imul(P,Ce)|0;var Bo=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,g=Math.imul(he,Me),m=Math.imul(he,Ae),m=m+Math.imul(pe,Me)|0,A=Math.imul(pe,Ae),g=g+Math.imul(ce,Te)|0,m=m+Math.imul(ce,Re)|0,m=m+Math.imul(ue,Te)|0,A=A+Math.imul(ue,Re)|0,g=g+Math.imul(te,Pe)|0,m=m+Math.imul(te,ke)|0,m=m+Math.imul(ie,Pe)|0,A=A+Math.imul(ie,ke)|0,g=g+Math.imul(J,Ie)|0,m=m+Math.imul(J,De)|0,m=m+Math.imul(Q,Ie)|0,A=A+Math.imul(Q,De)|0,g=g+Math.imul(H,Be)|0,m=m+Math.imul(H,Ce)|0,m=m+Math.imul(V,Be)|0,A=A+Math.imul(V,Ce)|0,g=g+Math.imul(y,Oe)|0,m=m+Math.imul(y,je)|0,m=m+Math.imul(P,Oe)|0,A=A+Math.imul(P,je)|0;var Co=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(Co>>>26)|0,Co&=67108863,g=Math.imul(ve,Me),m=Math.imul(ve,Ae),m=m+Math.imul(ge,Me)|0,A=Math.imul(ge,Ae),g=g+Math.imul(he,Te)|0,m=m+Math.imul(he,Re)|0,m=m+Math.imul(pe,Te)|0,A=A+Math.imul(pe,Re)|0,g=g+Math.imul(ce,Pe)|0,m=m+Math.imul(ce,ke)|0,m=m+Math.imul(ue,Pe)|0,A=A+Math.imul(ue,ke)|0,g=g+Math.imul(te,Ie)|0,m=m+Math.imul(te,De)|0,m=m+Math.imul(ie,Ie)|0,A=A+Math.imul(ie,De)|0,g=g+Math.imul(J,Be)|0,m=m+Math.imul(J,Ce)|0,m=m+Math.imul(Q,Be)|0,A=A+Math.imul(Q,Ce)|0,g=g+Math.imul(H,Oe)|0,m=m+Math.imul(H,je)|0,m=m+Math.imul(V,Oe)|0,A=A+Math.imul(V,je)|0,g=g+Math.imul(y,Ne)|0,m=m+Math.imul(y,qe)|0,m=m+Math.imul(P,Ne)|0,A=A+Math.imul(P,qe)|0;var Oo=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,g=Math.imul(be,Me),m=Math.imul(be,Ae),m=m+Math.imul(we,Me)|0,A=Math.imul(we,Ae),g=g+Math.imul(ve,Te)|0,m=m+Math.imul(ve,Re)|0,m=m+Math.imul(ge,Te)|0,A=A+Math.imul(ge,Re)|0,g=g+Math.imul(he,Pe)|0,m=m+Math.imul(he,ke)|0,m=m+Math.imul(pe,Pe)|0,A=A+Math.imul(pe,ke)|0,g=g+Math.imul(ce,Ie)|0,m=m+Math.imul(ce,De)|0,m=m+Math.imul(ue,Ie)|0,A=A+Math.imul(ue,De)|0,g=g+Math.imul(te,Be)|0,m=m+Math.imul(te,Ce)|0,m=m+Math.imul(ie,Be)|0,A=A+Math.imul(ie,Ce)|0,g=g+Math.imul(J,Oe)|0,m=m+Math.imul(J,je)|0,m=m+Math.imul(Q,Oe)|0,A=A+Math.imul(Q,je)|0,g=g+Math.imul(H,Ne)|0,m=m+Math.imul(H,qe)|0,m=m+Math.imul(V,Ne)|0,A=A+Math.imul(V,qe)|0,g=g+Math.imul(y,Le)|0,m=m+Math.imul(y,Ue)|0,m=m+Math.imul(P,Le)|0,A=A+Math.imul(P,Ue)|0;var jo=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(jo>>>26)|0,jo&=67108863,g=Math.imul(_e,Me),m=Math.imul(_e,Ae),m=m+Math.imul(Ee,Me)|0,A=Math.imul(Ee,Ae),g=g+Math.imul(be,Te)|0,m=m+Math.imul(be,Re)|0,m=m+Math.imul(we,Te)|0,A=A+Math.imul(we,Re)|0,g=g+Math.imul(ve,Pe)|0,m=m+Math.imul(ve,ke)|0,m=m+Math.imul(ge,Pe)|0,A=A+Math.imul(ge,ke)|0,g=g+Math.imul(he,Ie)|0,m=m+Math.imul(he,De)|0,m=m+Math.imul(pe,Ie)|0,A=A+Math.imul(pe,De)|0,g=g+Math.imul(ce,Be)|0,m=m+Math.imul(ce,Ce)|0,m=m+Math.imul(ue,Be)|0,A=A+Math.imul(ue,Ce)|0,g=g+Math.imul(te,Oe)|0,m=m+Math.imul(te,je)|0,m=m+Math.imul(ie,Oe)|0,A=A+Math.imul(ie,je)|0,g=g+Math.imul(J,Ne)|0,m=m+Math.imul(J,qe)|0,m=m+Math.imul(Q,Ne)|0,A=A+Math.imul(Q,qe)|0,g=g+Math.imul(H,Le)|0,m=m+Math.imul(H,Ue)|0,m=m+Math.imul(V,Le)|0,A=A+Math.imul(V,Ue)|0,g=g+Math.imul(y,Fe)|0,m=m+Math.imul(y,ze)|0,m=m+Math.imul(P,Fe)|0,A=A+Math.imul(P,ze)|0;var No=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(No>>>26)|0,No&=67108863,g=Math.imul(xe,Me),m=Math.imul(xe,Ae),m=m+Math.imul(Se,Me)|0,A=Math.imul(Se,Ae),g=g+Math.imul(_e,Te)|0,m=m+Math.imul(_e,Re)|0,m=m+Math.imul(Ee,Te)|0,A=A+Math.imul(Ee,Re)|0,g=g+Math.imul(be,Pe)|0,m=m+Math.imul(be,ke)|0,m=m+Math.imul(we,Pe)|0,A=A+Math.imul(we,ke)|0,g=g+Math.imul(ve,Ie)|0,m=m+Math.imul(ve,De)|0,m=m+Math.imul(ge,Ie)|0,A=A+Math.imul(ge,De)|0,g=g+Math.imul(he,Be)|0,m=m+Math.imul(he,Ce)|0,m=m+Math.imul(pe,Be)|0,A=A+Math.imul(pe,Ce)|0,g=g+Math.imul(ce,Oe)|0,m=m+Math.imul(ce,je)|0,m=m+Math.imul(ue,Oe)|0,A=A+Math.imul(ue,je)|0,g=g+Math.imul(te,Ne)|0,m=m+Math.imul(te,qe)|0,m=m+Math.imul(ie,Ne)|0,A=A+Math.imul(ie,qe)|0,g=g+Math.imul(J,Le)|0,m=m+Math.imul(J,Ue)|0,m=m+Math.imul(Q,Le)|0,A=A+Math.imul(Q,Ue)|0,g=g+Math.imul(H,Fe)|0,m=m+Math.imul(H,ze)|0,m=m+Math.imul(V,Fe)|0,A=A+Math.imul(V,ze)|0,g=g+Math.imul(y,$e)|0,m=m+Math.imul(y,We)|0,m=m+Math.imul(P,$e)|0,A=A+Math.imul(P,We)|0;var qo=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(qo>>>26)|0,qo&=67108863,g=Math.imul(xe,Te),m=Math.imul(xe,Re),m=m+Math.imul(Se,Te)|0,A=Math.imul(Se,Re),g=g+Math.imul(_e,Pe)|0,m=m+Math.imul(_e,ke)|0,m=m+Math.imul(Ee,Pe)|0,A=A+Math.imul(Ee,ke)|0,g=g+Math.imul(be,Ie)|0,m=m+Math.imul(be,De)|0,m=m+Math.imul(we,Ie)|0,A=A+Math.imul(we,De)|0,g=g+Math.imul(ve,Be)|0,m=m+Math.imul(ve,Ce)|0,m=m+Math.imul(ge,Be)|0,A=A+Math.imul(ge,Ce)|0,g=g+Math.imul(he,Oe)|0,m=m+Math.imul(he,je)|0,m=m+Math.imul(pe,Oe)|0,A=A+Math.imul(pe,je)|0,g=g+Math.imul(ce,Ne)|0,m=m+Math.imul(ce,qe)|0,m=m+Math.imul(ue,Ne)|0,A=A+Math.imul(ue,qe)|0,g=g+Math.imul(te,Le)|0,m=m+Math.imul(te,Ue)|0,m=m+Math.imul(ie,Le)|0,A=A+Math.imul(ie,Ue)|0,g=g+Math.imul(J,Fe)|0,m=m+Math.imul(J,ze)|0,m=m+Math.imul(Q,Fe)|0,A=A+Math.imul(Q,ze)|0,g=g+Math.imul(H,$e)|0,m=m+Math.imul(H,We)|0,m=m+Math.imul(V,$e)|0,A=A+Math.imul(V,We)|0;var Lo=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,g=Math.imul(xe,Pe),m=Math.imul(xe,ke),m=m+Math.imul(Se,Pe)|0,A=Math.imul(Se,ke),g=g+Math.imul(_e,Ie)|0,m=m+Math.imul(_e,De)|0,m=m+Math.imul(Ee,Ie)|0,A=A+Math.imul(Ee,De)|0,g=g+Math.imul(be,Be)|0,m=m+Math.imul(be,Ce)|0,m=m+Math.imul(we,Be)|0,A=A+Math.imul(we,Ce)|0,g=g+Math.imul(ve,Oe)|0,m=m+Math.imul(ve,je)|0,m=m+Math.imul(ge,Oe)|0,A=A+Math.imul(ge,je)|0,g=g+Math.imul(he,Ne)|0,m=m+Math.imul(he,qe)|0,m=m+Math.imul(pe,Ne)|0,A=A+Math.imul(pe,qe)|0,g=g+Math.imul(ce,Le)|0,m=m+Math.imul(ce,Ue)|0,m=m+Math.imul(ue,Le)|0,A=A+Math.imul(ue,Ue)|0,g=g+Math.imul(te,Fe)|0,m=m+Math.imul(te,ze)|0,m=m+Math.imul(ie,Fe)|0,A=A+Math.imul(ie,ze)|0,g=g+Math.imul(J,$e)|0,m=m+Math.imul(J,We)|0,m=m+Math.imul(Q,$e)|0,A=A+Math.imul(Q,We)|0;var Uo=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,g=Math.imul(xe,Ie),m=Math.imul(xe,De),m=m+Math.imul(Se,Ie)|0,A=Math.imul(Se,De),g=g+Math.imul(_e,Be)|0,m=m+Math.imul(_e,Ce)|0,m=m+Math.imul(Ee,Be)|0,A=A+Math.imul(Ee,Ce)|0,g=g+Math.imul(be,Oe)|0,m=m+Math.imul(be,je)|0,m=m+Math.imul(we,Oe)|0,A=A+Math.imul(we,je)|0,g=g+Math.imul(ve,Ne)|0,m=m+Math.imul(ve,qe)|0,m=m+Math.imul(ge,Ne)|0,A=A+Math.imul(ge,qe)|0,g=g+Math.imul(he,Le)|0,m=m+Math.imul(he,Ue)|0,m=m+Math.imul(pe,Le)|0,A=A+Math.imul(pe,Ue)|0,g=g+Math.imul(ce,Fe)|0,m=m+Math.imul(ce,ze)|0,m=m+Math.imul(ue,Fe)|0,A=A+Math.imul(ue,ze)|0,g=g+Math.imul(te,$e)|0,m=m+Math.imul(te,We)|0,m=m+Math.imul(ie,$e)|0,A=A+Math.imul(ie,We)|0;var Fo=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,g=Math.imul(xe,Be),m=Math.imul(xe,Ce),m=m+Math.imul(Se,Be)|0,A=Math.imul(Se,Ce),g=g+Math.imul(_e,Oe)|0,m=m+Math.imul(_e,je)|0,m=m+Math.imul(Ee,Oe)|0,A=A+Math.imul(Ee,je)|0,g=g+Math.imul(be,Ne)|0,m=m+Math.imul(be,qe)|0,m=m+Math.imul(we,Ne)|0,A=A+Math.imul(we,qe)|0,g=g+Math.imul(ve,Le)|0,m=m+Math.imul(ve,Ue)|0,m=m+Math.imul(ge,Le)|0,A=A+Math.imul(ge,Ue)|0,g=g+Math.imul(he,Fe)|0,m=m+Math.imul(he,ze)|0,m=m+Math.imul(pe,Fe)|0,A=A+Math.imul(pe,ze)|0,g=g+Math.imul(ce,$e)|0,m=m+Math.imul(ce,We)|0,m=m+Math.imul(ue,$e)|0,A=A+Math.imul(ue,We)|0;var zo=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(zo>>>26)|0,zo&=67108863,g=Math.imul(xe,Oe),m=Math.imul(xe,je),m=m+Math.imul(Se,Oe)|0,A=Math.imul(Se,je),g=g+Math.imul(_e,Ne)|0,m=m+Math.imul(_e,qe)|0,m=m+Math.imul(Ee,Ne)|0,A=A+Math.imul(Ee,qe)|0,g=g+Math.imul(be,Le)|0,m=m+Math.imul(be,Ue)|0,m=m+Math.imul(we,Le)|0,A=A+Math.imul(we,Ue)|0,g=g+Math.imul(ve,Fe)|0,m=m+Math.imul(ve,ze)|0,m=m+Math.imul(ge,Fe)|0,A=A+Math.imul(ge,ze)|0,g=g+Math.imul(he,$e)|0,m=m+Math.imul(he,We)|0,m=m+Math.imul(pe,$e)|0,A=A+Math.imul(pe,We)|0;var $o=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+($o>>>26)|0,$o&=67108863,g=Math.imul(xe,Ne),m=Math.imul(xe,qe),m=m+Math.imul(Se,Ne)|0,A=Math.imul(Se,qe),g=g+Math.imul(_e,Le)|0,m=m+Math.imul(_e,Ue)|0,m=m+Math.imul(Ee,Le)|0,A=A+Math.imul(Ee,Ue)|0,g=g+Math.imul(be,Fe)|0,m=m+Math.imul(be,ze)|0,m=m+Math.imul(we,Fe)|0,A=A+Math.imul(we,ze)|0,g=g+Math.imul(ve,$e)|0,m=m+Math.imul(ve,We)|0,m=m+Math.imul(ge,$e)|0,A=A+Math.imul(ge,We)|0;var Wo=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,g=Math.imul(xe,Le),m=Math.imul(xe,Ue),m=m+Math.imul(Se,Le)|0,A=Math.imul(Se,Ue),g=g+Math.imul(_e,Fe)|0,m=m+Math.imul(_e,ze)|0,m=m+Math.imul(Ee,Fe)|0,A=A+Math.imul(Ee,ze)|0,g=g+Math.imul(be,$e)|0,m=m+Math.imul(be,We)|0,m=m+Math.imul(we,$e)|0,A=A+Math.imul(we,We)|0;var Ko=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,g=Math.imul(xe,Fe),m=Math.imul(xe,ze),m=m+Math.imul(Se,Fe)|0,A=Math.imul(Se,ze),g=g+Math.imul(_e,$e)|0,m=m+Math.imul(_e,We)|0,m=m+Math.imul(Ee,$e)|0,A=A+Math.imul(Ee,We)|0;var Ho=(v+g|0)+((m&8191)<<13)|0;v=(A+(m>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,g=Math.imul(xe,$e),m=Math.imul(xe,We),m=m+Math.imul(Se,$e)|0,A=Math.imul(Se,We);var Vo=(v+g|0)+((m&8191)<<13)|0;return v=(A+(m>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,p[0]=wa,p[1]=lt,p[2]=ht,p[3]=Do,p[4]=Bo,p[5]=Co,p[6]=Oo,p[7]=jo,p[8]=No,p[9]=qo,p[10]=Lo,p[11]=Uo,p[12]=Fo,p[13]=zo,p[14]=$o,p[15]=Wo,p[16]=Ko,p[17]=Ho,p[18]=Vo,v!==0&&(p[19]=v,_.length++),_};Math.imul||(T=b);function k(B,w,M){M.negative=w.negative^B.negative,M.length=B.length+w.length;for(var _=0,a=0,u=0;u<M.length-1;u++){var p=a;a=0;for(var v=_&67108863,g=Math.min(u,w.length-1),m=Math.max(0,u-B.length+1);m<=g;m++){var A=u-m,R=B.words[A]|0,y=w.words[m]|0,P=R*y,W=P&67108863;p=p+(P/67108864|0)|0,W=W+v|0,v=W&67108863,p=p+(W>>>26)|0,a+=p>>>26,p&=67108863}M.words[u]=v,_=p,p=a}return _!==0?M.words[u]=_:M.length--,M.strip()}function O(B,w,M){var _=new D;return _.mulp(B,w,M)}n.prototype.mulTo=function(w,M){var _,a=this.length+w.length;return this.length===10&&w.length===10?_=T(this,w,M):a<63?_=b(this,w,M):a<1024?_=k(this,w,M):_=O(this,w,M),_};function D(B,w){this.x=B,this.y=w}D.prototype.makeRBT=function(w){for(var M=new Array(w),_=n.prototype._countBits(w)-1,a=0;a<w;a++)M[a]=this.revBin(a,_,w);return M},D.prototype.revBin=function(w,M,_){if(w===0||w===_-1)return w;for(var a=0,u=0;u<M;u++)a|=(w&1)<<M-u-1,w>>=1;return a},D.prototype.permute=function(w,M,_,a,u,p){for(var v=0;v<p;v++)a[v]=M[w[v]],u[v]=_[w[v]]},D.prototype.transform=function(w,M,_,a,u,p){this.permute(p,w,M,_,a,u);for(var v=1;v<u;v<<=1)for(var g=v<<1,m=Math.cos(2*Math.PI/g),A=Math.sin(2*Math.PI/g),R=0;R<u;R+=g)for(var y=m,P=A,W=0;W<v;W++){var H=_[R+W],V=a[R+W],Z=_[R+W+v],J=a[R+W+v],Q=y*Z-P*J;J=y*J+P*Z,Z=Q,_[R+W]=H+Z,a[R+W]=V+J,_[R+W+v]=H-Z,a[R+W+v]=V-J,W!==g&&(Q=m*y-A*P,P=m*P+A*y,y=Q)}},D.prototype.guessLen13b=function(w,M){var _=Math.max(M,w)|1,a=_&1,u=0;for(_=_/2|0;_;_=_>>>1)u++;return 1<<u+1+a},D.prototype.conjugate=function(w,M,_){if(!(_<=1))for(var a=0;a<_/2;a++){var u=w[a];w[a]=w[_-a-1],w[_-a-1]=u,u=M[a],M[a]=-M[_-a-1],M[_-a-1]=-u}},D.prototype.normalize13b=function(w,M){for(var _=0,a=0;a<M/2;a++){var u=Math.round(w[2*a+1]/M)*8192+Math.round(w[2*a]/M)+_;w[a]=u&67108863,u<67108864?_=0:_=u/67108864|0}return w},D.prototype.convert13b=function(w,M,_,a){for(var u=0,p=0;p<M;p++)u=u+(w[p]|0),_[2*p]=u&8191,u=u>>>13,_[2*p+1]=u&8191,u=u>>>13;for(p=2*M;p<a;++p)_[p]=0;r(u===0),r((u&-8192)===0)},D.prototype.stub=function(w){for(var M=new Array(w),_=0;_<w;_++)M[_]=0;return M},D.prototype.mulp=function(w,M,_){var a=2*this.guessLen13b(w.length,M.length),u=this.makeRBT(a),p=this.stub(a),v=new Array(a),g=new Array(a),m=new Array(a),A=new Array(a),R=new Array(a),y=new Array(a),P=_.words;P.length=a,this.convert13b(w.words,w.length,v,a),this.convert13b(M.words,M.length,A,a),this.transform(v,p,g,m,a,u),this.transform(A,p,R,y,a,u);for(var W=0;W<a;W++){var H=g[W]*R[W]-m[W]*y[W];m[W]=g[W]*y[W]+m[W]*R[W],g[W]=H}return this.conjugate(g,m,a),this.transform(g,m,P,p,a,u),this.conjugate(P,p,a),this.normalize13b(P,a),_.negative=w.negative^M.negative,_.length=w.length+M.length,_.strip()},n.prototype.mul=function(w){var M=new n(null);return M.words=new Array(this.length+w.length),this.mulTo(w,M)},n.prototype.mulf=function(w){var M=new n(null);return M.words=new Array(this.length+w.length),O(this,w,M)},n.prototype.imul=function(w){return this.clone().mulTo(w,this)},n.prototype.imuln=function(w){r(typeof w=="number"),r(w<67108864);for(var M=0,_=0;_<this.length;_++){var a=(this.words[_]|0)*w,u=(a&67108863)+(M&67108863);M>>=26,M+=a/67108864|0,M+=u>>>26,this.words[_]=u&67108863}return M!==0&&(this.words[_]=M,this.length++),this},n.prototype.muln=function(w){return this.clone().imuln(w)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(w){var M=E(w);if(M.length===0)return new n(1);for(var _=this,a=0;a<M.length&&M[a]===0;a++,_=_.sqr());if(++a<M.length)for(var u=_.sqr();a<M.length;a++,u=u.sqr())M[a]!==0&&(_=_.mul(u));return _},n.prototype.iushln=function(w){r(typeof w=="number"&&w>=0);var M=w%26,_=(w-M)/26,a=67108863>>>26-M<<26-M,u;if(M!==0){var p=0;for(u=0;u<this.length;u++){var v=this.words[u]&a,g=(this.words[u]|0)-v<<M;this.words[u]=g|p,p=v>>>26-M}p&&(this.words[u]=p,this.length++)}if(_!==0){for(u=this.length-1;u>=0;u--)this.words[u+_]=this.words[u];for(u=0;u<_;u++)this.words[u]=0;this.length+=_}return this.strip()},n.prototype.ishln=function(w){return r(this.negative===0),this.iushln(w)},n.prototype.iushrn=function(w,M,_){r(typeof w=="number"&&w>=0);var a;M?a=(M-M%26)/26:a=0;var u=w%26,p=Math.min((w-u)/26,this.length),v=67108863^67108863>>>u<<u,g=_;if(a-=p,a=Math.max(0,a),g){for(var m=0;m<p;m++)g.words[m]=this.words[m];g.length=p}if(p!==0)if(this.length>p)for(this.length-=p,m=0;m<this.length;m++)this.words[m]=this.words[m+p];else this.words[0]=0,this.length=1;var A=0;for(m=this.length-1;m>=0&&(A!==0||m>=a);m--){var R=this.words[m]|0;this.words[m]=A<<26-u|R>>>u,A=R&v}return g&&A!==0&&(g.words[g.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(w,M,_){return r(this.negative===0),this.iushrn(w,M,_)},n.prototype.shln=function(w){return this.clone().ishln(w)},n.prototype.ushln=function(w){return this.clone().iushln(w)},n.prototype.shrn=function(w){return this.clone().ishrn(w)},n.prototype.ushrn=function(w){return this.clone().iushrn(w)},n.prototype.testn=function(w){r(typeof w=="number"&&w>=0);var M=w%26,_=(w-M)/26,a=1<<M;if(this.length<=_)return!1;var u=this.words[_];return!!(u&a)},n.prototype.imaskn=function(w){r(typeof w=="number"&&w>=0);var M=w%26,_=(w-M)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(M!==0&&_++,this.length=Math.min(_,this.length),M!==0){var a=67108863^67108863>>>M<<M;this.words[this.length-1]&=a}return this.strip()},n.prototype.maskn=function(w){return this.clone().imaskn(w)},n.prototype.iaddn=function(w){return r(typeof w=="number"),r(w<67108864),w<0?this.isubn(-w):this.negative!==0?this.length===1&&(this.words[0]|0)<w?(this.words[0]=w-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},n.prototype._iaddn=function(w){this.words[0]+=w;for(var M=0;M<this.length&&this.words[M]>=67108864;M++)this.words[M]-=67108864,M===this.length-1?this.words[M+1]=1:this.words[M+1]++;return this.length=Math.max(this.length,M+1),this},n.prototype.isubn=function(w){if(r(typeof w=="number"),r(w<67108864),w<0)return this.iaddn(-w);if(this.negative!==0)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var M=0;M<this.length&&this.words[M]<0;M++)this.words[M]+=67108864,this.words[M+1]-=1;return this.strip()},n.prototype.addn=function(w){return this.clone().iaddn(w)},n.prototype.subn=function(w){return this.clone().isubn(w)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(w,M,_){var a=w.length+_,u;this._expand(a);var p,v=0;for(u=0;u<w.length;u++){p=(this.words[u+_]|0)+v;var g=(w.words[u]|0)*M;p-=g&67108863,v=(p>>26)-(g/67108864|0),this.words[u+_]=p&67108863}for(;u<this.length-_;u++)p=(this.words[u+_]|0)+v,v=p>>26,this.words[u+_]=p&67108863;if(v===0)return this.strip();for(r(v===-1),v=0,u=0;u<this.length;u++)p=-(this.words[u]|0)+v,v=p>>26,this.words[u]=p&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(w,M){var _=this.length-w.length,a=this.clone(),u=w,p=u.words[u.length-1]|0,v=this._countBits(p);_=26-v,_!==0&&(u=u.ushln(_),a.iushln(_),p=u.words[u.length-1]|0);var g=a.length-u.length,m;if(M!=="mod"){m=new n(null),m.length=g+1,m.words=new Array(m.length);for(var A=0;A<m.length;A++)m.words[A]=0}var R=a.clone()._ishlnsubmul(u,1,g);R.negative===0&&(a=R,m&&(m.words[g]=1));for(var y=g-1;y>=0;y--){var P=(a.words[u.length+y]|0)*67108864+(a.words[u.length+y-1]|0);for(P=Math.min(P/p|0,67108863),a._ishlnsubmul(u,P,y);a.negative!==0;)P--,a.negative=0,a._ishlnsubmul(u,1,y),a.isZero()||(a.negative^=1);m&&(m.words[y]=P)}return m&&m.strip(),a.strip(),M!=="div"&&_!==0&&a.iushrn(_),{div:m||null,mod:a}},n.prototype.divmod=function(w,M,_){if(r(!w.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var a,u,p;return this.negative!==0&&w.negative===0?(p=this.neg().divmod(w,M),M!=="mod"&&(a=p.div.neg()),M!=="div"&&(u=p.mod.neg(),_&&u.negative!==0&&u.iadd(w)),{div:a,mod:u}):this.negative===0&&w.negative!==0?(p=this.divmod(w.neg(),M),M!=="mod"&&(a=p.div.neg()),{div:a,mod:p.mod}):this.negative&w.negative?(p=this.neg().divmod(w.neg(),M),M!=="div"&&(u=p.mod.neg(),_&&u.negative!==0&&u.isub(w)),{div:p.div,mod:u}):w.length>this.length||this.cmp(w)<0?{div:new n(0),mod:this}:w.length===1?M==="div"?{div:this.divn(w.words[0]),mod:null}:M==="mod"?{div:null,mod:new n(this.modn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new n(this.modn(w.words[0]))}:this._wordDiv(w,M)},n.prototype.div=function(w){return this.divmod(w,"div",!1).div},n.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},n.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},n.prototype.divRound=function(w){var M=this.divmod(w);if(M.mod.isZero())return M.div;var _=M.div.negative!==0?M.mod.isub(w):M.mod,a=w.ushrn(1),u=w.andln(1),p=_.cmp(a);return p<0||u===1&&p===0?M.div:M.div.negative!==0?M.div.isubn(1):M.div.iaddn(1)},n.prototype.modn=function(w){r(w<=67108863);for(var M=(1<<26)%w,_=0,a=this.length-1;a>=0;a--)_=(M*_+(this.words[a]|0))%w;return _},n.prototype.idivn=function(w){r(w<=67108863);for(var M=0,_=this.length-1;_>=0;_--){var a=(this.words[_]|0)+M*67108864;this.words[_]=a/w|0,M=a%w}return this.strip()},n.prototype.divn=function(w){return this.clone().idivn(w)},n.prototype.egcd=function(w){r(w.negative===0),r(!w.isZero());var M=this,_=w.clone();M.negative!==0?M=M.umod(w):M=M.clone();for(var a=new n(1),u=new n(0),p=new n(0),v=new n(1),g=0;M.isEven()&&_.isEven();)M.iushrn(1),_.iushrn(1),++g;for(var m=_.clone(),A=M.clone();!M.isZero();){for(var R=0,y=1;!(M.words[0]&y)&&R<26;++R,y<<=1);if(R>0)for(M.iushrn(R);R-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(m),u.isub(A)),a.iushrn(1),u.iushrn(1);for(var P=0,W=1;!(_.words[0]&W)&&P<26;++P,W<<=1);if(P>0)for(_.iushrn(P);P-- >0;)(p.isOdd()||v.isOdd())&&(p.iadd(m),v.isub(A)),p.iushrn(1),v.iushrn(1);M.cmp(_)>=0?(M.isub(_),a.isub(p),u.isub(v)):(_.isub(M),p.isub(a),v.isub(u))}return{a:p,b:v,gcd:_.iushln(g)}},n.prototype._invmp=function(w){r(w.negative===0),r(!w.isZero());var M=this,_=w.clone();M.negative!==0?M=M.umod(w):M=M.clone();for(var a=new n(1),u=new n(0),p=_.clone();M.cmpn(1)>0&&_.cmpn(1)>0;){for(var v=0,g=1;!(M.words[0]&g)&&v<26;++v,g<<=1);if(v>0)for(M.iushrn(v);v-- >0;)a.isOdd()&&a.iadd(p),a.iushrn(1);for(var m=0,A=1;!(_.words[0]&A)&&m<26;++m,A<<=1);if(m>0)for(_.iushrn(m);m-- >0;)u.isOdd()&&u.iadd(p),u.iushrn(1);M.cmp(_)>=0?(M.isub(_),a.isub(u)):(_.isub(M),u.isub(a))}var R;return M.cmpn(1)===0?R=a:R=u,R.cmpn(0)<0&&R.iadd(w),R},n.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var M=this.clone(),_=w.clone();M.negative=0,_.negative=0;for(var a=0;M.isEven()&&_.isEven();a++)M.iushrn(1),_.iushrn(1);do{for(;M.isEven();)M.iushrn(1);for(;_.isEven();)_.iushrn(1);var u=M.cmp(_);if(u<0){var p=M;M=_,_=p}else if(u===0||_.cmpn(1)===0)break;M.isub(_)}while(!0);return _.iushln(a)},n.prototype.invm=function(w){return this.egcd(w).a.umod(w)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(w){return this.words[0]&w},n.prototype.bincn=function(w){r(typeof w=="number");var M=w%26,_=(w-M)/26,a=1<<M;if(this.length<=_)return this._expand(_+1),this.words[_]|=a,this;for(var u=a,p=_;u!==0&&p<this.length;p++){var v=this.words[p]|0;v+=u,u=v>>>26,v&=67108863,this.words[p]=v}return u!==0&&(this.words[p]=u,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(w){var M=w<0;if(this.negative!==0&&!M)return-1;if(this.negative===0&&M)return 1;this.strip();var _;if(this.length>1)_=1;else{M&&(w=-w),r(w<=67108863,"Number is too big");var a=this.words[0]|0;_=a===w?0:a<w?-1:1}return this.negative!==0?-_|0:_},n.prototype.cmp=function(w){if(this.negative!==0&&w.negative===0)return-1;if(this.negative===0&&w.negative!==0)return 1;var M=this.ucmp(w);return this.negative!==0?-M|0:M},n.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var M=0,_=this.length-1;_>=0;_--){var a=this.words[_]|0,u=w.words[_]|0;if(a!==u){a<u?M=-1:a>u&&(M=1);break}}return M},n.prototype.gtn=function(w){return this.cmpn(w)===1},n.prototype.gt=function(w){return this.cmp(w)===1},n.prototype.gten=function(w){return this.cmpn(w)>=0},n.prototype.gte=function(w){return this.cmp(w)>=0},n.prototype.ltn=function(w){return this.cmpn(w)===-1},n.prototype.lt=function(w){return this.cmp(w)===-1},n.prototype.lten=function(w){return this.cmpn(w)<=0},n.prototype.lte=function(w){return this.cmp(w)<=0},n.prototype.eqn=function(w){return this.cmpn(w)===0},n.prototype.eq=function(w){return this.cmp(w)===0},n.red=function(w){return new F(w)},n.prototype.toRed=function(w){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),w.convertTo(this)._forceRed(w)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(w){return this.red=w,this},n.prototype.forceRed=function(w){return r(!this.red,"Already a number in reduction context"),this._forceRed(w)},n.prototype.redAdd=function(w){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},n.prototype.redIAdd=function(w){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},n.prototype.redSub=function(w){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},n.prototype.redISub=function(w){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},n.prototype.redShl=function(w){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},n.prototype.redMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},n.prototype.redIMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(w){return r(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var I={k256:null,p224:null,p192:null,p25519:null};function L(B,w){this.name=B,this.p=new n(w,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var w=new n(null);return w.words=new Array(Math.ceil(this.n/13)),w},L.prototype.ireduce=function(w){var M=w,_;do this.split(M,this.tmp),M=this.imulK(M),M=M.iadd(this.tmp),_=M.bitLength();while(_>this.n);var a=_<this.n?-1:M.ucmp(this.p);return a===0?(M.words[0]=0,M.length=1):a>0?M.isub(this.p):M.strip!==void 0?M.strip():M._strip(),M},L.prototype.split=function(w,M){w.iushrn(this.n,0,M)},L.prototype.imulK=function(w){return w.imul(this.k)};function U(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,L),U.prototype.split=function(w,M){for(var _=4194303,a=Math.min(w.length,9),u=0;u<a;u++)M.words[u]=w.words[u];if(M.length=a,w.length<=9){w.words[0]=0,w.length=1;return}var p=w.words[9];for(M.words[M.length++]=p&_,u=10;u<w.length;u++){var v=w.words[u]|0;w.words[u-10]=(v&_)<<4|p>>>22,p=v}p>>>=22,w.words[u-10]=p,p===0&&w.length>10?w.length-=10:w.length-=9},U.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var M=0,_=0;_<w.length;_++){var a=w.words[_]|0;M+=a*977,w.words[_]=M&67108863,M=a*64+(M/67108864|0)}return w.words[w.length-1]===0&&(w.length--,w.words[w.length-1]===0&&w.length--),w};function $(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,L);function K(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(K,L);function q(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(q,L),q.prototype.imulK=function(w){for(var M=0,_=0;_<w.length;_++){var a=(w.words[_]|0)*19+M,u=a&67108863;a>>>=26,w.words[_]=u,M=a}return M!==0&&(w.words[w.length++]=M),w},n._prime=function(w){if(I[w])return I[w];var M;if(w==="k256")M=new U;else if(w==="p224")M=new $;else if(w==="p192")M=new K;else if(w==="p25519")M=new q;else throw new Error("Unknown prime "+w);return I[w]=M,M};function F(B){if(typeof B=="string"){var w=n._prime(B);this.m=w.p,this.prime=w}else r(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}F.prototype._verify1=function(w){r(w.negative===0,"red works only with positives"),r(w.red,"red works only with red numbers")},F.prototype._verify2=function(w,M){r((w.negative|M.negative)===0,"red works only with positives"),r(w.red&&w.red===M.red,"red works only with red numbers")},F.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):w.umod(this.m)._forceRed(this)},F.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},F.prototype.add=function(w,M){this._verify2(w,M);var _=w.add(M);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},F.prototype.iadd=function(w,M){this._verify2(w,M);var _=w.iadd(M);return _.cmp(this.m)>=0&&_.isub(this.m),_},F.prototype.sub=function(w,M){this._verify2(w,M);var _=w.sub(M);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},F.prototype.isub=function(w,M){this._verify2(w,M);var _=w.isub(M);return _.cmpn(0)<0&&_.iadd(this.m),_},F.prototype.shl=function(w,M){return this._verify1(w),this.imod(w.ushln(M))},F.prototype.imul=function(w,M){return this._verify2(w,M),this.imod(w.imul(M))},F.prototype.mul=function(w,M){return this._verify2(w,M),this.imod(w.mul(M))},F.prototype.isqr=function(w){return this.imul(w,w.clone())},F.prototype.sqr=function(w){return this.mul(w,w)},F.prototype.sqrt=function(w){if(w.isZero())return w.clone();var M=this.m.andln(3);if(r(M%2===1),M===3){var _=this.m.add(new n(1)).iushrn(2);return this.pow(w,_)}for(var a=this.m.subn(1),u=0;!a.isZero()&&a.andln(1)===0;)u++,a.iushrn(1);r(!a.isZero());var p=new n(1).toRed(this),v=p.redNeg(),g=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new n(2*m*m).toRed(this);this.pow(m,g).cmp(v)!==0;)m.redIAdd(v);for(var A=this.pow(m,a),R=this.pow(w,a.addn(1).iushrn(1)),y=this.pow(w,a),P=u;y.cmp(p)!==0;){for(var W=y,H=0;W.cmp(p)!==0;H++)W=W.redSqr();r(H<P);var V=this.pow(A,new n(1).iushln(P-H-1));R=R.redMul(V),A=V.redSqr(),y=y.redMul(A),P=H}return R},F.prototype.invm=function(w){var M=w._invmp(this.m);return M.negative!==0?(M.negative=0,this.imod(M).redNeg()):this.imod(M)},F.prototype.pow=function(w,M){if(M.isZero())return new n(1).toRed(this);if(M.cmpn(1)===0)return w.clone();var _=4,a=new Array(1<<_);a[0]=new n(1).toRed(this),a[1]=w;for(var u=2;u<a.length;u++)a[u]=this.mul(a[u-1],w);var p=a[0],v=0,g=0,m=M.bitLength()%26;for(m===0&&(m=26),u=M.length-1;u>=0;u--){for(var A=M.words[u],R=m-1;R>=0;R--){var y=A>>R&1;if(p!==a[0]&&(p=this.sqr(p)),y===0&&v===0){g=0;continue}v<<=1,v|=y,g++,!(g!==_&&(u!==0||R!==0))&&(p=this.mul(p,a[v]),g=0,v=0)}m=26}return p},F.prototype.convertTo=function(w){var M=w.umod(this.m);return M===w?M.clone():M},F.prototype.convertFrom=function(w){var M=w.clone();return M.red=null,M},n.mont=function(w){return new G(w)};function G(B){F.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(G,F),G.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},G.prototype.convertFrom=function(w){var M=this.imod(w.mul(this.rinv));return M.red=null,M},G.prototype.imul=function(w,M){if(w.isZero()||M.isZero())return w.words[0]=0,w.length=1,w;var _=w.imul(M),a=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=_.isub(a).iushrn(this.shift),p=u;return u.cmp(this.m)>=0?p=u.isub(this.m):u.cmpn(0)<0&&(p=u.iadd(this.m)),p._forceRed(this)},G.prototype.mul=function(w,M){if(w.isZero()||M.isZero())return new n(0)._forceRed(this);var _=w.mul(M),a=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=_.isub(a).iushrn(this.shift),p=u;return u.cmp(this.m)>=0?p=u.isub(this.m):u.cmpn(0)<0&&(p=u.iadd(this.m)),p._forceRed(this)},G.prototype.invm=function(w){var M=this.imod(w._invmp(this.m).mul(this.r2));return M._forceRed(this)}})(typeof fx>"u"||fx,EN)});var Q1=z((oSe,dx)=>{x();var cx;dx.exports=function(e){return cx||(cx=new kc(null)),cx.generate(e)};function kc(t){this.rand=t}dx.exports.Rand=kc;kc.prototype.generate=function(e){return this._rand(e)};kc.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),i=0;i<r.length;i++)r[i]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?kc.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?kc.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(kc.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(ux=jd(),typeof ux.randomBytes!="function")throw new Error("Not supported");kc.prototype._rand=function(e){return ux.randomBytes(e)}}catch{}var ux});var lx=z((aSe,xN)=>{x();var Nd=fi(),bfe=Q1();function qd(t){this.rand=t||new bfe.Rand}xN.exports=qd;qd.create=function(e){return new qd(e)};qd.prototype._randbelow=function(e){var r=e.bitLength(),i=Math.ceil(r/8);do var n=new Nd(this.rand.generate(i));while(n.cmp(e)>=0);return n};qd.prototype._randrange=function(e,r){var i=r.sub(e);return e.add(this._randbelow(i))};qd.prototype.test=function(e,r,i){var n=e.bitLength(),o=Nd.mont(e),s=new Nd(1).toRed(o);r||(r=Math.max(1,n/48|0));for(var f=e.subn(1),c=0;!f.testn(c);c++);for(var d=e.shrn(c),l=f.toRed(o),h=!0;r>0;r--){var E=this._randrange(new Nd(2),f);i&&i(E);var b=E.toRed(o).redPow(d);if(!(b.cmp(s)===0||b.cmp(l)===0)){for(var T=1;T<c;T++){if(b=b.redSqr(),b.cmp(s)===0)return!1;if(b.cmp(l)===0)break}if(T===c)return!1}}return h};qd.prototype.getDivisor=function(e,r){var i=e.bitLength(),n=Nd.mont(e),o=new Nd(1).toRed(n);r||(r=Math.max(1,i/48|0));for(var s=e.subn(1),f=0;!s.testn(f);f++);for(var c=e.shrn(f),d=s.toRed(n);r>0;r--){var l=this._randrange(new Nd(2),s),h=e.gcd(l);if(h.cmpn(1)!==0)return h;var E=l.toRed(n).redPow(c);if(!(E.cmp(o)===0||E.cmp(d)===0)){for(var b=1;b<f;b++){if(E=E.redSqr(),E.cmp(o)===0)return E.fromRed().subn(1).gcd(e);if(E.cmp(d)===0)break}if(b===f)return E=E.redSqr(),E.fromRed().subn(1).gcd(e)}}return!1}});var vx=z((hSe,AN)=>{x();var wfe=cd();AN.exports=gx;gx.simpleSieve=yx;gx.fermatTest=mx;var Ni=fi(),_fe=new Ni(24),Efe=lx(),SN=new Efe,xfe=new Ni(1),px=new Ni(2),Sfe=new Ni(5),cSe=new Ni(16),uSe=new Ni(8),Mfe=new Ni(10),Afe=new Ni(3),dSe=new Ni(7),Tfe=new Ni(11),MN=new Ni(4),lSe=new Ni(12),hx=null;function Rfe(){if(hx!==null)return hx;var t=1048576,e=[];e[0]=2;for(var r=1,i=3;i<t;i+=2){for(var n=Math.ceil(Math.sqrt(i)),o=0;o<r&&e[o]<=n&&i%e[o]!==0;o++);r!==o&&e[o]<=n||(e[r++]=i)}return hx=e,e}function yx(t){for(var e=Rfe(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function mx(t){var e=Ni.mont(t);return px.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function gx(t,e){if(t<16)return e===2||e===5?new Ni([140,123]):new Ni([140,39]);e=new Ni(e);for(var r,i;;){for(r=new Ni(wfe(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(xfe),r.testn(1)||r.iadd(px),e.cmp(px)){if(!e.cmp(Sfe))for(;r.mod(Mfe).cmp(Afe);)r.iadd(MN)}else for(;r.mod(_fe).cmp(Tfe);)r.iadd(MN);if(i=r.shrn(1),yx(i)&&yx(r)&&mx(i)&&mx(r)&&SN.test(i)&&SN.test(r))return r}}});var TN=z((ySe,Pfe)=>{Pfe.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var IN=z((mSe,kN)=>{x();var vo=fi(),kfe=lx(),RN=new kfe,Ife=new vo(24),Dfe=new vo(11),Bfe=new vo(10),Cfe=new vo(3),Ofe=new vo(7),PN=vx(),jfe=cd();kN.exports=of;function Nfe(t,e){return e=e||"utf8",j.Buffer.isBuffer(t)||(t=new j.Buffer(t,e)),this._pub=new vo(t),this}function qfe(t,e){return e=e||"utf8",j.Buffer.isBuffer(t)||(t=new j.Buffer(t,e)),this._priv=new vo(t),this}var X1={};function Lfe(t,e){var r=e.toString("hex"),i=[r,t.toString(16)].join("_");if(i in X1)return X1[i];var n=0;if(t.isEven()||!PN.simpleSieve||!PN.fermatTest(t)||!RN.test(t))return n+=1,r==="02"||r==="05"?n+=8:n+=4,X1[i]=n,n;RN.test(t.shrn(1))||(n+=2);var o;switch(r){case"02":t.mod(Ife).cmp(Dfe)&&(n+=8);break;case"05":o=t.mod(Bfe),o.cmp(Cfe)&&o.cmp(Ofe)&&(n+=8);break;default:n+=4}return X1[i]=n,n}function of(t,e,r){this.setGenerator(e),this.__prime=new vo(t),this._prime=vo.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=Nfe,this.setPrivateKey=qfe):this._primeCode=8}Object.defineProperty(of.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=Lfe(this.__prime,this.__gen)),this._primeCode}});of.prototype.generateKeys=function(){return this._priv||(this._priv=new vo(jfe(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};of.prototype.computeSecret=function(t){t=new vo(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new j.Buffer(e.toArray()),i=this.getPrime();if(r.length<i.length){var n=new j.Buffer(i.length-r.length);n.fill(0),r=j.Buffer.concat([n,r])}return r};of.prototype.getPublicKey=function(e){return ew(this._pub,e)};of.prototype.getPrivateKey=function(e){return ew(this._priv,e)};of.prototype.getPrime=function(t){return ew(this.__prime,t)};of.prototype.getGenerator=function(t){return ew(this._gen,t)};of.prototype.setGenerator=function(t,e){return e=e||"utf8",j.Buffer.isBuffer(t)||(t=new j.Buffer(t,e)),this.__gen=t,this._gen=new vo(t),this};function ew(t,e){var r=new j.Buffer(t.toArray());return e?r.toString(e):r}});var CN=z(Fh=>{x();var Ufe=vx(),DN=TN(),bx=IN();function Ffe(t){var e=new j.Buffer(DN[t].prime,"hex"),r=new j.Buffer(DN[t].gen,"hex");return new bx(e,r)}var zfe={binary:!0,hex:!0,base64:!0};function BN(t,e,r,i){return j.Buffer.isBuffer(e)||zfe[e]===void 0?BN(t,"binary",e,r):(e=e||"binary",i=i||"binary",r=r||new j.Buffer([2]),j.Buffer.isBuffer(r)||(r=new j.Buffer(r,i)),typeof t=="number"?new bx(Ufe(t,r),r,!0):(j.Buffer.isBuffer(t)||(t=new j.Buffer(t,e)),new bx(t,r,!0)))}Fh.DiffieHellmanGroup=Fh.createDiffieHellmanGroup=Fh.getDiffieHellman=Ffe;Fh.createDiffieHellman=Fh.DiffieHellman=BN});var rw=z((wx,jN)=>{x();var tw=er(),oa=tw.Buffer;function ON(t,e){for(var r in t)e[r]=t[r]}oa.from&&oa.alloc&&oa.allocUnsafe&&oa.allocUnsafeSlow?jN.exports=tw:(ON(tw,wx),wx.Buffer=Ld);function Ld(t,e,r){return oa(t,e,r)}Ld.prototype=Object.create(oa.prototype);ON(oa,Ld);Ld.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return oa(t,e,r)};Ld.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=oa(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Ld.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return oa(t)};Ld.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return tw.SlowBuffer(t)}});var _x=z((_Se,NN)=>{x();NN.exports=oo().EventEmitter});var $N=z((xSe,zN)=>{"use strict";x();function qN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function LN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(r),!0).forEach(function(i){$fe(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function $fe(t,e,r){return e=FN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UN(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,FN(i.key),i)}}function Kfe(t,e,r){return e&&UN(t.prototype,e),r&&UN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FN(t){var e=Hfe(t,"string");return typeof e=="symbol"?e:String(e)}function Hfe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vfe=er(),iw=Vfe.Buffer,Gfe=md(),Ex=Gfe.inspect,Zfe=Ex&&Ex.custom||"inspect";function Yfe(t,e,r){iw.prototype.copy.call(t,e,r)}zN.exports=function(){function t(){Wfe(this,t),this.head=null,this.tail=null,this.length=0}return Kfe(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return iw.alloc(0);for(var i=iw.allocUnsafe(r>>>0),n=this.head,o=0;n;)Yfe(n.data,i,o),o+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,o=i.data;for(r-=o.length;i=i.next;){var s=i.data,f=r>s.length?s.length:r;if(f===s.length?o+=s:o+=s.slice(0,r),r-=f,r===0){f===s.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(f));break}++n}return this.length-=n,o}},{key:"_getBuffer",value:function(r){var i=iw.allocUnsafe(r),n=this.head,o=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var s=n.data,f=r>s.length?s.length:r;if(s.copy(i,i.length-r,0,f),r-=f,r===0){f===s.length?(++o,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(f));break}++o}return this.length-=o,i}},{key:Zfe,value:function(r,i){return Ex(this,LN(LN({},i),{},{depth:0,customInspect:!1}))}}]),t}()});var Sx=z((MSe,KN)=>{"use strict";x();function Jfe(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,C.default.nextTick(xx,this,t)):C.default.nextTick(xx,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?C.default.nextTick(nw,r):(r._writableState.errorEmitted=!0,C.default.nextTick(WN,r,o)):C.default.nextTick(WN,r,o):e?(C.default.nextTick(nw,r),e(o)):C.default.nextTick(nw,r)}),this)}function WN(t,e){xx(t,e),nw(t)}function nw(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Qfe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function xx(t,e){t.emit("error",e)}function Xfe(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}KN.exports={destroy:Jfe,undestroy:Qfe,errorOrDestroy:Xfe}});var Ud=z((TSe,GN)=>{"use strict";x();function ece(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var VN={};function bo(t,e,r){r||(r=Error);function i(o,s,f){return typeof e=="string"?e:e(o,s,f)}var n=function(o){ece(s,o);function s(f,c,d){return o.call(this,i(f,c,d))||this}return s}(r);n.prototype.name=r.name,n.prototype.code=t,VN[t]=n}function HN(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function tce(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function rce(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function ice(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}bo("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);bo("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&tce(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(rce(t," argument"))n="The ".concat(t," ").concat(i," ").concat(HN(e,"type"));else{var o=ice(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(o," ").concat(i," ").concat(HN(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);bo("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");bo("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});bo("ERR_STREAM_PREMATURE_CLOSE","Premature close");bo("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});bo("ERR_MULTIPLE_CALLBACK","Callback called multiple times");bo("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");bo("ERR_STREAM_WRITE_AFTER_END","write after end");bo("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);bo("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);bo("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");GN.exports.codes=VN});var Mx=z((PSe,ZN)=>{"use strict";x();var nce=Ud().codes.ERR_INVALID_OPT_VALUE;function oce(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function sce(t,e,r,i){var n=oce(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var o=i?r:"highWaterMark";throw new nce(o,n)}return Math.floor(n)}return t.objectMode?16:16*1024}ZN.exports={getHighWaterMark:sce}});var Rx=z((ISe,tq)=>{"use strict";x();tq.exports=Ir;function JN(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Bce(e,t)}}var zh;Ir.WritableState=fm;var ace={deprecate:Qb()},QN=_x(),sw=er().Buffer,fce=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function cce(t){return sw.from(t)}function uce(t){return sw.isBuffer(t)||t instanceof fce}var Tx=Sx(),dce=Mx(),lce=dce.getHighWaterMark,Ic=Ud().codes,hce=Ic.ERR_INVALID_ARG_TYPE,pce=Ic.ERR_METHOD_NOT_IMPLEMENTED,yce=Ic.ERR_MULTIPLE_CALLBACK,mce=Ic.ERR_STREAM_CANNOT_PIPE,gce=Ic.ERR_STREAM_DESTROYED,vce=Ic.ERR_STREAM_NULL_VALUES,bce=Ic.ERR_STREAM_WRITE_AFTER_END,wce=Ic.ERR_UNKNOWN_ENCODING,$h=Tx.errorOrDestroy;Qe()(Ir,QN);function _ce(){}function fm(t,e,r){zh=zh||Fd(),t=t||{},typeof r!="boolean"&&(r=e instanceof zh),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=lce(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){Rce(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new JN(this)}fm.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(fm.prototype,"buffer",{get:ace.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ow;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ow=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ir,Symbol.hasInstance,{value:function(e){return ow.call(this,e)?!0:this!==Ir?!1:e&&e._writableState instanceof fm}})):ow=function(e){return e instanceof this};function Ir(t){zh=zh||Fd();var e=this instanceof zh;if(!e&&!ow.call(Ir,this))return new Ir(t);this._writableState=new fm(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),QN.call(this)}Ir.prototype.pipe=function(){$h(this,new mce)};function Ece(t,e){var r=new bce;$h(t,r),C.default.nextTick(e,r)}function xce(t,e,r,i){var n;return r===null?n=new vce:typeof r!="string"&&!e.objectMode&&(n=new hce("chunk",["string","Buffer"],r)),n?($h(t,n),C.default.nextTick(i,n),!1):!0}Ir.prototype.write=function(t,e,r){var i=this._writableState,n=!1,o=!i.objectMode&&uce(t);return o&&!sw.isBuffer(t)&&(t=cce(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=_ce),i.ending?Ece(this,r):(o||xce(this,i,t,r))&&(i.pendingcb++,n=Mce(this,i,o,t,e,r)),n};Ir.prototype.cork=function(){this._writableState.corked++};Ir.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&XN(this,t))};Ir.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new wce(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Ir.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Sce(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=sw.from(e,r)),e}Object.defineProperty(Ir.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Mce(t,e,r,i,n,o){if(!r){var s=Sce(e,i,n);i!==s&&(r=!0,n="buffer",i=s)}var f=e.objectMode?1:i.length;e.length+=f;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var d=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},d?d.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Ax(t,e,!1,f,i,n,o);return c}function Ax(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new gce("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1}function Ace(t,e,r,i,n){--e.pendingcb,r?(C.default.nextTick(n,i),C.default.nextTick(am,t,e),t._writableState.errorEmitted=!0,$h(t,i)):(n(i),t._writableState.errorEmitted=!0,$h(t,i),am(t,e))}function Tce(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Rce(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new yce;if(Tce(r),e)Ace(t,r,i,e,n);else{var o=eq(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&XN(t,r),i?C.default.nextTick(YN,t,r,o,n):YN(t,r,o,n)}}function YN(t,e,r,i){r||Pce(t,e),e.pendingcb--,i(),am(t,e)}function Pce(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function XN(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var s=0,f=!0;r;)n[s]=r,r.isBuf||(f=!1),r=r.next,s+=1;n.allBuffers=f,Ax(t,e,!0,e.length,n,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new JN(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,d=r.encoding,l=r.callback,h=e.objectMode?1:c.length;if(Ax(t,e,!1,h,c,d,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Ir.prototype._write=function(t,e,r){r(new pce("_write()"))};Ir.prototype._writev=null;Ir.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||Dce(this,i,r),this};Object.defineProperty(Ir.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function eq(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function kce(t,e){t._final(function(r){e.pendingcb--,r&&$h(t,r),e.prefinished=!0,t.emit("prefinish"),am(t,e)})}function Ice(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,C.default.nextTick(kce,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function am(t,e){var r=eq(e);if(r&&(Ice(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function Dce(t,e,r){e.ending=!0,am(t,e),r&&(e.finished?C.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Bce(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(Ir.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Ir.prototype.destroy=Tx.destroy;Ir.prototype._undestroy=Tx.undestroy;Ir.prototype._destroy=function(t,e){e(t)}});var Fd=z((BSe,iq)=>{"use strict";x();var Cce=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};iq.exports=sa;var rq=Ix(),kx=Rx();Qe()(sa,rq);for(Px=Cce(kx.prototype),aw=0;aw<Px.length;aw++)fw=Px[aw],sa.prototype[fw]||(sa.prototype[fw]=kx.prototype[fw]);var Px,fw,aw;function sa(t){if(!(this instanceof sa))return new sa(t);rq.call(this,t),kx.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Oce)))}Object.defineProperty(sa.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(sa.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(sa.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Oce(){this._writableState.ended||C.default.nextTick(jce,this)}function jce(t){t.end()}Object.defineProperty(sa.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var cw=z((OSe,sq)=>{"use strict";x();var nq=Ud().codes.ERR_STREAM_PREMATURE_CLOSE;function Nce(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function qce(){}function Lce(t){return t.setHeader&&typeof t.abort=="function"}function oq(t,e,r){if(typeof e=="function")return oq(t,null,e);e||(e={}),r=Nce(r||qce);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||f()},s=t._writableState&&t._writableState.finished,f=function(){n=!1,s=!0,i||r.call(t)},c=t._readableState&&t._readableState.endEmitted,d=function(){i=!1,c=!0,n||r.call(t)},l=function(T){r.call(t,T)},h=function(){var T;if(i&&!c)return(!t._readableState||!t._readableState.ended)&&(T=new nq),r.call(t,T);if(n&&!s)return(!t._writableState||!t._writableState.ended)&&(T=new nq),r.call(t,T)},E=function(){t.req.on("finish",f)};return Lce(t)?(t.on("complete",f),t.on("abort",h),t.req?E():t.on("request",E)):n&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",d),t.on("finish",f),e.error!==!1&&t.on("error",l),t.on("close",h),function(){t.removeListener("complete",f),t.removeListener("abort",h),t.removeListener("request",E),t.req&&t.req.removeListener("finish",f),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",f),t.removeListener("end",d),t.removeListener("error",l),t.removeListener("close",h)}}sq.exports=oq});var fq=z((NSe,aq)=>{"use strict";x();var uw;function Dc(t,e,r){return e=Uce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uce(t){var e=Fce(t,"string");return typeof e=="symbol"?e:String(e)}function Fce(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zce=cw(),Bc=Symbol("lastResolve"),zd=Symbol("lastReject"),cm=Symbol("error"),dw=Symbol("ended"),$d=Symbol("lastPromise"),Dx=Symbol("handlePromise"),Wd=Symbol("stream");function Cc(t,e){return{value:t,done:e}}function $ce(t){var e=t[Bc];if(e!==null){var r=t[Wd].read();r!==null&&(t[$d]=null,t[Bc]=null,t[zd]=null,e(Cc(r,!1)))}}function Wce(t){C.default.nextTick($ce,t)}function Kce(t,e){return function(r,i){t.then(function(){if(e[dw]){r(Cc(void 0,!0));return}e[Dx](r,i)},i)}}var Hce=Object.getPrototypeOf(function(){}),Vce=Object.setPrototypeOf((uw={get stream(){return this[Wd]},next:function(){var e=this,r=this[cm];if(r!==null)return Promise.reject(r);if(this[dw])return Promise.resolve(Cc(void 0,!0));if(this[Wd].destroyed)return new Promise(function(s,f){C.default.nextTick(function(){e[cm]?f(e[cm]):s(Cc(void 0,!0))})});var i=this[$d],n;if(i)n=new Promise(Kce(i,this));else{var o=this[Wd].read();if(o!==null)return Promise.resolve(Cc(o,!1));n=new Promise(this[Dx])}return this[$d]=n,n}},Dc(uw,Symbol.asyncIterator,function(){return this}),Dc(uw,"return",function(){var e=this;return new Promise(function(r,i){e[Wd].destroy(null,function(n){if(n){i(n);return}r(Cc(void 0,!0))})})}),uw),Hce),Gce=function(e){var r,i=Object.create(Vce,(r={},Dc(r,Wd,{value:e,writable:!0}),Dc(r,Bc,{value:null,writable:!0}),Dc(r,zd,{value:null,writable:!0}),Dc(r,cm,{value:null,writable:!0}),Dc(r,dw,{value:e._readableState.endEmitted,writable:!0}),Dc(r,Dx,{value:function(o,s){var f=i[Wd].read();f?(i[$d]=null,i[Bc]=null,i[zd]=null,o(Cc(f,!1))):(i[Bc]=o,i[zd]=s)},writable:!0}),r));return i[$d]=null,zce(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=i[zd];o!==null&&(i[$d]=null,i[Bc]=null,i[zd]=null,o(n)),i[cm]=n;return}var s=i[Bc];s!==null&&(i[$d]=null,i[Bc]=null,i[zd]=null,s(Cc(void 0,!0))),i[dw]=!0}),e.on("readable",Wce.bind(null,i)),i};aq.exports=Gce});var uq=z((LSe,cq)=>{x();cq.exports=function(){throw new Error("Readable.from is not available in the browser")}});var Ix=z((zSe,wq)=>{"use strict";x();wq.exports=Yt;var Wh;Yt.ReadableState=pq;var FSe=oo().EventEmitter,hq=function(e,r){return e.listeners(r).length},dm=_x(),lw=er().Buffer,Zce=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Yce(t){return lw.from(t)}function Jce(t){return lw.isBuffer(t)||t instanceof Zce}var Bx=md(),xt;Bx&&Bx.debuglog?xt=Bx.debuglog("stream"):xt=function(){};var Qce=$N(),Ux=Sx(),Xce=Mx(),eue=Xce.getHighWaterMark,hw=Ud().codes,tue=hw.ERR_INVALID_ARG_TYPE,rue=hw.ERR_STREAM_PUSH_AFTER_EOF,iue=hw.ERR_METHOD_NOT_IMPLEMENTED,nue=hw.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Kh,Cx,Ox;Qe()(Yt,dm);var um=Ux.errorOrDestroy,jx=["error","close","destroy","pause","resume"];function oue(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function pq(t,e,r){Wh=Wh||Fd(),t=t||{},typeof r!="boolean"&&(r=e instanceof Wh),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=eue(this,t,"readableHighWaterMark",r),this.buffer=new Qce,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Kh||(Kh=Ka().StringDecoder),this.decoder=new Kh(t.encoding),this.encoding=t.encoding)}function Yt(t){if(Wh=Wh||Fd(),!(this instanceof Yt))return new Yt(t);var e=this instanceof Wh;this._readableState=new pq(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),dm.call(this)}Object.defineProperty(Yt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Yt.prototype.destroy=Ux.destroy;Yt.prototype._undestroy=Ux.undestroy;Yt.prototype._destroy=function(t,e){e(t)};Yt.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=lw.from(t,e),e=""),i=!0),yq(this,t,e,!1,i)};Yt.prototype.unshift=function(t){return yq(this,t,null,!0,!1)};function yq(t,e,r,i,n){xt("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,fue(t,o);else{var s;if(n||(s=sue(o,e)),s)um(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==lw.prototype&&(e=Yce(e)),i)o.endEmitted?um(t,new nue):Nx(t,o,e,!0);else if(o.ended)um(t,new rue);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?Nx(t,o,e,!1):Lx(t,o)):Nx(t,o,e,!1)}else i||(o.reading=!1,Lx(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function Nx(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&pw(t)),Lx(t,e)}function sue(t,e){var r;return!Jce(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new tue("chunk",["string","Buffer","Uint8Array"],e)),r}Yt.prototype.isPaused=function(){return this._readableState.flowing===!1};Yt.prototype.setEncoding=function(t){Kh||(Kh=Ka().StringDecoder);var e=new Kh(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var dq=1073741824;function aue(t){return t>=dq?t=dq:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function lq(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=aue(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Yt.prototype.read=function(t){xt("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return xt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?qx(this):pw(this),null;if(t=lq(t,e),t===0&&e.ended)return e.length===0&&qx(this),null;var i=e.needReadable;xt("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,xt("length less than watermark",i)),e.ended||e.reading?(i=!1,xt("reading or ended",i)):i&&(xt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=lq(r,e)));var n;return t>0?n=vq(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&qx(this)),n!==null&&this.emit("data",n),n};function fue(t,e){if(xt("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?pw(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,mq(t)))}}function pw(t){var e=t._readableState;xt("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(xt("emitReadable",e.flowing),e.emittedReadable=!0,C.default.nextTick(mq,t))}function mq(t){var e=t._readableState;xt("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Fx(t)}function Lx(t,e){e.readingMore||(e.readingMore=!0,C.default.nextTick(cue,t,e))}function cue(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(xt("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Yt.prototype._read=function(t){um(this,new iue("_read()"))};Yt.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,xt("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==C.default.stdout&&t!==C.default.stderr,o=n?f:k;i.endEmitted?C.default.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(O,D){xt("onunpipe"),O===r&&D&&D.hasUnpiped===!1&&(D.hasUnpiped=!0,l())}function f(){xt("onend"),t.end()}var c=uue(r);t.on("drain",c);var d=!1;function l(){xt("cleanup"),t.removeListener("close",b),t.removeListener("finish",T),t.removeListener("drain",c),t.removeListener("error",E),t.removeListener("unpipe",s),r.removeListener("end",f),r.removeListener("end",k),r.removeListener("data",h),d=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}r.on("data",h);function h(O){xt("ondata");var D=t.write(O);xt("dest.write",D),D===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&bq(i.pipes,t)!==-1)&&!d&&(xt("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function E(O){xt("onerror",O),k(),t.removeListener("error",E),hq(t,"error")===0&&um(t,O)}oue(t,"error",E);function b(){t.removeListener("finish",T),k()}t.once("close",b);function T(){xt("onfinish"),t.removeListener("close",b),k()}t.once("finish",T);function k(){xt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(xt("pipe resume"),r.resume()),t};function uue(t){return function(){var r=t._readableState;xt("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&hq(t,"data")&&(r.flowing=!0,Fx(t))}}Yt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=bq(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Yt.prototype.on=function(t,e){var r=dm.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,xt("on readable",i.length,i.reading),i.length?pw(this):i.reading||C.default.nextTick(due,this)),r};Yt.prototype.addListener=Yt.prototype.on;Yt.prototype.removeListener=function(t,e){var r=dm.prototype.removeListener.call(this,t,e);return t==="readable"&&C.default.nextTick(gq,this),r};Yt.prototype.removeAllListeners=function(t){var e=dm.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&C.default.nextTick(gq,this),e};function gq(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function due(t){xt("readable nexttick read 0"),t.read(0)}Yt.prototype.resume=function(){var t=this._readableState;return t.flowing||(xt("resume"),t.flowing=!t.readableListening,lue(this,t)),t.paused=!1,this};function lue(t,e){e.resumeScheduled||(e.resumeScheduled=!0,C.default.nextTick(hue,t,e))}function hue(t,e){xt("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Fx(t),e.flowing&&!e.reading&&t.read(0)}Yt.prototype.pause=function(){return xt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(xt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Fx(t){var e=t._readableState;for(xt("flow",e.flowing);e.flowing&&t.read()!==null;);}Yt.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(xt("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(xt("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var f=e.push(s);f||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(f){return function(){return t[f].apply(t,arguments)}}(n));for(var o=0;o<jx.length;o++)t.on(jx[o],this.emit.bind(this,jx[o]));return this._read=function(s){xt("wrapped _read",s),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(Yt.prototype[Symbol.asyncIterator]=function(){return Cx===void 0&&(Cx=fq()),Cx(this)});Object.defineProperty(Yt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Yt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Yt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Yt._fromList=vq;Object.defineProperty(Yt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function vq(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function qx(t){var e=t._readableState;xt("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,C.default.nextTick(pue,e,t))}function pue(t,e){if(xt("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Yt.from=function(t,e){return Ox===void 0&&(Ox=uq()),Ox(Yt,t,e)});function bq(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var zx=z((WSe,Eq)=>{"use strict";x();Eq.exports=sf;var yw=Ud().codes,yue=yw.ERR_METHOD_NOT_IMPLEMENTED,mue=yw.ERR_MULTIPLE_CALLBACK,gue=yw.ERR_TRANSFORM_ALREADY_TRANSFORMING,vue=yw.ERR_TRANSFORM_WITH_LENGTH_0,mw=Fd();Qe()(sf,mw);function bue(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new mue);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function sf(t){if(!(this instanceof sf))return new sf(t);mw.call(this,t),this._transformState={afterTransform:bue.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",wue)}function wue(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){_q(t,e,r)}):_q(this,null,null)}sf.prototype.push=function(t,e){return this._transformState.needTransform=!1,mw.prototype.push.call(this,t,e)};sf.prototype._transform=function(t,e,r){r(new yue("_transform()"))};sf.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};sf.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};sf.prototype._destroy=function(t,e){mw.prototype._destroy.call(this,t,function(r){e(r)})};function _q(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new vue;if(t._transformState.transforming)throw new gue;return t.push(null)}});var Mq=z((HSe,Sq)=>{"use strict";x();Sq.exports=lm;var xq=zx();Qe()(lm,xq);function lm(t){if(!(this instanceof lm))return new lm(t);xq.call(this,t)}lm.prototype._transform=function(t,e,r){r(null,t)}});var kq=z((GSe,Pq)=>{"use strict";x();var $x;function _ue(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Rq=Ud().codes,Eue=Rq.ERR_MISSING_ARGS,xue=Rq.ERR_STREAM_DESTROYED;function Aq(t){if(t)throw t}function Sue(t){return t.setHeader&&typeof t.abort=="function"}function Mue(t,e,r,i){i=_ue(i);var n=!1;t.on("close",function(){n=!0}),$x===void 0&&($x=cw()),$x(t,{readable:e,writable:r},function(s){if(s)return i(s);n=!0,i()});var o=!1;return function(s){if(!n&&!o){if(o=!0,Sue(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(s||new xue("pipe"))}}}function Tq(t){t()}function Aue(t,e){return t.pipe(e)}function Tue(t){return!t.length||typeof t[t.length-1]!="function"?Aq:t.pop()}function Rue(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=Tue(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Eue("streams");var n,o=e.map(function(s,f){var c=f<e.length-1,d=f>0;return Mue(s,c,d,function(l){n||(n=l),l&&o.forEach(Tq),!c&&(o.forEach(Tq),i(n))})});return e.reduce(Aue)}Pq.exports=Rue});var Dq=z((wo,Iq)=>{x();wo=Iq.exports=Ix();wo.Stream=wo;wo.Readable=wo;wo.Writable=Rx();wo.Duplex=Fd();wo.Transform=zx();wo.PassThrough=Mq();wo.finished=cw();wo.pipeline=kq()});var Cq=z((Bq,Wx)=>{x();(function(t,e){"use strict";function r(_,a){if(!_)throw new Error(a||"Assertion failed")}function i(_,a){_.super_=a;var u=function(){};u.prototype=a.prototype,_.prototype=new u,_.prototype.constructor=_}function n(_,a,u){if(n.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(_||0,a||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=er().Buffer}catch{}n.isBN=function(a){return a instanceof n?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===n.wordSize&&Array.isArray(a.words)},n.max=function(a,u){return a.cmp(u)>0?a:u},n.min=function(a,u){return a.cmp(u)<0?a:u},n.prototype._init=function(a,u,p){if(typeof a=="number")return this._initNumber(a,u,p);if(typeof a=="object")return this._initArray(a,u,p);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var v=0;a[0]==="-"&&(v++,this.negative=1),v<a.length&&(u===16?this._parseHex(a,v,p):(this._parseBase(a,u,v),p==="le"&&this._initArray(this.toArray(),u,p)))},n.prototype._initNumber=function(a,u,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),u,p)},n.prototype._initArray=function(a,u,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var g,m,A=0;if(p==="be")for(v=a.length-1,g=0;v>=0;v-=3)m=a[v]|a[v-1]<<8|a[v-2]<<16,this.words[g]|=m<<A&67108863,this.words[g+1]=m>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);else if(p==="le")for(v=0,g=0;v<a.length;v+=3)m=a[v]|a[v+1]<<8|a[v+2]<<16,this.words[g]|=m<<A&67108863,this.words[g+1]=m>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);return this._strip()};function s(_,a){var u=_.charCodeAt(a);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;r(!1,"Invalid character in "+_)}function f(_,a,u){var p=s(_,u);return u-1>=a&&(p|=s(_,u-1)<<4),p}n.prototype._parseHex=function(a,u,p){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var g=0,m=0,A;if(p==="be")for(v=a.length-1;v>=u;v-=2)A=f(a,u,v)<<g,this.words[m]|=A&67108863,g>=18?(g-=18,m+=1,this.words[m]|=A>>>26):g+=8;else{var R=a.length-u;for(v=R%2===0?u+1:u;v<a.length;v+=2)A=f(a,u,v)<<g,this.words[m]|=A&67108863,g>=18?(g-=18,m+=1,this.words[m]|=A>>>26):g+=8}this._strip()};function c(_,a,u,p){for(var v=0,g=0,m=Math.min(_.length,u),A=a;A<m;A++){var R=_.charCodeAt(A)-48;v*=p,R>=49?g=R-49+10:R>=17?g=R-17+10:g=R,r(R>=0&&g<p,"Invalid character"),v+=g}return v}n.prototype._parseBase=function(a,u,p){this.words=[0],this.length=1;for(var v=0,g=1;g<=67108863;g*=u)v++;v--,g=g/u|0;for(var m=a.length-p,A=m%v,R=Math.min(m,m-A)+p,y=0,P=p;P<R;P+=v)y=c(a,P,P+v,u),this.imuln(g),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(A!==0){var W=1;for(y=c(a,P,a.length,u),P=0;P<A;P++)W*=u;this.imuln(W),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this._strip()},n.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red};function d(_,a){_.words=a.words,_.length=a.length,_.negative=a.negative,_.red=a.red}if(n.prototype._move=function(a){d(a,this)},n.prototype.clone=function(){var a=new n(null);return this.copy(a),a},n.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch{n.prototype.inspect=l}else n.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(a,u){a=a||10,u=u|0||1;var p;if(a===16||a==="hex"){p="";for(var v=0,g=0,m=0;m<this.length;m++){var A=this.words[m],R=((A<<v|g)&16777215).toString(16);g=A>>>24-v&16777215,v+=2,v>=26&&(v-=26,m--),g!==0||m!==this.length-1?p=h[6-R.length]+R+p:p=R+p}for(g!==0&&(p=g.toString(16)+p);p.length%u!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var y=E[a],P=b[a];p="";var W=this.clone();for(W.negative=0;!W.isZero();){var H=W.modrn(P).toString(a);W=W.idivn(P),W.isZero()?p=H+p:p=h[y-H.length]+H+p}for(this.isZero()&&(p="0"+p);p.length%u!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},n.prototype.toJSON=function(){return this.toString(16,2)},o&&(n.prototype.toBuffer=function(a,u){return this.toArrayLike(o,a,u)}),n.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)};var T=function(a,u){return a.allocUnsafe?a.allocUnsafe(u):new a(u)};n.prototype.toArrayLike=function(a,u,p){this._strip();var v=this.byteLength(),g=p||Math.max(1,v);r(v<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0");var m=T(a,g),A=u==="le"?"LE":"BE";return this["_toArrayLike"+A](m,v),m},n.prototype._toArrayLikeLE=function(a,u){for(var p=0,v=0,g=0,m=0;g<this.length;g++){var A=this.words[g]<<m|v;a[p++]=A&255,p<a.length&&(a[p++]=A>>8&255),p<a.length&&(a[p++]=A>>16&255),m===6?(p<a.length&&(a[p++]=A>>24&255),v=0,m=0):(v=A>>>24,m+=2)}if(p<a.length)for(a[p++]=v;p<a.length;)a[p++]=0},n.prototype._toArrayLikeBE=function(a,u){for(var p=a.length-1,v=0,g=0,m=0;g<this.length;g++){var A=this.words[g]<<m|v;a[p--]=A&255,p>=0&&(a[p--]=A>>8&255),p>=0&&(a[p--]=A>>16&255),m===6?(p>=0&&(a[p--]=A>>24&255),v=0,m=0):(v=A>>>24,m+=2)}if(p>=0)for(a[p--]=v;p>=0;)a[p--]=0},Math.clz32?n.prototype._countBits=function(a){return 32-Math.clz32(a)}:n.prototype._countBits=function(a){var u=a,p=0;return u>=4096&&(p+=13,u>>>=13),u>=64&&(p+=7,u>>>=7),u>=8&&(p+=4,u>>>=4),u>=2&&(p+=2,u>>>=2),p+u},n.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,p=0;return u&8191||(p+=13,u>>>=13),u&127||(p+=7,u>>>=7),u&15||(p+=4,u>>>=4),u&3||(p+=2,u>>>=2),u&1||p++,p},n.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function k(_){for(var a=new Array(_.bitLength()),u=0;u<a.length;u++){var p=u/26|0,v=u%26;a[u]=_.words[p]>>>v&1}return a}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var p=this._zeroBits(this.words[u]);if(a+=p,p!==26)break}return a},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},n.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this._strip()},n.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},n.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},n.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},n.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=u.length,this._strip()},n.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},n.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},n.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},n.prototype.iuxor=function(a){var u,p;this.length>a.length?(u=this,p=a):(u=a,p=this);for(var v=0;v<p.length;v++)this.words[v]=u.words[v]^p.words[v];if(this!==u)for(;v<u.length;v++)this.words[v]=u.words[v];return this.length=u.length,this._strip()},n.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},n.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},n.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},n.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,p=a%26;this._expand(u),p>0&&u--;for(var v=0;v<u;v++)this.words[v]=~this.words[v]&67108863;return p>0&&(this.words[v]=~this.words[v]&67108863>>26-p),this._strip()},n.prototype.notn=function(a){return this.clone().inotn(a)},n.prototype.setn=function(a,u){r(typeof a=="number"&&a>=0);var p=a/26|0,v=a%26;return this._expand(p+1),u?this.words[p]=this.words[p]|1<<v:this.words[p]=this.words[p]&~(1<<v),this._strip()},n.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var p,v;this.length>a.length?(p=this,v=a):(p=a,v=this);for(var g=0,m=0;m<v.length;m++)u=(p.words[m]|0)+(v.words[m]|0)+g,this.words[m]=u&67108863,g=u>>>26;for(;g!==0&&m<p.length;m++)u=(p.words[m]|0)+g,this.words[m]=u&67108863,g=u>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;m<p.length;m++)this.words[m]=p.words[m];return this},n.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},n.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,g;p>0?(v=this,g=a):(v=a,g=this);for(var m=0,A=0;A<g.length;A++)u=(v.words[A]|0)-(g.words[A]|0)+m,m=u>>26,this.words[A]=u&67108863;for(;m!==0&&A<v.length;A++)u=(v.words[A]|0)+m,m=u>>26,this.words[A]=u&67108863;if(m===0&&A<v.length&&v!==this)for(;A<v.length;A++)this.words[A]=v.words[A];return this.length=Math.max(this.length,A),v!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(a){return this.clone().isub(a)};function O(_,a,u){u.negative=a.negative^_.negative;var p=_.length+a.length|0;u.length=p,p=p-1|0;var v=_.words[0]|0,g=a.words[0]|0,m=v*g,A=m&67108863,R=m/67108864|0;u.words[0]=A;for(var y=1;y<p;y++){for(var P=R>>>26,W=R&67108863,H=Math.min(y,a.length-1),V=Math.max(0,y-_.length+1);V<=H;V++){var Z=y-V|0;v=_.words[Z]|0,g=a.words[V]|0,m=v*g+W,P+=m/67108864|0,W=m&67108863}u.words[y]=W|0,R=P|0}return R!==0?u.words[y]=R|0:u.length--,u._strip()}var D=function(a,u,p){var v=a.words,g=u.words,m=p.words,A=0,R,y,P,W=v[0]|0,H=W&8191,V=W>>>13,Z=v[1]|0,J=Z&8191,Q=Z>>>13,me=v[2]|0,te=me&8191,ie=me>>>13,or=v[3]|0,ce=or&8191,ue=or>>>13,Fi=v[4]|0,he=Fi&8191,pe=Fi>>>13,Mn=v[5]|0,ve=Mn&8191,ge=Mn>>>13,xf=v[6]|0,be=xf&8191,we=xf>>>13,Sf=v[7]|0,_e=Sf&8191,Ee=Sf>>>13,Mf=v[8]|0,xe=Mf&8191,Se=Mf>>>13,Af=v[9]|0,Me=Af&8191,Ae=Af>>>13,Tf=g[0]|0,Te=Tf&8191,Re=Tf>>>13,Rf=g[1]|0,Pe=Rf&8191,ke=Rf>>>13,Pf=g[2]|0,Ie=Pf&8191,De=Pf>>>13,kf=g[3]|0,Be=kf&8191,Ce=kf>>>13,If=g[4]|0,Oe=If&8191,je=If>>>13,Df=g[5]|0,Ne=Df&8191,qe=Df>>>13,Bf=g[6]|0,Le=Bf&8191,Ue=Bf>>>13,Cf=g[7]|0,Fe=Cf&8191,ze=Cf>>>13,Of=g[8]|0,$e=Of&8191,We=Of>>>13,wa=g[9]|0,lt=wa&8191,ht=wa>>>13;p.negative=a.negative^u.negative,p.length=19,R=Math.imul(H,Te),y=Math.imul(H,Re),y=y+Math.imul(V,Te)|0,P=Math.imul(V,Re);var Do=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Do>>>26)|0,Do&=67108863,R=Math.imul(J,Te),y=Math.imul(J,Re),y=y+Math.imul(Q,Te)|0,P=Math.imul(Q,Re),R=R+Math.imul(H,Pe)|0,y=y+Math.imul(H,ke)|0,y=y+Math.imul(V,Pe)|0,P=P+Math.imul(V,ke)|0;var Bo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,R=Math.imul(te,Te),y=Math.imul(te,Re),y=y+Math.imul(ie,Te)|0,P=Math.imul(ie,Re),R=R+Math.imul(J,Pe)|0,y=y+Math.imul(J,ke)|0,y=y+Math.imul(Q,Pe)|0,P=P+Math.imul(Q,ke)|0,R=R+Math.imul(H,Ie)|0,y=y+Math.imul(H,De)|0,y=y+Math.imul(V,Ie)|0,P=P+Math.imul(V,De)|0;var Co=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Co>>>26)|0,Co&=67108863,R=Math.imul(ce,Te),y=Math.imul(ce,Re),y=y+Math.imul(ue,Te)|0,P=Math.imul(ue,Re),R=R+Math.imul(te,Pe)|0,y=y+Math.imul(te,ke)|0,y=y+Math.imul(ie,Pe)|0,P=P+Math.imul(ie,ke)|0,R=R+Math.imul(J,Ie)|0,y=y+Math.imul(J,De)|0,y=y+Math.imul(Q,Ie)|0,P=P+Math.imul(Q,De)|0,R=R+Math.imul(H,Be)|0,y=y+Math.imul(H,Ce)|0,y=y+Math.imul(V,Be)|0,P=P+Math.imul(V,Ce)|0;var Oo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,R=Math.imul(he,Te),y=Math.imul(he,Re),y=y+Math.imul(pe,Te)|0,P=Math.imul(pe,Re),R=R+Math.imul(ce,Pe)|0,y=y+Math.imul(ce,ke)|0,y=y+Math.imul(ue,Pe)|0,P=P+Math.imul(ue,ke)|0,R=R+Math.imul(te,Ie)|0,y=y+Math.imul(te,De)|0,y=y+Math.imul(ie,Ie)|0,P=P+Math.imul(ie,De)|0,R=R+Math.imul(J,Be)|0,y=y+Math.imul(J,Ce)|0,y=y+Math.imul(Q,Be)|0,P=P+Math.imul(Q,Ce)|0,R=R+Math.imul(H,Oe)|0,y=y+Math.imul(H,je)|0,y=y+Math.imul(V,Oe)|0,P=P+Math.imul(V,je)|0;var jo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(jo>>>26)|0,jo&=67108863,R=Math.imul(ve,Te),y=Math.imul(ve,Re),y=y+Math.imul(ge,Te)|0,P=Math.imul(ge,Re),R=R+Math.imul(he,Pe)|0,y=y+Math.imul(he,ke)|0,y=y+Math.imul(pe,Pe)|0,P=P+Math.imul(pe,ke)|0,R=R+Math.imul(ce,Ie)|0,y=y+Math.imul(ce,De)|0,y=y+Math.imul(ue,Ie)|0,P=P+Math.imul(ue,De)|0,R=R+Math.imul(te,Be)|0,y=y+Math.imul(te,Ce)|0,y=y+Math.imul(ie,Be)|0,P=P+Math.imul(ie,Ce)|0,R=R+Math.imul(J,Oe)|0,y=y+Math.imul(J,je)|0,y=y+Math.imul(Q,Oe)|0,P=P+Math.imul(Q,je)|0,R=R+Math.imul(H,Ne)|0,y=y+Math.imul(H,qe)|0,y=y+Math.imul(V,Ne)|0,P=P+Math.imul(V,qe)|0;var No=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(No>>>26)|0,No&=67108863,R=Math.imul(be,Te),y=Math.imul(be,Re),y=y+Math.imul(we,Te)|0,P=Math.imul(we,Re),R=R+Math.imul(ve,Pe)|0,y=y+Math.imul(ve,ke)|0,y=y+Math.imul(ge,Pe)|0,P=P+Math.imul(ge,ke)|0,R=R+Math.imul(he,Ie)|0,y=y+Math.imul(he,De)|0,y=y+Math.imul(pe,Ie)|0,P=P+Math.imul(pe,De)|0,R=R+Math.imul(ce,Be)|0,y=y+Math.imul(ce,Ce)|0,y=y+Math.imul(ue,Be)|0,P=P+Math.imul(ue,Ce)|0,R=R+Math.imul(te,Oe)|0,y=y+Math.imul(te,je)|0,y=y+Math.imul(ie,Oe)|0,P=P+Math.imul(ie,je)|0,R=R+Math.imul(J,Ne)|0,y=y+Math.imul(J,qe)|0,y=y+Math.imul(Q,Ne)|0,P=P+Math.imul(Q,qe)|0,R=R+Math.imul(H,Le)|0,y=y+Math.imul(H,Ue)|0,y=y+Math.imul(V,Le)|0,P=P+Math.imul(V,Ue)|0;var qo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(qo>>>26)|0,qo&=67108863,R=Math.imul(_e,Te),y=Math.imul(_e,Re),y=y+Math.imul(Ee,Te)|0,P=Math.imul(Ee,Re),R=R+Math.imul(be,Pe)|0,y=y+Math.imul(be,ke)|0,y=y+Math.imul(we,Pe)|0,P=P+Math.imul(we,ke)|0,R=R+Math.imul(ve,Ie)|0,y=y+Math.imul(ve,De)|0,y=y+Math.imul(ge,Ie)|0,P=P+Math.imul(ge,De)|0,R=R+Math.imul(he,Be)|0,y=y+Math.imul(he,Ce)|0,y=y+Math.imul(pe,Be)|0,P=P+Math.imul(pe,Ce)|0,R=R+Math.imul(ce,Oe)|0,y=y+Math.imul(ce,je)|0,y=y+Math.imul(ue,Oe)|0,P=P+Math.imul(ue,je)|0,R=R+Math.imul(te,Ne)|0,y=y+Math.imul(te,qe)|0,y=y+Math.imul(ie,Ne)|0,P=P+Math.imul(ie,qe)|0,R=R+Math.imul(J,Le)|0,y=y+Math.imul(J,Ue)|0,y=y+Math.imul(Q,Le)|0,P=P+Math.imul(Q,Ue)|0,R=R+Math.imul(H,Fe)|0,y=y+Math.imul(H,ze)|0,y=y+Math.imul(V,Fe)|0,P=P+Math.imul(V,ze)|0;var Lo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,R=Math.imul(xe,Te),y=Math.imul(xe,Re),y=y+Math.imul(Se,Te)|0,P=Math.imul(Se,Re),R=R+Math.imul(_e,Pe)|0,y=y+Math.imul(_e,ke)|0,y=y+Math.imul(Ee,Pe)|0,P=P+Math.imul(Ee,ke)|0,R=R+Math.imul(be,Ie)|0,y=y+Math.imul(be,De)|0,y=y+Math.imul(we,Ie)|0,P=P+Math.imul(we,De)|0,R=R+Math.imul(ve,Be)|0,y=y+Math.imul(ve,Ce)|0,y=y+Math.imul(ge,Be)|0,P=P+Math.imul(ge,Ce)|0,R=R+Math.imul(he,Oe)|0,y=y+Math.imul(he,je)|0,y=y+Math.imul(pe,Oe)|0,P=P+Math.imul(pe,je)|0,R=R+Math.imul(ce,Ne)|0,y=y+Math.imul(ce,qe)|0,y=y+Math.imul(ue,Ne)|0,P=P+Math.imul(ue,qe)|0,R=R+Math.imul(te,Le)|0,y=y+Math.imul(te,Ue)|0,y=y+Math.imul(ie,Le)|0,P=P+Math.imul(ie,Ue)|0,R=R+Math.imul(J,Fe)|0,y=y+Math.imul(J,ze)|0,y=y+Math.imul(Q,Fe)|0,P=P+Math.imul(Q,ze)|0,R=R+Math.imul(H,$e)|0,y=y+Math.imul(H,We)|0,y=y+Math.imul(V,$e)|0,P=P+Math.imul(V,We)|0;var Uo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,R=Math.imul(Me,Te),y=Math.imul(Me,Re),y=y+Math.imul(Ae,Te)|0,P=Math.imul(Ae,Re),R=R+Math.imul(xe,Pe)|0,y=y+Math.imul(xe,ke)|0,y=y+Math.imul(Se,Pe)|0,P=P+Math.imul(Se,ke)|0,R=R+Math.imul(_e,Ie)|0,y=y+Math.imul(_e,De)|0,y=y+Math.imul(Ee,Ie)|0,P=P+Math.imul(Ee,De)|0,R=R+Math.imul(be,Be)|0,y=y+Math.imul(be,Ce)|0,y=y+Math.imul(we,Be)|0,P=P+Math.imul(we,Ce)|0,R=R+Math.imul(ve,Oe)|0,y=y+Math.imul(ve,je)|0,y=y+Math.imul(ge,Oe)|0,P=P+Math.imul(ge,je)|0,R=R+Math.imul(he,Ne)|0,y=y+Math.imul(he,qe)|0,y=y+Math.imul(pe,Ne)|0,P=P+Math.imul(pe,qe)|0,R=R+Math.imul(ce,Le)|0,y=y+Math.imul(ce,Ue)|0,y=y+Math.imul(ue,Le)|0,P=P+Math.imul(ue,Ue)|0,R=R+Math.imul(te,Fe)|0,y=y+Math.imul(te,ze)|0,y=y+Math.imul(ie,Fe)|0,P=P+Math.imul(ie,ze)|0,R=R+Math.imul(J,$e)|0,y=y+Math.imul(J,We)|0,y=y+Math.imul(Q,$e)|0,P=P+Math.imul(Q,We)|0,R=R+Math.imul(H,lt)|0,y=y+Math.imul(H,ht)|0,y=y+Math.imul(V,lt)|0,P=P+Math.imul(V,ht)|0;var Fo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,R=Math.imul(Me,Pe),y=Math.imul(Me,ke),y=y+Math.imul(Ae,Pe)|0,P=Math.imul(Ae,ke),R=R+Math.imul(xe,Ie)|0,y=y+Math.imul(xe,De)|0,y=y+Math.imul(Se,Ie)|0,P=P+Math.imul(Se,De)|0,R=R+Math.imul(_e,Be)|0,y=y+Math.imul(_e,Ce)|0,y=y+Math.imul(Ee,Be)|0,P=P+Math.imul(Ee,Ce)|0,R=R+Math.imul(be,Oe)|0,y=y+Math.imul(be,je)|0,y=y+Math.imul(we,Oe)|0,P=P+Math.imul(we,je)|0,R=R+Math.imul(ve,Ne)|0,y=y+Math.imul(ve,qe)|0,y=y+Math.imul(ge,Ne)|0,P=P+Math.imul(ge,qe)|0,R=R+Math.imul(he,Le)|0,y=y+Math.imul(he,Ue)|0,y=y+Math.imul(pe,Le)|0,P=P+Math.imul(pe,Ue)|0,R=R+Math.imul(ce,Fe)|0,y=y+Math.imul(ce,ze)|0,y=y+Math.imul(ue,Fe)|0,P=P+Math.imul(ue,ze)|0,R=R+Math.imul(te,$e)|0,y=y+Math.imul(te,We)|0,y=y+Math.imul(ie,$e)|0,P=P+Math.imul(ie,We)|0,R=R+Math.imul(J,lt)|0,y=y+Math.imul(J,ht)|0,y=y+Math.imul(Q,lt)|0,P=P+Math.imul(Q,ht)|0;var zo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(zo>>>26)|0,zo&=67108863,R=Math.imul(Me,Ie),y=Math.imul(Me,De),y=y+Math.imul(Ae,Ie)|0,P=Math.imul(Ae,De),R=R+Math.imul(xe,Be)|0,y=y+Math.imul(xe,Ce)|0,y=y+Math.imul(Se,Be)|0,P=P+Math.imul(Se,Ce)|0,R=R+Math.imul(_e,Oe)|0,y=y+Math.imul(_e,je)|0,y=y+Math.imul(Ee,Oe)|0,P=P+Math.imul(Ee,je)|0,R=R+Math.imul(be,Ne)|0,y=y+Math.imul(be,qe)|0,y=y+Math.imul(we,Ne)|0,P=P+Math.imul(we,qe)|0,R=R+Math.imul(ve,Le)|0,y=y+Math.imul(ve,Ue)|0,y=y+Math.imul(ge,Le)|0,P=P+Math.imul(ge,Ue)|0,R=R+Math.imul(he,Fe)|0,y=y+Math.imul(he,ze)|0,y=y+Math.imul(pe,Fe)|0,P=P+Math.imul(pe,ze)|0,R=R+Math.imul(ce,$e)|0,y=y+Math.imul(ce,We)|0,y=y+Math.imul(ue,$e)|0,P=P+Math.imul(ue,We)|0,R=R+Math.imul(te,lt)|0,y=y+Math.imul(te,ht)|0,y=y+Math.imul(ie,lt)|0,P=P+Math.imul(ie,ht)|0;var $o=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+($o>>>26)|0,$o&=67108863,R=Math.imul(Me,Be),y=Math.imul(Me,Ce),y=y+Math.imul(Ae,Be)|0,P=Math.imul(Ae,Ce),R=R+Math.imul(xe,Oe)|0,y=y+Math.imul(xe,je)|0,y=y+Math.imul(Se,Oe)|0,P=P+Math.imul(Se,je)|0,R=R+Math.imul(_e,Ne)|0,y=y+Math.imul(_e,qe)|0,y=y+Math.imul(Ee,Ne)|0,P=P+Math.imul(Ee,qe)|0,R=R+Math.imul(be,Le)|0,y=y+Math.imul(be,Ue)|0,y=y+Math.imul(we,Le)|0,P=P+Math.imul(we,Ue)|0,R=R+Math.imul(ve,Fe)|0,y=y+Math.imul(ve,ze)|0,y=y+Math.imul(ge,Fe)|0,P=P+Math.imul(ge,ze)|0,R=R+Math.imul(he,$e)|0,y=y+Math.imul(he,We)|0,y=y+Math.imul(pe,$e)|0,P=P+Math.imul(pe,We)|0,R=R+Math.imul(ce,lt)|0,y=y+Math.imul(ce,ht)|0,y=y+Math.imul(ue,lt)|0,P=P+Math.imul(ue,ht)|0;var Wo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,R=Math.imul(Me,Oe),y=Math.imul(Me,je),y=y+Math.imul(Ae,Oe)|0,P=Math.imul(Ae,je),R=R+Math.imul(xe,Ne)|0,y=y+Math.imul(xe,qe)|0,y=y+Math.imul(Se,Ne)|0,P=P+Math.imul(Se,qe)|0,R=R+Math.imul(_e,Le)|0,y=y+Math.imul(_e,Ue)|0,y=y+Math.imul(Ee,Le)|0,P=P+Math.imul(Ee,Ue)|0,R=R+Math.imul(be,Fe)|0,y=y+Math.imul(be,ze)|0,y=y+Math.imul(we,Fe)|0,P=P+Math.imul(we,ze)|0,R=R+Math.imul(ve,$e)|0,y=y+Math.imul(ve,We)|0,y=y+Math.imul(ge,$e)|0,P=P+Math.imul(ge,We)|0,R=R+Math.imul(he,lt)|0,y=y+Math.imul(he,ht)|0,y=y+Math.imul(pe,lt)|0,P=P+Math.imul(pe,ht)|0;var Ko=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,R=Math.imul(Me,Ne),y=Math.imul(Me,qe),y=y+Math.imul(Ae,Ne)|0,P=Math.imul(Ae,qe),R=R+Math.imul(xe,Le)|0,y=y+Math.imul(xe,Ue)|0,y=y+Math.imul(Se,Le)|0,P=P+Math.imul(Se,Ue)|0,R=R+Math.imul(_e,Fe)|0,y=y+Math.imul(_e,ze)|0,y=y+Math.imul(Ee,Fe)|0,P=P+Math.imul(Ee,ze)|0,R=R+Math.imul(be,$e)|0,y=y+Math.imul(be,We)|0,y=y+Math.imul(we,$e)|0,P=P+Math.imul(we,We)|0,R=R+Math.imul(ve,lt)|0,y=y+Math.imul(ve,ht)|0,y=y+Math.imul(ge,lt)|0,P=P+Math.imul(ge,ht)|0;var Ho=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,R=Math.imul(Me,Le),y=Math.imul(Me,Ue),y=y+Math.imul(Ae,Le)|0,P=Math.imul(Ae,Ue),R=R+Math.imul(xe,Fe)|0,y=y+Math.imul(xe,ze)|0,y=y+Math.imul(Se,Fe)|0,P=P+Math.imul(Se,ze)|0,R=R+Math.imul(_e,$e)|0,y=y+Math.imul(_e,We)|0,y=y+Math.imul(Ee,$e)|0,P=P+Math.imul(Ee,We)|0,R=R+Math.imul(be,lt)|0,y=y+Math.imul(be,ht)|0,y=y+Math.imul(we,lt)|0,P=P+Math.imul(we,ht)|0;var Vo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,R=Math.imul(Me,Fe),y=Math.imul(Me,ze),y=y+Math.imul(Ae,Fe)|0,P=Math.imul(Ae,ze),R=R+Math.imul(xe,$e)|0,y=y+Math.imul(xe,We)|0,y=y+Math.imul(Se,$e)|0,P=P+Math.imul(Se,We)|0,R=R+Math.imul(_e,lt)|0,y=y+Math.imul(_e,ht)|0,y=y+Math.imul(Ee,lt)|0,P=P+Math.imul(Ee,ht)|0;var ru=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(ru>>>26)|0,ru&=67108863,R=Math.imul(Me,$e),y=Math.imul(Me,We),y=y+Math.imul(Ae,$e)|0,P=Math.imul(Ae,We),R=R+Math.imul(xe,lt)|0,y=y+Math.imul(xe,ht)|0,y=y+Math.imul(Se,lt)|0,P=P+Math.imul(Se,ht)|0;var iu=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(iu>>>26)|0,iu&=67108863,R=Math.imul(Me,lt),y=Math.imul(Me,ht),y=y+Math.imul(Ae,lt)|0,P=Math.imul(Ae,ht);var nu=(A+R|0)+((y&8191)<<13)|0;return A=(P+(y>>>13)|0)+(nu>>>26)|0,nu&=67108863,m[0]=Do,m[1]=Bo,m[2]=Co,m[3]=Oo,m[4]=jo,m[5]=No,m[6]=qo,m[7]=Lo,m[8]=Uo,m[9]=Fo,m[10]=zo,m[11]=$o,m[12]=Wo,m[13]=Ko,m[14]=Ho,m[15]=Vo,m[16]=ru,m[17]=iu,m[18]=nu,A!==0&&(m[19]=A,p.length++),p};Math.imul||(D=O);function I(_,a,u){u.negative=a.negative^_.negative,u.length=_.length+a.length;for(var p=0,v=0,g=0;g<u.length-1;g++){var m=v;v=0;for(var A=p&67108863,R=Math.min(g,a.length-1),y=Math.max(0,g-_.length+1);y<=R;y++){var P=g-y,W=_.words[P]|0,H=a.words[y]|0,V=W*H,Z=V&67108863;m=m+(V/67108864|0)|0,Z=Z+A|0,A=Z&67108863,m=m+(Z>>>26)|0,v+=m>>>26,m&=67108863}u.words[g]=A,p=m,m=v}return p!==0?u.words[g]=p:u.length--,u._strip()}function L(_,a,u){return I(_,a,u)}n.prototype.mulTo=function(a,u){var p,v=this.length+a.length;return this.length===10&&a.length===10?p=D(this,a,u):v<63?p=O(this,a,u):v<1024?p=I(this,a,u):p=L(this,a,u),p};function U(_,a){this.x=_,this.y=a}U.prototype.makeRBT=function(a){for(var u=new Array(a),p=n.prototype._countBits(a)-1,v=0;v<a;v++)u[v]=this.revBin(v,p,a);return u},U.prototype.revBin=function(a,u,p){if(a===0||a===p-1)return a;for(var v=0,g=0;g<u;g++)v|=(a&1)<<u-g-1,a>>=1;return v},U.prototype.permute=function(a,u,p,v,g,m){for(var A=0;A<m;A++)v[A]=u[a[A]],g[A]=p[a[A]]},U.prototype.transform=function(a,u,p,v,g,m){this.permute(m,a,u,p,v,g);for(var A=1;A<g;A<<=1)for(var R=A<<1,y=Math.cos(2*Math.PI/R),P=Math.sin(2*Math.PI/R),W=0;W<g;W+=R)for(var H=y,V=P,Z=0;Z<A;Z++){var J=p[W+Z],Q=v[W+Z],me=p[W+Z+A],te=v[W+Z+A],ie=H*me-V*te;te=H*te+V*me,me=ie,p[W+Z]=J+me,v[W+Z]=Q+te,p[W+Z+A]=J-me,v[W+Z+A]=Q-te,Z!==R&&(ie=y*H-P*V,V=y*V+P*H,H=ie)}},U.prototype.guessLen13b=function(a,u){var p=Math.max(u,a)|1,v=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+v},U.prototype.conjugate=function(a,u,p){if(!(p<=1))for(var v=0;v<p/2;v++){var g=a[v];a[v]=a[p-v-1],a[p-v-1]=g,g=u[v],u[v]=-u[p-v-1],u[p-v-1]=-g}},U.prototype.normalize13b=function(a,u){for(var p=0,v=0;v<u/2;v++){var g=Math.round(a[2*v+1]/u)*8192+Math.round(a[2*v]/u)+p;a[v]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},U.prototype.convert13b=function(a,u,p,v){for(var g=0,m=0;m<u;m++)g=g+(a[m]|0),p[2*m]=g&8191,g=g>>>13,p[2*m+1]=g&8191,g=g>>>13;for(m=2*u;m<v;++m)p[m]=0;r(g===0),r((g&-8192)===0)},U.prototype.stub=function(a){for(var u=new Array(a),p=0;p<a;p++)u[p]=0;return u},U.prototype.mulp=function(a,u,p){var v=2*this.guessLen13b(a.length,u.length),g=this.makeRBT(v),m=this.stub(v),A=new Array(v),R=new Array(v),y=new Array(v),P=new Array(v),W=new Array(v),H=new Array(v),V=p.words;V.length=v,this.convert13b(a.words,a.length,A,v),this.convert13b(u.words,u.length,P,v),this.transform(A,m,R,y,v,g),this.transform(P,m,W,H,v,g);for(var Z=0;Z<v;Z++){var J=R[Z]*W[Z]-y[Z]*H[Z];y[Z]=R[Z]*H[Z]+y[Z]*W[Z],R[Z]=J}return this.conjugate(R,y,v),this.transform(R,y,V,m,v,g),this.conjugate(V,m,v),this.normalize13b(V,v),p.negative=a.negative^u.negative,p.length=a.length+u.length,p._strip()},n.prototype.mul=function(a){var u=new n(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},n.prototype.mulf=function(a){var u=new n(null);return u.words=new Array(this.length+a.length),L(this,a,u)},n.prototype.imul=function(a){return this.clone().mulTo(a,this)},n.prototype.imuln=function(a){var u=a<0;u&&(a=-a),r(typeof a=="number"),r(a<67108864);for(var p=0,v=0;v<this.length;v++){var g=(this.words[v]|0)*a,m=(g&67108863)+(p&67108863);p>>=26,p+=g/67108864|0,p+=m>>>26,this.words[v]=m&67108863}return p!==0&&(this.words[v]=p,this.length++),u?this.ineg():this},n.prototype.muln=function(a){return this.clone().imuln(a)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(a){var u=k(a);if(u.length===0)return new n(1);for(var p=this,v=0;v<u.length&&u[v]===0;v++,p=p.sqr());if(++v<u.length)for(var g=p.sqr();v<u.length;v++,g=g.sqr())u[v]!==0&&(p=p.mul(g));return p},n.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var u=a%26,p=(a-u)/26,v=67108863>>>26-u<<26-u,g;if(u!==0){var m=0;for(g=0;g<this.length;g++){var A=this.words[g]&v,R=(this.words[g]|0)-A<<u;this.words[g]=R|m,m=A>>>26-u}m&&(this.words[g]=m,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this._strip()},n.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},n.prototype.iushrn=function(a,u,p){r(typeof a=="number"&&a>=0);var v;u?v=(u-u%26)/26:v=0;var g=a%26,m=Math.min((a-g)/26,this.length),A=67108863^67108863>>>g<<g,R=p;if(v-=m,v=Math.max(0,v),R){for(var y=0;y<m;y++)R.words[y]=this.words[y];R.length=m}if(m!==0)if(this.length>m)for(this.length-=m,y=0;y<this.length;y++)this.words[y]=this.words[y+m];else this.words[0]=0,this.length=1;var P=0;for(y=this.length-1;y>=0&&(P!==0||y>=v);y--){var W=this.words[y]|0;this.words[y]=P<<26-g|W>>>g,P=W&A}return R&&P!==0&&(R.words[R.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(a,u,p){return r(this.negative===0),this.iushrn(a,u,p)},n.prototype.shln=function(a){return this.clone().ishln(a)},n.prototype.ushln=function(a){return this.clone().iushln(a)},n.prototype.shrn=function(a){return this.clone().ishrn(a)},n.prototype.ushrn=function(a){return this.clone().iushrn(a)},n.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,p=(a-u)/26,v=1<<u;if(this.length<=p)return!1;var g=this.words[p];return!!(g&v)},n.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,p=(a-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(u!==0&&p++,this.length=Math.min(p,this.length),u!==0){var v=67108863^67108863>>>u<<u;this.words[this.length-1]&=v}return this._strip()},n.prototype.maskn=function(a){return this.clone().imaskn(a)},n.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},n.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},n.prototype.addn=function(a){return this.clone().iaddn(a)},n.prototype.subn=function(a){return this.clone().isubn(a)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(a,u,p){var v=a.length+p,g;this._expand(v);var m,A=0;for(g=0;g<a.length;g++){m=(this.words[g+p]|0)+A;var R=(a.words[g]|0)*u;m-=R&67108863,A=(m>>26)-(R/67108864|0),this.words[g+p]=m&67108863}for(;g<this.length-p;g++)m=(this.words[g+p]|0)+A,A=m>>26,this.words[g+p]=m&67108863;if(A===0)return this._strip();for(r(A===-1),A=0,g=0;g<this.length;g++)m=-(this.words[g]|0)+A,A=m>>26,this.words[g]=m&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(a,u){var p=this.length-a.length,v=this.clone(),g=a,m=g.words[g.length-1]|0,A=this._countBits(m);p=26-A,p!==0&&(g=g.ushln(p),v.iushln(p),m=g.words[g.length-1]|0);var R=v.length-g.length,y;if(u!=="mod"){y=new n(null),y.length=R+1,y.words=new Array(y.length);for(var P=0;P<y.length;P++)y.words[P]=0}var W=v.clone()._ishlnsubmul(g,1,R);W.negative===0&&(v=W,y&&(y.words[R]=1));for(var H=R-1;H>=0;H--){var V=(v.words[g.length+H]|0)*67108864+(v.words[g.length+H-1]|0);for(V=Math.min(V/m|0,67108863),v._ishlnsubmul(g,V,H);v.negative!==0;)V--,v.negative=0,v._ishlnsubmul(g,1,H),v.isZero()||(v.negative^=1);y&&(y.words[H]=V)}return y&&y._strip(),v._strip(),u!=="div"&&p!==0&&v.iushrn(p),{div:y||null,mod:v}},n.prototype.divmod=function(a,u,p){if(r(!a.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var v,g,m;return this.negative!==0&&a.negative===0?(m=this.neg().divmod(a,u),u!=="mod"&&(v=m.div.neg()),u!=="div"&&(g=m.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:v,mod:g}):this.negative===0&&a.negative!==0?(m=this.divmod(a.neg(),u),u!=="mod"&&(v=m.div.neg()),{div:v,mod:m.mod}):this.negative&a.negative?(m=this.neg().divmod(a.neg(),u),u!=="div"&&(g=m.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:m.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new n(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new n(this.modrn(a.words[0]))}:this._wordDiv(a,u)},n.prototype.div=function(a){return this.divmod(a,"div",!1).div},n.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},n.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},n.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var p=u.div.negative!==0?u.mod.isub(a):u.mod,v=a.ushrn(1),g=a.andln(1),m=p.cmp(v);return m<0||g===1&&m===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modrn=function(a){var u=a<0;u&&(a=-a),r(a<=67108863);for(var p=(1<<26)%a,v=0,g=this.length-1;g>=0;g--)v=(p*v+(this.words[g]|0))%a;return u?-v:v},n.prototype.modn=function(a){return this.modrn(a)},n.prototype.idivn=function(a){var u=a<0;u&&(a=-a),r(a<=67108863);for(var p=0,v=this.length-1;v>=0;v--){var g=(this.words[v]|0)+p*67108864;this.words[v]=g/a|0,p=g%a}return this._strip(),u?this.ineg():this},n.prototype.divn=function(a){return this.clone().idivn(a)},n.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var u=this,p=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var v=new n(1),g=new n(0),m=new n(0),A=new n(1),R=0;u.isEven()&&p.isEven();)u.iushrn(1),p.iushrn(1),++R;for(var y=p.clone(),P=u.clone();!u.isZero();){for(var W=0,H=1;!(u.words[0]&H)&&W<26;++W,H<<=1);if(W>0)for(u.iushrn(W);W-- >0;)(v.isOdd()||g.isOdd())&&(v.iadd(y),g.isub(P)),v.iushrn(1),g.iushrn(1);for(var V=0,Z=1;!(p.words[0]&Z)&&V<26;++V,Z<<=1);if(V>0)for(p.iushrn(V);V-- >0;)(m.isOdd()||A.isOdd())&&(m.iadd(y),A.isub(P)),m.iushrn(1),A.iushrn(1);u.cmp(p)>=0?(u.isub(p),v.isub(m),g.isub(A)):(p.isub(u),m.isub(v),A.isub(g))}return{a:m,b:A,gcd:p.iushln(R)}},n.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var u=this,p=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var v=new n(1),g=new n(0),m=p.clone();u.cmpn(1)>0&&p.cmpn(1)>0;){for(var A=0,R=1;!(u.words[0]&R)&&A<26;++A,R<<=1);if(A>0)for(u.iushrn(A);A-- >0;)v.isOdd()&&v.iadd(m),v.iushrn(1);for(var y=0,P=1;!(p.words[0]&P)&&y<26;++y,P<<=1);if(y>0)for(p.iushrn(y);y-- >0;)g.isOdd()&&g.iadd(m),g.iushrn(1);u.cmp(p)>=0?(u.isub(p),v.isub(g)):(p.isub(u),g.isub(v))}var W;return u.cmpn(1)===0?W=v:W=g,W.cmpn(0)<0&&W.iadd(a),W},n.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),p=a.clone();u.negative=0,p.negative=0;for(var v=0;u.isEven()&&p.isEven();v++)u.iushrn(1),p.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=u.cmp(p);if(g<0){var m=u;u=p,p=m}else if(g===0||p.cmpn(1)===0)break;u.isub(p)}while(!0);return p.iushln(v)},n.prototype.invm=function(a){return this.egcd(a).a.umod(a)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(a){return this.words[0]&a},n.prototype.bincn=function(a){r(typeof a=="number");var u=a%26,p=(a-u)/26,v=1<<u;if(this.length<=p)return this._expand(p+1),this.words[p]|=v,this;for(var g=v,m=p;g!==0&&m<this.length;m++){var A=this.words[m]|0;A+=g,g=A>>>26,A&=67108863,this.words[m]=A}return g!==0&&(this.words[m]=g,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var p;if(this.length>1)p=1;else{u&&(a=-a),r(a<=67108863,"Number is too big");var v=this.words[0]|0;p=v===a?0:v<a?-1:1}return this.negative!==0?-p|0:p},n.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,p=this.length-1;p>=0;p--){var v=this.words[p]|0,g=a.words[p]|0;if(v!==g){v<g?u=-1:v>g&&(u=1);break}}return u},n.prototype.gtn=function(a){return this.cmpn(a)===1},n.prototype.gt=function(a){return this.cmp(a)===1},n.prototype.gten=function(a){return this.cmpn(a)>=0},n.prototype.gte=function(a){return this.cmp(a)>=0},n.prototype.ltn=function(a){return this.cmpn(a)===-1},n.prototype.lt=function(a){return this.cmp(a)===-1},n.prototype.lten=function(a){return this.cmpn(a)<=0},n.prototype.lte=function(a){return this.cmp(a)<=0},n.prototype.eqn=function(a){return this.cmpn(a)===0},n.prototype.eq=function(a){return this.cmp(a)===0},n.red=function(a){return new w(a)},n.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(a){return this.red=a,this},n.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},n.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},n.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},n.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},n.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},n.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},n.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},n.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var $={k256:null,p224:null,p192:null,p25519:null};function K(_,a){this.name=_,this.p=new n(a,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var a=new n(null);return a.words=new Array(Math.ceil(this.n/13)),a},K.prototype.ireduce=function(a){var u=a,p;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),p=u.bitLength();while(p>this.n);var v=p<this.n?-1:u.ucmp(this.p);return v===0?(u.words[0]=0,u.length=1):v>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},K.prototype.split=function(a,u){a.iushrn(this.n,0,u)},K.prototype.imulK=function(a){return a.imul(this.k)};function q(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(q,K),q.prototype.split=function(a,u){for(var p=4194303,v=Math.min(a.length,9),g=0;g<v;g++)u.words[g]=a.words[g];if(u.length=v,a.length<=9){a.words[0]=0,a.length=1;return}var m=a.words[9];for(u.words[u.length++]=m&p,g=10;g<a.length;g++){var A=a.words[g]|0;a.words[g-10]=(A&p)<<4|m>>>22,m=A}m>>>=22,a.words[g-10]=m,m===0&&a.length>10?a.length-=10:a.length-=9},q.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,p=0;p<a.length;p++){var v=a.words[p]|0;u+=v*977,a.words[p]=u&67108863,u=v*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function F(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(F,K);function G(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(G,K);function B(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(B,K),B.prototype.imulK=function(a){for(var u=0,p=0;p<a.length;p++){var v=(a.words[p]|0)*19+u,g=v&67108863;v>>>=26,a.words[p]=g,u=v}return u!==0&&(a.words[a.length++]=u),a},n._prime=function(a){if($[a])return $[a];var u;if(a==="k256")u=new q;else if(a==="p224")u=new F;else if(a==="p192")u=new G;else if(a==="p25519")u=new B;else throw new Error("Unknown prime "+a);return $[a]=u,u};function w(_){if(typeof _=="string"){var a=n._prime(_);this.m=a.p,this.prime=a}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}w.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},w.prototype._verify2=function(a,u){r((a.negative|u.negative)===0,"red works only with positives"),r(a.red&&a.red===u.red,"red works only with red numbers")},w.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(d(a,a.umod(this.m)._forceRed(this)),a)},w.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},w.prototype.add=function(a,u){this._verify2(a,u);var p=a.add(u);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},w.prototype.iadd=function(a,u){this._verify2(a,u);var p=a.iadd(u);return p.cmp(this.m)>=0&&p.isub(this.m),p},w.prototype.sub=function(a,u){this._verify2(a,u);var p=a.sub(u);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},w.prototype.isub=function(a,u){this._verify2(a,u);var p=a.isub(u);return p.cmpn(0)<0&&p.iadd(this.m),p},w.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},w.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},w.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},w.prototype.isqr=function(a){return this.imul(a,a.clone())},w.prototype.sqr=function(a){return this.mul(a,a)},w.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var p=this.m.add(new n(1)).iushrn(2);return this.pow(a,p)}for(var v=this.m.subn(1),g=0;!v.isZero()&&v.andln(1)===0;)g++,v.iushrn(1);r(!v.isZero());var m=new n(1).toRed(this),A=m.redNeg(),R=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new n(2*y*y).toRed(this);this.pow(y,R).cmp(A)!==0;)y.redIAdd(A);for(var P=this.pow(y,v),W=this.pow(a,v.addn(1).iushrn(1)),H=this.pow(a,v),V=g;H.cmp(m)!==0;){for(var Z=H,J=0;Z.cmp(m)!==0;J++)Z=Z.redSqr();r(J<V);var Q=this.pow(P,new n(1).iushln(V-J-1));W=W.redMul(Q),P=Q.redSqr(),H=H.redMul(P),V=J}return W},w.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},w.prototype.pow=function(a,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var p=4,v=new Array(1<<p);v[0]=new n(1).toRed(this),v[1]=a;for(var g=2;g<v.length;g++)v[g]=this.mul(v[g-1],a);var m=v[0],A=0,R=0,y=u.bitLength()%26;for(y===0&&(y=26),g=u.length-1;g>=0;g--){for(var P=u.words[g],W=y-1;W>=0;W--){var H=P>>W&1;if(m!==v[0]&&(m=this.sqr(m)),H===0&&A===0){R=0;continue}A<<=1,A|=H,R++,!(R!==p&&(g!==0||W!==0))&&(m=this.mul(m,v[A]),R=0,A=0)}y=26}return m},w.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},w.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},n.mont=function(a){return new M(a)};function M(_){w.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(M,w),M.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},M.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},M.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(u),v=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(v).iushrn(this.shift),m=g;return g.cmp(this.m)>=0?m=g.isub(this.m):g.cmpn(0)<0&&(m=g.iadd(this.m)),m._forceRed(this)},M.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new n(0)._forceRed(this);var p=a.mul(u),v=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(v).iushrn(this.shift),m=g;return g.cmp(this.m)>=0?m=g.isub(this.m):g.cmpn(0)<0&&(m=g.iadd(this.m)),m._forceRed(this)},M.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof Wx>"u"||Wx,Bq)});var gw=z((QSe,Nq)=>{x();var Hh=Cq(),Pue=cd();function kue(t){var e=Oq(t),r=e.toRed(Hh.mont(t.modulus)).redPow(new Hh(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function Oq(t){var e=t.modulus.byteLength(),r;do r=new Hh(Pue(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function jq(t,e){var r=kue(e),i=e.modulus.byteLength(),n=new Hh(t).mul(r.blinder).umod(e.modulus),o=n.toRed(Hh.mont(e.prime1)),s=n.toRed(Hh.mont(e.prime2)),f=e.coefficient,c=e.prime1,d=e.prime2,l=o.redPow(e.exponent1).fromRed(),h=s.redPow(e.exponent2).fromRed(),E=l.isub(h).imul(f).umod(c).imul(d);return h.iadd(E).imul(r.unblinder).umod(e.modulus).toArrayLike(j.Buffer,"be",i)}jq.getr=Oq;Nq.exports=jq});var qq=z((e9e,Iue)=>{Iue.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Kx=z(Fq=>{"use strict";x();var vw=Fq;function Due(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var i=0;i<t.length;i++)r[i]=t[i]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var i=0;i<t.length;i++){var n=t.charCodeAt(i),o=n>>8,s=n&255;o?r.push(o,s):r.push(s)}return r}vw.toArray=Due;function Lq(t){return t.length===1?"0"+t:t}vw.zero2=Lq;function Uq(t){for(var e="",r=0;r<t.length;r++)e+=Lq(t[r].toString(16));return e}vw.toHex=Uq;vw.encode=function(e,r){return r==="hex"?Uq(e):e}});var $n=z(zq=>{"use strict";x();var ps=zq,Bue=fi(),Cue=zn(),bw=Kx();ps.assert=Cue;ps.toArray=bw.toArray;ps.zero2=bw.zero2;ps.toHex=bw.toHex;ps.encode=bw.encode;function Oue(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,o=t.clone(),s=0;s<i.length;s++){var f,c=o.andln(n-1);o.isOdd()?(c>(n>>1)-1?f=(n>>1)-c:f=c,o.isubn(f)):f=0,i[s]=f,o.iushrn(1)}return i}ps.getNAF=Oue;function jue(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i=0,n=0,o;t.cmpn(-i)>0||e.cmpn(-n)>0;){var s=t.andln(3)+i&3,f=e.andln(3)+n&3;s===3&&(s=-1),f===3&&(f=-1);var c;s&1?(o=t.andln(7)+i&7,(o===3||o===5)&&f===2?c=-s:c=s):c=0,r[0].push(c);var d;f&1?(o=e.andln(7)+n&7,(o===3||o===5)&&s===2?d=-f:d=f):d=0,r[1].push(d),2*i===c+1&&(i=1-i),2*n===d+1&&(n=1-n),t.iushrn(1),e.iushrn(1)}return r}ps.getJSF=jue;function Nue(t,e,r){var i="_"+e;t.prototype[e]=function(){return this[i]!==void 0?this[i]:this[i]=r.call(this)}}ps.cachedProperty=Nue;function que(t){return typeof t=="string"?ps.toArray(t,"hex"):t}ps.parseBytes=que;function Lue(t){return new Bue(t,"hex","le")}ps.intFromLE=Lue});var pm=z((o9e,$q)=>{"use strict";x();var Kd=fi(),hm=$n(),ww=hm.getNAF,Uue=hm.getJSF,_w=hm.assert;function Oc(t,e){this.type=t,this.p=new Kd(e.p,16),this.red=e.prime?Kd.red(e.prime):Kd.mont(this.p),this.zero=new Kd(0).toRed(this.red),this.one=new Kd(1).toRed(this.red),this.two=new Kd(2).toRed(this.red),this.n=e.n&&new Kd(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}$q.exports=Oc;Oc.prototype.point=function(){throw new Error("Not implemented")};Oc.prototype.validate=function(){throw new Error("Not implemented")};Oc.prototype._fixedNafMul=function(e,r){_w(e.precomputed);var i=e._getDoubles(),n=ww(r,1,this._bitLength),o=(1<<i.step+1)-(i.step%2===0?2:1);o/=3;var s=[],f,c;for(f=0;f<n.length;f+=i.step){c=0;for(var d=f+i.step-1;d>=f;d--)c=(c<<1)+n[d];s.push(c)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),E=o;E>0;E--){for(f=0;f<s.length;f++)c=s[f],c===E?h=h.mixedAdd(i.points[f]):c===-E&&(h=h.mixedAdd(i.points[f].neg()));l=l.add(h)}return l.toP()};Oc.prototype._wnafMul=function(e,r){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var o=n.points,s=ww(r,i,this._bitLength),f=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var d=0;c>=0&&s[c]===0;c--)d++;if(c>=0&&d++,f=f.dblp(d),c<0)break;var l=s[c];_w(l!==0),e.type==="affine"?l>0?f=f.mixedAdd(o[l-1>>1]):f=f.mixedAdd(o[-l-1>>1].neg()):l>0?f=f.add(o[l-1>>1]):f=f.add(o[-l-1>>1].neg())}return e.type==="affine"?f.toP():f};Oc.prototype._wnafMulAdd=function(e,r,i,n,o){var s=this._wnafT1,f=this._wnafT2,c=this._wnafT3,d=0,l,h,E;for(l=0;l<n;l++){E=r[l];var b=E._getNAFPoints(e);s[l]=b.wnd,f[l]=b.points}for(l=n-1;l>=1;l-=2){var T=l-1,k=l;if(s[T]!==1||s[k]!==1){c[T]=ww(i[T],s[T],this._bitLength),c[k]=ww(i[k],s[k],this._bitLength),d=Math.max(c[T].length,d),d=Math.max(c[k].length,d);continue}var O=[r[T],null,null,r[k]];r[T].y.cmp(r[k].y)===0?(O[1]=r[T].add(r[k]),O[2]=r[T].toJ().mixedAdd(r[k].neg())):r[T].y.cmp(r[k].y.redNeg())===0?(O[1]=r[T].toJ().mixedAdd(r[k]),O[2]=r[T].add(r[k].neg())):(O[1]=r[T].toJ().mixedAdd(r[k]),O[2]=r[T].toJ().mixedAdd(r[k].neg()));var D=[-3,-1,-5,-7,0,7,5,1,3],I=Uue(i[T],i[k]);for(d=Math.max(I[0].length,d),c[T]=new Array(d),c[k]=new Array(d),h=0;h<d;h++){var L=I[0][h]|0,U=I[1][h]|0;c[T][h]=D[(L+1)*3+(U+1)],c[k][h]=0,f[T]=O}}var $=this.jpoint(null,null,null),K=this._wnafT4;for(l=d;l>=0;l--){for(var q=0;l>=0;){var F=!0;for(h=0;h<n;h++)K[h]=c[h][l]|0,K[h]!==0&&(F=!1);if(!F)break;q++,l--}if(l>=0&&q++,$=$.dblp(q),l<0)break;for(h=0;h<n;h++){var G=K[h];G!==0&&(G>0?E=f[h][G-1>>1]:G<0&&(E=f[h][-G-1>>1].neg()),E.type==="affine"?$=$.mixedAdd(E):$=$.add(E))}}for(l=0;l<n;l++)f[l]=null;return o?$:$.toP()};function _o(t,e){this.curve=t,this.type=e,this.precomputed=null}Oc.BasePoint=_o;_o.prototype.eq=function(){throw new Error("Not implemented")};_o.prototype.validate=function(){return this.curve.validate(this)};Oc.prototype.decodePoint=function(e,r){e=hm.toArray(e,r);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*i){e[0]===6?_w(e[e.length-1]%2===0):e[0]===7&&_w(e[e.length-1]%2===1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};_o.prototype.encodeCompressed=function(e){return this.encode(e,!0)};_o.prototype._encode=function(e){var r=this.curve.p.byteLength(),i=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",r))};_o.prototype.encode=function(e,r){return hm.encode(this._encode(r),e)};_o.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};_o.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};_o.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)n=n.dbl();i.push(n)}return{step:e,points:i}};_o.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),o=1;o<i;o++)r[o]=r[o-1].add(n);return{wnd:e,points:r}};_o.prototype._getBeta=function(){return null};_o.prototype.dblp=function(e){for(var r=this,i=0;i<e;i++)r=r.dbl();return r}});var Kq=z((a9e,Wq)=>{"use strict";x();var Fue=$n(),Dr=fi(),Hx=Qe(),Vh=pm(),zue=Fue.assert;function Eo(t){Vh.call(this,"short",t),this.a=new Dr(t.a,16).toRed(this.red),this.b=new Dr(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Hx(Eo,Vh);Wq.exports=Eo;Eo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,i;if(e.beta)r=new Dr(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=n[0].cmp(n[1])<0?n[0]:n[1],r=r.toRed(this.red)}if(e.lambda)i=new Dr(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?i=o[0]:(i=o[1],zue(this.g.mul(i).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(f){return{a:new Dr(f.a,16),b:new Dr(f.b,16)}}):s=this._getEndoBasis(i),{beta:r,lambda:i,basis:s}}};Eo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Dr.mont(e),i=new Dr(2).toRed(r).redInvm(),n=i.redNeg(),o=new Dr(3).toRed(r).redNeg().redSqrt().redMul(i),s=n.redAdd(o).fromRed(),f=n.redSub(o).fromRed();return[s,f]};Eo.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),o=new Dr(1),s=new Dr(0),f=new Dr(0),c=new Dr(1),d,l,h,E,b,T,k,O=0,D,I;i.cmpn(0)!==0;){var L=n.div(i);D=n.sub(L.mul(i)),I=f.sub(L.mul(o));var U=c.sub(L.mul(s));if(!h&&D.cmp(r)<0)d=k.neg(),l=o,h=D.neg(),E=I;else if(h&&++O===2)break;k=D,n=i,i=D,f=o,o=I,c=s,s=U}b=D.neg(),T=I;var $=h.sqr().add(E.sqr()),K=b.sqr().add(T.sqr());return K.cmp($)>=0&&(b=d,T=l),h.negative&&(h=h.neg(),E=E.neg()),b.negative&&(b=b.neg(),T=T.neg()),[{a:h,b:E},{a:b,b:T}]};Eo.prototype._endoSplit=function(e){var r=this.endo.basis,i=r[0],n=r[1],o=n.b.mul(e).divRound(this.n),s=i.b.neg().mul(e).divRound(this.n),f=o.mul(i.a),c=s.mul(n.a),d=o.mul(i.b),l=s.mul(n.b),h=e.sub(f).sub(c),E=d.add(l).neg();return{k1:h,k2:E}};Eo.prototype.pointFromX=function(e,r){e=new Dr(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var o=n.fromRed().isOdd();return(r&&!o||!r&&o)&&(n=n.redNeg()),this.point(e,n)};Eo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,i=e.y,n=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(o).cmpn(0)===0};Eo.prototype._endoWnafMulAdd=function(e,r,i){for(var n=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var f=this._endoSplit(r[s]),c=e[s],d=c._getBeta();f.k1.negative&&(f.k1.ineg(),c=c.neg(!0)),f.k2.negative&&(f.k2.ineg(),d=d.neg(!0)),n[s*2]=c,n[s*2+1]=d,o[s*2]=f.k1,o[s*2+1]=f.k2}for(var l=this._wnafMulAdd(1,n,o,s*2,i),h=0;h<s*2;h++)n[h]=null,o[h]=null;return l};function wi(t,e,r,i){Vh.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Dr(e,16),this.y=new Dr(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Hx(wi,Vh.BasePoint);Eo.prototype.point=function(e,r,i){return new wi(this,e,r,i)};Eo.prototype.pointFromJSON=function(e,r){return wi.fromJSON(this,e,r)};wi.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(o){return i.point(o.x.redMul(i.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}};wi.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};wi.fromJSON=function(e,r,i){typeof r=="string"&&(r=JSON.parse(r));var n=e.point(r[0],r[1],i);if(!r[2])return n;function o(f){return e.point(f[0],f[1],i)}var s=r[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(o))}},n};wi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};wi.prototype.isInfinity=function(){return this.inf};wi.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var i=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};wi.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),o=i.redAdd(i).redIAdd(i).redIAdd(r).redMul(n),s=o.redSqr().redISub(this.x.redAdd(this.x)),f=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,f)};wi.prototype.getX=function(){return this.x.fromRed()};wi.prototype.getY=function(){return this.y.fromRed()};wi.prototype.mul=function(e){return e=new Dr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};wi.prototype.mulAdd=function(e,r,i){var n=[this,r],o=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,o):this.curve._wnafMulAdd(1,n,o,2)};wi.prototype.jmulAdd=function(e,r,i){var n=[this,r],o=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,o,!0):this.curve._wnafMulAdd(1,n,o,2,!0)};wi.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};wi.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(o){return o.neg()};r.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return r};wi.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function qi(t,e,r,i){Vh.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Dr(0)):(this.x=new Dr(e,16),this.y=new Dr(r,16),this.z=new Dr(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Hx(qi,Vh.BasePoint);Eo.prototype.jpoint=function(e,r,i){return new qi(this,e,r,i)};qi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),i=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(i,n)};qi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};qi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(r),o=e.x.redMul(i),s=this.y.redMul(r.redMul(e.z)),f=e.y.redMul(i.redMul(this.z)),c=n.redSub(o),d=s.redSub(f);if(c.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=c.redSqr(),h=l.redMul(c),E=n.redMul(l),b=d.redSqr().redIAdd(h).redISub(E).redISub(E),T=d.redMul(E.redISub(b)).redISub(s.redMul(h)),k=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(b,T,k)};qi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),i=this.x,n=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),f=i.redSub(n),c=o.redSub(s);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=f.redSqr(),l=d.redMul(f),h=i.redMul(d),E=c.redSqr().redIAdd(l).redISub(h).redISub(h),b=c.redMul(h.redISub(E)).redISub(o.redMul(l)),T=this.z.redMul(f);return this.curve.jpoint(E,b,T)};qi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var i=this;for(r=0;r<e;r++)i=i.dbl();return i}var n=this.curve.a,o=this.curve.tinv,s=this.x,f=this.y,c=this.z,d=c.redSqr().redSqr(),l=f.redAdd(f);for(r=0;r<e;r++){var h=s.redSqr(),E=l.redSqr(),b=E.redSqr(),T=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(d)),k=s.redMul(E),O=T.redSqr().redISub(k.redAdd(k)),D=k.redISub(O),I=T.redMul(D);I=I.redIAdd(I).redISub(b);var L=l.redMul(c);r+1<e&&(d=d.redMul(b)),s=O,c=L,l=I}return this.curve.jpoint(s,l.redMul(o),c)};qi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};qi.prototype._zeroDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),f=this.x.redAdd(o).redSqr().redISub(n).redISub(s);f=f.redIAdd(f);var c=n.redAdd(n).redIAdd(n),d=c.redSqr().redISub(f).redISub(f),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),e=d,r=c.redMul(f.redISub(d)).redISub(l),i=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),E=this.y.redSqr(),b=E.redSqr(),T=this.x.redAdd(E).redSqr().redISub(h).redISub(b);T=T.redIAdd(T);var k=h.redAdd(h).redIAdd(h),O=k.redSqr(),D=b.redIAdd(b);D=D.redIAdd(D),D=D.redIAdd(D),e=O.redISub(T).redISub(T),r=k.redMul(T.redISub(e)).redISub(D),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,r,i)};qi.prototype._threeDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),f=this.x.redAdd(o).redSqr().redISub(n).redISub(s);f=f.redIAdd(f);var c=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),d=c.redSqr().redISub(f).redISub(f);e=d;var l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),r=c.redMul(f.redISub(d)).redISub(l),i=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),E=this.y.redSqr(),b=this.x.redMul(E),T=this.x.redSub(h).redMul(this.x.redAdd(h));T=T.redAdd(T).redIAdd(T);var k=b.redIAdd(b);k=k.redIAdd(k);var O=k.redAdd(k);e=T.redSqr().redISub(O),i=this.y.redAdd(this.z).redSqr().redISub(E).redISub(h);var D=E.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D),r=T.redMul(k.redISub(e)).redISub(D)}return this.curve.jpoint(e,r,i)};qi.prototype._dbl=function(){var e=this.curve.a,r=this.x,i=this.y,n=this.z,o=n.redSqr().redSqr(),s=r.redSqr(),f=i.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),d=r.redAdd(r);d=d.redIAdd(d);var l=d.redMul(f),h=c.redSqr().redISub(l.redAdd(l)),E=l.redISub(h),b=f.redSqr();b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var T=c.redMul(E).redISub(b),k=i.redAdd(i).redMul(n);return this.curve.jpoint(h,T,k)};qi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr(),n=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),f=this.x.redAdd(r).redSqr().redISub(e).redISub(n);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(s);var c=f.redSqr(),d=n.redIAdd(n);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var l=o.redIAdd(f).redSqr().redISub(s).redISub(c).redISub(d),h=r.redMul(l);h=h.redIAdd(h),h=h.redIAdd(h);var E=this.x.redMul(c).redISub(h);E=E.redIAdd(E),E=E.redIAdd(E);var b=this.y.redMul(l.redMul(d.redISub(l)).redISub(f.redMul(c)));b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var T=this.z.redAdd(f).redSqr().redISub(i).redISub(c);return this.curve.jpoint(E,b,T)};qi.prototype.mul=function(e,r){return e=new Dr(e,r),this.curve._wnafMul(this,e)};qi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var n=r.redMul(this.z),o=i.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(n)).cmpn(0)===0};qi.prototype.eqXToP=function(e){var r=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),o=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(o),this.x.cmp(i)===0)return!0}};qi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};qi.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var Gq=z((c9e,Vq)=>{"use strict";x();var Gh=fi(),Hq=Qe(),Ew=pm(),$ue=$n();function Zh(t){Ew.call(this,"mont",t),this.a=new Gh(t.a,16).toRed(this.red),this.b=new Gh(t.b,16).toRed(this.red),this.i4=new Gh(4).toRed(this.red).redInvm(),this.two=new Gh(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Hq(Zh,Ew);Vq.exports=Zh;Zh.prototype.validate=function(e){var r=e.normalize().x,i=r.redSqr(),n=i.redMul(r).redAdd(i.redMul(this.a)).redAdd(r),o=n.redSqrt();return o.redSqr().cmp(n)===0};function _i(t,e,r){Ew.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Gh(e,16),this.z=new Gh(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Hq(_i,Ew.BasePoint);Zh.prototype.decodePoint=function(e,r){return this.point($ue.toArray(e,r),1)};Zh.prototype.point=function(e,r){return new _i(this,e,r)};Zh.prototype.pointFromJSON=function(e){return _i.fromJSON(this,e)};_i.prototype.precompute=function(){};_i.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};_i.fromJSON=function(e,r){return new _i(e,r[0],r[1]||e.one)};_i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};_i.prototype.isInfinity=function(){return this.z.cmpn(0)===0};_i.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),o=r.redSub(n),s=r.redMul(n),f=o.redMul(n.redAdd(this.curve.a24.redMul(o)));return this.curve.point(s,f)};_i.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};_i.prototype.diffAdd=function(e,r){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),o=e.x.redAdd(e.z),s=e.x.redSub(e.z),f=s.redMul(i),c=o.redMul(n),d=r.z.redMul(f.redAdd(c).redSqr()),l=r.x.redMul(f.redISub(c).redSqr());return this.curve.point(d,l)};_i.prototype.mul=function(e){for(var r=e.clone(),i=this,n=this.curve.point(null,null),o=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var f=s.length-1;f>=0;f--)s[f]===0?(i=i.diffAdd(n,o),n=n.dbl()):(n=i.diffAdd(n,o),i=i.dbl());return n};_i.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};_i.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};_i.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};_i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};_i.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var Jq=z((d9e,Yq)=>{"use strict";x();var Wue=$n(),af=fi(),Zq=Qe(),xw=pm(),Kue=Wue.assert;function aa(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,xw.call(this,"edwards",t),this.a=new af(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new af(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new af(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Kue(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}Zq(aa,xw);Yq.exports=aa;aa.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};aa.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};aa.prototype.jpoint=function(e,r,i,n){return this.point(e,r,i,n)};aa.prototype.pointFromX=function(e,r){e=new af(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),o=this.one.redSub(this.c2.redMul(this.d).redMul(i)),s=n.redMul(o.redInvm()),f=s.redSqrt();if(f.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var c=f.fromRed().isOdd();return(r&&!c||!r&&c)&&(f=f.redNeg()),this.point(e,f)};aa.prototype.pointFromY=function(e,r){e=new af(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),o=i.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var f=s.redSqrt();if(f.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return f.fromRed().isOdd()!==r&&(f=f.redNeg()),this.point(f,e)};aa.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),i=e.y.redSqr(),n=r.redMul(this.a).redAdd(i),o=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(i)));return n.cmp(o)===0};function pr(t,e,r,i,n){xw.BasePoint.call(this,t,"projective"),e===null&&r===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new af(e,16),this.y=new af(r,16),this.z=i?new af(i,16):this.curve.one,this.t=n&&new af(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Zq(pr,xw.BasePoint);aa.prototype.pointFromJSON=function(e){return pr.fromJSON(this,e)};aa.prototype.point=function(e,r,i,n){return new pr(this,e,r,i,n)};pr.fromJSON=function(e,r){return new pr(e,r[0],r[1],r[2])};pr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};pr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};pr.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=n.redAdd(r),f=s.redSub(i),c=n.redSub(r),d=o.redMul(f),l=s.redMul(c),h=o.redMul(c),E=f.redMul(s);return this.curve.point(d,l,E,h)};pr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),i=this.y.redSqr(),n,o,s,f,c,d;if(this.curve.twisted){f=this.curve._mulA(r);var l=f.redAdd(i);this.zOne?(n=e.redSub(r).redSub(i).redMul(l.redSub(this.curve.two)),o=l.redMul(f.redSub(i)),s=l.redSqr().redSub(l).redSub(l)):(c=this.z.redSqr(),d=l.redSub(c).redISub(c),n=e.redSub(r).redISub(i).redMul(d),o=l.redMul(f.redSub(i)),s=l.redMul(d))}else f=r.redAdd(i),c=this.curve._mulC(this.z).redSqr(),d=f.redSub(c).redSub(c),n=this.curve._mulC(e.redISub(f)).redMul(d),o=this.curve._mulC(f).redMul(r.redISub(i)),s=f.redMul(d);return this.curve.point(n,o,s)};pr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};pr.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),s=i.redSub(r),f=o.redSub(n),c=o.redAdd(n),d=i.redAdd(r),l=s.redMul(f),h=c.redMul(d),E=s.redMul(d),b=f.redMul(c);return this.curve.point(l,h,b,E)};pr.prototype._projAdd=function(e){var r=this.z.redMul(e.z),i=r.redSqr(),n=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(n).redMul(o),f=i.redSub(s),c=i.redAdd(s),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(o),l=r.redMul(f).redMul(d),h,E;return this.curve.twisted?(h=r.redMul(c).redMul(o.redSub(this.curve._mulA(n))),E=f.redMul(c)):(h=r.redMul(c).redMul(o.redSub(n)),E=this.curve._mulC(f).redMul(c)),this.curve.point(l,h,E)};pr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};pr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};pr.prototype.mulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!1)};pr.prototype.jmulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!0)};pr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};pr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};pr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};pr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};pr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};pr.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}};pr.prototype.toP=pr.prototype.normalize;pr.prototype.mixedAdd=pr.prototype.add});var Vx=z(Qq=>{"use strict";x();var Sw=Qq;Sw.base=pm();Sw.short=Kq();Sw.mont=Gq();Sw.edwards=Jq()});var ys=z(cr=>{"use strict";x();var Hue=zn(),Vue=Qe();cr.inherits=Vue;function Gue(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function Zue(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?r[i++]=o:o<2048?(r[i++]=o>>6|192,r[i++]=o&63|128):Gue(t,n)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++n)&1023),r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=o&63|128):(r[i++]=o>>12|224,r[i++]=o>>6&63|128,r[i++]=o&63|128)}else for(n=0;n<t.length;n++)r[n]=t[n]|0;return r}cr.toArray=Zue;function Yue(t){for(var e="",r=0;r<t.length;r++)e+=eL(t[r].toString(16));return e}cr.toHex=Yue;function Xq(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}cr.htonl=Xq;function Jue(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];e==="little"&&(n=Xq(n)),r+=tL(n.toString(16))}return r}cr.toHex32=Jue;function eL(t){return t.length===1?"0"+t:t}cr.zero2=eL;function tL(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}cr.zero8=tL;function Que(t,e,r,i){var n=r-e;Hue(n%4===0);for(var o=new Array(n/4),s=0,f=e;s<o.length;s++,f+=4){var c;i==="big"?c=t[f]<<24|t[f+1]<<16|t[f+2]<<8|t[f+3]:c=t[f+3]<<24|t[f+2]<<16|t[f+1]<<8|t[f],o[s]=c>>>0}return o}cr.join32=Que;function Xue(t,e){for(var r=new Array(t.length*4),i=0,n=0;i<t.length;i++,n+=4){var o=t[i];e==="big"?(r[n]=o>>>24,r[n+1]=o>>>16&255,r[n+2]=o>>>8&255,r[n+3]=o&255):(r[n+3]=o>>>24,r[n+2]=o>>>16&255,r[n+1]=o>>>8&255,r[n]=o&255)}return r}cr.split32=Xue;function ede(t,e){return t>>>e|t<<32-e}cr.rotr32=ede;function tde(t,e){return t<<e|t>>>32-e}cr.rotl32=tde;function rde(t,e){return t+e>>>0}cr.sum32=rde;function ide(t,e,r){return t+e+r>>>0}cr.sum32_3=ide;function nde(t,e,r,i){return t+e+r+i>>>0}cr.sum32_4=nde;function ode(t,e,r,i,n){return t+e+r+i+n>>>0}cr.sum32_5=ode;function sde(t,e,r,i){var n=t[e],o=t[e+1],s=i+o>>>0,f=(s<i?1:0)+r+n;t[e]=f>>>0,t[e+1]=s}cr.sum64=sde;function ade(t,e,r,i){var n=e+i>>>0,o=(n<e?1:0)+t+r;return o>>>0}cr.sum64_hi=ade;function fde(t,e,r,i){var n=e+i;return n>>>0}cr.sum64_lo=fde;function cde(t,e,r,i,n,o,s,f){var c=0,d=e;d=d+i>>>0,c+=d<e?1:0,d=d+o>>>0,c+=d<o?1:0,d=d+f>>>0,c+=d<f?1:0;var l=t+r+n+s+c;return l>>>0}cr.sum64_4_hi=cde;function ude(t,e,r,i,n,o,s,f){var c=e+i+o+f;return c>>>0}cr.sum64_4_lo=ude;function dde(t,e,r,i,n,o,s,f,c,d){var l=0,h=e;h=h+i>>>0,l+=h<e?1:0,h=h+o>>>0,l+=h<o?1:0,h=h+f>>>0,l+=h<f?1:0,h=h+d>>>0,l+=h<d?1:0;var E=t+r+n+s+c+l;return E>>>0}cr.sum64_5_hi=dde;function lde(t,e,r,i,n,o,s,f,c,d){var l=e+i+o+f+d;return l>>>0}cr.sum64_5_lo=lde;function hde(t,e,r){var i=e<<32-r|t>>>r;return i>>>0}cr.rotr64_hi=hde;function pde(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}cr.rotr64_lo=pde;function yde(t,e,r){return t>>>r}cr.shr64_hi=yde;function mde(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}cr.shr64_lo=mde});var Yh=z(iL=>{"use strict";x();var rL=ys(),gde=zn();function Mw(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}iL.BlockHash=Mw;Mw.prototype.update=function(e,r){if(e=rL.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=rL.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};Mw.prototype.digest=function(e){return this.update(this._pad()),gde(this.pending===null),this._digest(e)};Mw.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,i=r-(e+this.padLength)%r,n=new Array(i+this.padLength);n[0]=128;for(var o=1;o<i;o++)n[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)n[o++]=0;n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=e>>>24&255,n[o++]=e>>>16&255,n[o++]=e>>>8&255,n[o++]=e&255}else for(n[o++]=e&255,n[o++]=e>>>8&255,n[o++]=e>>>16&255,n[o++]=e>>>24&255,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,s=8;s<this.padLength;s++)n[o++]=0;return n}});var Gx=z(ff=>{"use strict";x();var vde=ys(),fa=vde.rotr32;function bde(t,e,r,i){if(t===0)return nL(e,r,i);if(t===1||t===3)return sL(e,r,i);if(t===2)return oL(e,r,i)}ff.ft_1=bde;function nL(t,e,r){return t&e^~t&r}ff.ch32=nL;function oL(t,e,r){return t&e^t&r^e&r}ff.maj32=oL;function sL(t,e,r){return t^e^r}ff.p32=sL;function wde(t){return fa(t,2)^fa(t,13)^fa(t,22)}ff.s0_256=wde;function _de(t){return fa(t,6)^fa(t,11)^fa(t,25)}ff.s1_256=_de;function Ede(t){return fa(t,7)^fa(t,18)^t>>>3}ff.g0_256=Ede;function xde(t){return fa(t,17)^fa(t,19)^t>>>10}ff.g1_256=xde});var cL=z((_9e,fL)=>{"use strict";x();var Jh=ys(),Sde=Yh(),Mde=Gx(),Zx=Jh.rotl32,ym=Jh.sum32,Ade=Jh.sum32_5,Tde=Mde.ft_1,aL=Sde.BlockHash,Rde=[1518500249,1859775393,2400959708,3395469782];function ca(){if(!(this instanceof ca))return new ca;aL.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Jh.inherits(ca,aL);fL.exports=ca;ca.blockSize=512;ca.outSize=160;ca.hmacStrength=80;ca.padLength=64;ca.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=Zx(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var o=this.h[0],s=this.h[1],f=this.h[2],c=this.h[3],d=this.h[4];for(n=0;n<i.length;n++){var l=~~(n/20),h=Ade(Zx(o,5),Tde(l,s,f,c),d,i[n],Rde[l]);d=c,c=f,f=Zx(s,30),s=o,o=h}this.h[0]=ym(this.h[0],o),this.h[1]=ym(this.h[1],s),this.h[2]=ym(this.h[2],f),this.h[3]=ym(this.h[3],c),this.h[4]=ym(this.h[4],d)};ca.prototype._digest=function(e){return e==="hex"?Jh.toHex32(this.h,"big"):Jh.split32(this.h,"big")}});var Yx=z((x9e,dL)=>{"use strict";x();var Qh=ys(),Pde=Yh(),Xh=Gx(),kde=zn(),ms=Qh.sum32,Ide=Qh.sum32_4,Dde=Qh.sum32_5,Bde=Xh.ch32,Cde=Xh.maj32,Ode=Xh.s0_256,jde=Xh.s1_256,Nde=Xh.g0_256,qde=Xh.g1_256,uL=Pde.BlockHash,Lde=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ua(){if(!(this instanceof ua))return new ua;uL.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Lde,this.W=new Array(64)}Qh.inherits(ua,uL);dL.exports=ua;ua.blockSize=512;ua.outSize=256;ua.hmacStrength=192;ua.padLength=64;ua.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=Ide(qde(i[n-2]),i[n-7],Nde(i[n-15]),i[n-16]);var o=this.h[0],s=this.h[1],f=this.h[2],c=this.h[3],d=this.h[4],l=this.h[5],h=this.h[6],E=this.h[7];for(kde(this.k.length===i.length),n=0;n<i.length;n++){var b=Dde(E,jde(d),Bde(d,l,h),this.k[n],i[n]),T=ms(Ode(o),Cde(o,s,f));E=h,h=l,l=d,d=ms(c,b),c=f,f=s,s=o,o=ms(b,T)}this.h[0]=ms(this.h[0],o),this.h[1]=ms(this.h[1],s),this.h[2]=ms(this.h[2],f),this.h[3]=ms(this.h[3],c),this.h[4]=ms(this.h[4],d),this.h[5]=ms(this.h[5],l),this.h[6]=ms(this.h[6],h),this.h[7]=ms(this.h[7],E)};ua.prototype._digest=function(e){return e==="hex"?Qh.toHex32(this.h,"big"):Qh.split32(this.h,"big")}});var pL=z((M9e,hL)=>{"use strict";x();var Jx=ys(),lL=Yx();function cf(){if(!(this instanceof cf))return new cf;lL.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Jx.inherits(cf,lL);hL.exports=cf;cf.blockSize=512;cf.outSize=224;cf.hmacStrength=192;cf.padLength=64;cf.prototype._digest=function(e){return e==="hex"?Jx.toHex32(this.h.slice(0,7),"big"):Jx.split32(this.h.slice(0,7),"big")}});var e5=z((T9e,vL)=>{"use strict";x();var bn=ys(),Ude=Yh(),Fde=zn(),da=bn.rotr64_hi,la=bn.rotr64_lo,yL=bn.shr64_hi,mL=bn.shr64_lo,jc=bn.sum64,Qx=bn.sum64_hi,Xx=bn.sum64_lo,zde=bn.sum64_4_hi,$de=bn.sum64_4_lo,Wde=bn.sum64_5_hi,Kde=bn.sum64_5_lo,gL=Ude.BlockHash,Hde=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function gs(){if(!(this instanceof gs))return new gs;gL.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Hde,this.W=new Array(160)}bn.inherits(gs,gL);vL.exports=gs;gs.blockSize=1024;gs.outSize=512;gs.hmacStrength=192;gs.padLength=128;gs.prototype._prepareBlock=function(e,r){for(var i=this.W,n=0;n<32;n++)i[n]=e[r+n];for(;n<i.length;n+=2){var o=ile(i[n-4],i[n-3]),s=nle(i[n-4],i[n-3]),f=i[n-14],c=i[n-13],d=tle(i[n-30],i[n-29]),l=rle(i[n-30],i[n-29]),h=i[n-32],E=i[n-31];i[n]=zde(o,s,f,c,d,l,h,E),i[n+1]=$de(o,s,f,c,d,l,h,E)}};gs.prototype._update=function(e,r){this._prepareBlock(e,r);var i=this.W,n=this.h[0],o=this.h[1],s=this.h[2],f=this.h[3],c=this.h[4],d=this.h[5],l=this.h[6],h=this.h[7],E=this.h[8],b=this.h[9],T=this.h[10],k=this.h[11],O=this.h[12],D=this.h[13],I=this.h[14],L=this.h[15];Fde(this.k.length===i.length);for(var U=0;U<i.length;U+=2){var $=I,K=L,q=Xde(E,b),F=ele(E,b),G=Vde(E,b,T,k,O,D),B=Gde(E,b,T,k,O,D),w=this.k[U],M=this.k[U+1],_=i[U],a=i[U+1],u=Wde($,K,q,F,G,B,w,M,_,a),p=Kde($,K,q,F,G,B,w,M,_,a);$=Jde(n,o),K=Qde(n,o),q=Zde(n,o,s,f,c,d),F=Yde(n,o,s,f,c,d);var v=Qx($,K,q,F),g=Xx($,K,q,F);I=O,L=D,O=T,D=k,T=E,k=b,E=Qx(l,h,u,p),b=Xx(h,h,u,p),l=c,h=d,c=s,d=f,s=n,f=o,n=Qx(u,p,v,g),o=Xx(u,p,v,g)}jc(this.h,0,n,o),jc(this.h,2,s,f),jc(this.h,4,c,d),jc(this.h,6,l,h),jc(this.h,8,E,b),jc(this.h,10,T,k),jc(this.h,12,O,D),jc(this.h,14,I,L)};gs.prototype._digest=function(e){return e==="hex"?bn.toHex32(this.h,"big"):bn.split32(this.h,"big")};function Vde(t,e,r,i,n){var o=t&r^~t&n;return o<0&&(o+=4294967296),o}function Gde(t,e,r,i,n,o){var s=e&i^~e&o;return s<0&&(s+=4294967296),s}function Zde(t,e,r,i,n){var o=t&r^t&n^r&n;return o<0&&(o+=4294967296),o}function Yde(t,e,r,i,n,o){var s=e&i^e&o^i&o;return s<0&&(s+=4294967296),s}function Jde(t,e){var r=da(t,e,28),i=da(e,t,2),n=da(e,t,7),o=r^i^n;return o<0&&(o+=4294967296),o}function Qde(t,e){var r=la(t,e,28),i=la(e,t,2),n=la(e,t,7),o=r^i^n;return o<0&&(o+=4294967296),o}function Xde(t,e){var r=da(t,e,14),i=da(t,e,18),n=da(e,t,9),o=r^i^n;return o<0&&(o+=4294967296),o}function ele(t,e){var r=la(t,e,14),i=la(t,e,18),n=la(e,t,9),o=r^i^n;return o<0&&(o+=4294967296),o}function tle(t,e){var r=da(t,e,1),i=da(t,e,8),n=yL(t,e,7),o=r^i^n;return o<0&&(o+=4294967296),o}function rle(t,e){var r=la(t,e,1),i=la(t,e,8),n=mL(t,e,7),o=r^i^n;return o<0&&(o+=4294967296),o}function ile(t,e){var r=da(t,e,19),i=da(e,t,29),n=yL(t,e,6),o=r^i^n;return o<0&&(o+=4294967296),o}function nle(t,e){var r=la(t,e,19),i=la(e,t,29),n=mL(t,e,6),o=r^i^n;return o<0&&(o+=4294967296),o}});var _L=z((P9e,wL)=>{"use strict";x();var t5=ys(),bL=e5();function uf(){if(!(this instanceof uf))return new uf;bL.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}t5.inherits(uf,bL);wL.exports=uf;uf.blockSize=1024;uf.outSize=384;uf.hmacStrength=192;uf.padLength=128;uf.prototype._digest=function(e){return e==="hex"?t5.toHex32(this.h.slice(0,12),"big"):t5.split32(this.h.slice(0,12),"big")}});var EL=z(ep=>{"use strict";x();ep.sha1=cL();ep.sha224=pL();ep.sha256=Yx();ep.sha384=_L();ep.sha512=e5()});var RL=z(TL=>{"use strict";x();var Hd=ys(),ole=Yh(),Aw=Hd.rotl32,xL=Hd.sum32,mm=Hd.sum32_3,SL=Hd.sum32_4,AL=ole.BlockHash;function ha(){if(!(this instanceof ha))return new ha;AL.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Hd.inherits(ha,AL);TL.ripemd160=ha;ha.blockSize=512;ha.outSize=160;ha.hmacStrength=192;ha.padLength=64;ha.prototype._update=function(e,r){for(var i=this.h[0],n=this.h[1],o=this.h[2],s=this.h[3],f=this.h[4],c=i,d=n,l=o,h=s,E=f,b=0;b<80;b++){var T=xL(Aw(SL(i,ML(b,n,o,s),e[fle[b]+r],sle(b)),ule[b]),f);i=f,f=s,s=Aw(o,10),o=n,n=T,T=xL(Aw(SL(c,ML(79-b,d,l,h),e[cle[b]+r],ale(b)),dle[b]),E),c=E,E=h,h=Aw(l,10),l=d,d=T}T=mm(this.h[1],o,h),this.h[1]=mm(this.h[2],s,E),this.h[2]=mm(this.h[3],f,c),this.h[3]=mm(this.h[4],i,d),this.h[4]=mm(this.h[0],n,l),this.h[0]=T};ha.prototype._digest=function(e){return e==="hex"?Hd.toHex32(this.h,"little"):Hd.split32(this.h,"little")};function ML(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function sle(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function ale(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var fle=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],cle=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ule=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],dle=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var kL=z((O9e,PL)=>{"use strict";x();var lle=ys(),hle=zn();function tp(t,e,r){if(!(this instanceof tp))return new tp(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(lle.toArray(e,r))}PL.exports=tp;tp.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),hle(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};tp.prototype.update=function(e,r){return this.inner.update(e,r),this};tp.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var Tw=z(IL=>{x();var Li=IL;Li.utils=ys();Li.common=Yh();Li.sha=EL();Li.ripemd=RL();Li.hmac=kL();Li.sha1=Li.sha.sha1;Li.sha256=Li.sha.sha256;Li.sha224=Li.sha.sha224;Li.sha384=Li.sha.sha384;Li.sha512=Li.sha.sha512;Li.ripemd160=Li.ripemd.ripemd160});var BL=z((L9e,DL)=>{x();DL.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var Rw=z(jL=>{"use strict";x();var i5=jL,Nc=Tw(),r5=Vx(),ple=$n(),CL=ple.assert;function OL(t){t.type==="short"?this.curve=new r5.short(t):t.type==="edwards"?this.curve=new r5.edwards(t):this.curve=new r5.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,CL(this.g.validate(),"Invalid curve"),CL(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}i5.PresetCurve=OL;function qc(t,e){Object.defineProperty(i5,t,{configurable:!0,enumerable:!0,get:function(){var r=new OL(e);return Object.defineProperty(i5,t,{configurable:!0,enumerable:!0,value:r}),r}})}qc("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Nc.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});qc("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Nc.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});qc("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Nc.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});qc("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Nc.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});qc("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Nc.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});qc("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Nc.sha256,gRed:!1,g:["9"]});qc("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Nc.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var n5;try{n5=BL()}catch{n5=void 0}qc("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Nc.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n5]})});var LL=z(($9e,qL)=>{"use strict";x();var yle=Tw(),Vd=Kx(),NL=zn();function Lc(t){if(!(this instanceof Lc))return new Lc(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Vd.toArray(t.entropy,t.entropyEnc||"hex"),r=Vd.toArray(t.nonce,t.nonceEnc||"hex"),i=Vd.toArray(t.pers,t.persEnc||"hex");NL(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}qL.exports=Lc;Lc.prototype._init=function(e,r,i){var n=e.concat(r).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};Lc.prototype._hmac=function(){return new yle.hmac(this.hash,this.K)};Lc.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Lc.prototype.reseed=function(e,r,i,n){typeof r!="string"&&(n=i,i=r,r=null),e=Vd.toArray(e,r),i=Vd.toArray(i,n),NL(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};Lc.prototype.generate=function(e,r,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(n=i,i=r,r=null),i&&(i=Vd.toArray(i,n||"hex"),this._update(i));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(i),this._reseed++,Vd.encode(s,r)}});var FL=z((K9e,UL)=>{"use strict";x();var mle=fi(),gle=$n(),o5=gle.assert;function Yi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}UL.exports=Yi;Yi.fromPublic=function(e,r,i){return r instanceof Yi?r:new Yi(e,{pub:r,pubEnc:i})};Yi.fromPrivate=function(e,r,i){return r instanceof Yi?r:new Yi(e,{priv:r,privEnc:i})};Yi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Yi.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Yi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Yi.prototype._importPrivate=function(e,r){this.priv=new mle(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Yi.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?o5(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&o5(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Yi.prototype.derive=function(e){return e.validate()||o5(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Yi.prototype.sign=function(e,r,i){return this.ec.sign(e,this,r,i)};Yi.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Yi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var WL=z((V9e,$L)=>{"use strict";x();var Pw=fi(),f5=$n(),vle=f5.assert;function kw(t,e){if(t instanceof kw)return t;this._importDER(t,e)||(vle(t.r&&t.s,"Signature without r or s"),this.r=new Pw(t.r,16),this.s=new Pw(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}$L.exports=kw;function ble(){this.place=0}function s5(t,e){var r=t[e.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,o=0,s=e.place;o<i;o++,s++)n<<=8,n|=t[s],n>>>=0;return n<=127?!1:(e.place=s,n)}function zL(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}kw.prototype._importDER=function(e,r){e=f5.toArray(e,r);var i=new ble;if(e[i.place++]!==48)return!1;var n=s5(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var o=s5(e,i);if(o===!1)return!1;var s=e.slice(i.place,o+i.place);if(i.place+=o,e[i.place++]!==2)return!1;var f=s5(e,i);if(f===!1||e.length!==f+i.place)return!1;var c=e.slice(i.place,f+i.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Pw(s),this.s=new Pw(c),this.recoveryParam=null,!0};function a5(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}kw.prototype.toDER=function(e){var r=this.r.toArray(),i=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),i[0]&128&&(i=[0].concat(i)),r=zL(r),i=zL(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];a5(n,r.length),n=n.concat(r),n.push(2),a5(n,i.length);var o=n.concat(i),s=[48];return a5(s,o.length),s=s.concat(o),f5.encode(s,e)}});var GL=z((Z9e,VL)=>{"use strict";x();var Gd=fi(),KL=LL(),wle=$n(),c5=Rw(),_le=Q1(),HL=wle.assert,u5=FL(),Iw=WL();function xo(t){if(!(this instanceof xo))return new xo(t);typeof t=="string"&&(HL(Object.prototype.hasOwnProperty.call(c5,t),"Unknown curve "+t),t=c5[t]),t instanceof c5.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}VL.exports=xo;xo.prototype.keyPair=function(e){return new u5(this,e)};xo.prototype.keyFromPrivate=function(e,r){return u5.fromPrivate(this,e,r)};xo.prototype.keyFromPublic=function(e,r){return u5.fromPublic(this,e,r)};xo.prototype.genKeyPair=function(e){e||(e={});for(var r=new KL({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||_le(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new Gd(2));;){var o=new Gd(r.generate(i));if(!(o.cmp(n)>0))return o.iaddn(1),this.keyFromPrivate(o)}};xo.prototype._truncateToN=function(e,r){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};xo.prototype.sign=function(e,r,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),r=this.keyFromPrivate(r,i),e=this._truncateToN(new Gd(e,16));for(var o=this.n.byteLength(),s=r.getPrivate().toArray("be",o),f=e.toArray("be",o),c=new KL({hash:this.hash,entropy:s,nonce:f,pers:n.pers,persEnc:n.persEnc||"utf8"}),d=this.n.sub(new Gd(1)),l=0;;l++){var h=n.k?n.k(l):new Gd(c.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(d)>=0)){var E=this.g.mul(h);if(!E.isInfinity()){var b=E.getX(),T=b.umod(this.n);if(T.cmpn(0)!==0){var k=h.invm(this.n).mul(T.mul(r.getPrivate()).iadd(e));if(k=k.umod(this.n),k.cmpn(0)!==0){var O=(E.getY().isOdd()?1:0)|(b.cmp(T)!==0?2:0);return n.canonical&&k.cmp(this.nh)>0&&(k=this.n.sub(k),O^=1),new Iw({r:T,s:k,recoveryParam:O})}}}}}};xo.prototype.verify=function(e,r,i,n){e=this._truncateToN(new Gd(e,16)),i=this.keyFromPublic(i,n),r=new Iw(r,"hex");var o=r.r,s=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var f=s.invm(this.n),c=f.mul(e).umod(this.n),d=f.mul(o).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,i.getPublic(),d),l.isInfinity()?!1:l.eqXToP(o)):(l=this.g.mulAdd(c,i.getPublic(),d),l.isInfinity()?!1:l.getX().umod(this.n).cmp(o)===0)};xo.prototype.recoverPubKey=function(t,e,r,i){HL((3&r)===r,"The recovery param is more than two bits"),e=new Iw(e,i);var n=this.n,o=new Gd(t),s=e.r,f=e.s,c=r&1,d=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");d?s=this.curve.pointFromX(s.add(this.curve.n),c):s=this.curve.pointFromX(s,c);var l=e.r.invm(n),h=n.sub(o).mul(l).umod(n),E=f.mul(l).umod(n);return this.g.mulAdd(h,s,E)};xo.prototype.getKeyRecoveryParam=function(t,e,r,i){if(e=new Iw(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var o;try{o=this.recoverPubKey(t,e,n)}catch{continue}if(o.eq(r))return n}throw new Error("Unable to find valid recovery factor")}});var QL=z((J9e,JL)=>{"use strict";x();var gm=$n(),YL=gm.assert,ZL=gm.parseBytes,rp=gm.cachedProperty;function Ei(t,e){this.eddsa=t,this._secret=ZL(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=ZL(e.pub)}Ei.fromPublic=function(e,r){return r instanceof Ei?r:new Ei(e,{pub:r})};Ei.fromSecret=function(e,r){return r instanceof Ei?r:new Ei(e,{secret:r})};Ei.prototype.secret=function(){return this._secret};rp(Ei,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});rp(Ei,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});rp(Ei,"privBytes",function(){var e=this.eddsa,r=this.hash(),i=e.encodingLength-1,n=r.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n});rp(Ei,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});rp(Ei,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});rp(Ei,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Ei.prototype.sign=function(e){return YL(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Ei.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Ei.prototype.getSecret=function(e){return YL(this._secret,"KeyPair is public only"),gm.encode(this.secret(),e)};Ei.prototype.getPublic=function(e){return gm.encode(this.pubBytes(),e)};JL.exports=Ei});var eU=z((X9e,XL)=>{"use strict";x();var Ele=fi(),Dw=$n(),xle=Dw.assert,Bw=Dw.cachedProperty,Sle=Dw.parseBytes;function Zd(t,e){this.eddsa=t,typeof e!="object"&&(e=Sle(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),xle(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Ele&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Bw(Zd,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Bw(Zd,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Bw(Zd,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Bw(Zd,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Zd.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Zd.prototype.toHex=function(){return Dw.encode(this.toBytes(),"hex").toUpperCase()};XL.exports=Zd});var oU=z((tMe,nU)=>{"use strict";x();var Mle=Tw(),Ale=Rw(),ip=$n(),Tle=ip.assert,rU=ip.parseBytes,iU=QL(),tU=eU();function wn(t){if(Tle(t==="ed25519","only tested with ed25519 so far"),!(this instanceof wn))return new wn(t);t=Ale[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Mle.sha512}nU.exports=wn;wn.prototype.sign=function(e,r){e=rU(e);var i=this.keyFromSecret(r),n=this.hashInt(i.messagePrefix(),e),o=this.g.mul(n),s=this.encodePoint(o),f=this.hashInt(s,i.pubBytes(),e).mul(i.priv()),c=n.add(f).umod(this.curve.n);return this.makeSignature({R:o,S:c,Rencoded:s})};wn.prototype.verify=function(e,r,i){e=rU(e),r=this.makeSignature(r);var n=this.keyFromPublic(i),o=this.hashInt(r.Rencoded(),n.pubBytes(),e),s=this.g.mul(r.S()),f=r.R().add(n.pub().mul(o));return f.eq(s)};wn.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return ip.intFromLE(e.digest()).umod(this.curve.n)};wn.prototype.keyFromPublic=function(e){return iU.fromPublic(this,e)};wn.prototype.keyFromSecret=function(e){return iU.fromSecret(this,e)};wn.prototype.makeSignature=function(e){return e instanceof tU?e:new tU(this,e)};wn.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};wn.prototype.decodePoint=function(e){e=ip.parseBytes(e);var r=e.length-1,i=e.slice(0,r).concat(e[r]&-129),n=(e[r]&128)!==0,o=ip.intFromLE(i);return this.curve.pointFromY(o,n)};wn.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};wn.prototype.decodeInt=function(e){return ip.intFromLE(e)};wn.prototype.isPoint=function(e){return e instanceof this.pointClass}});var np=z(sU=>{"use strict";x();var Yd=sU;Yd.version=qq().version;Yd.utils=$n();Yd.rand=Q1();Yd.curve=Vx();Yd.curves=Rw();Yd.ec=GL();Yd.eddsa=oU()});var l5=z((aU,d5)=>{x();(function(t,e){"use strict";function r(_,a){if(!_)throw new Error(a||"Assertion failed")}function i(_,a){_.super_=a;var u=function(){};u.prototype=a.prototype,_.prototype=new u,_.prototype.constructor=_}function n(_,a,u){if(n.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(_||0,a||10,u||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=er().Buffer}catch{}n.isBN=function(a){return a instanceof n?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===n.wordSize&&Array.isArray(a.words)},n.max=function(a,u){return a.cmp(u)>0?a:u},n.min=function(a,u){return a.cmp(u)<0?a:u},n.prototype._init=function(a,u,p){if(typeof a=="number")return this._initNumber(a,u,p);if(typeof a=="object")return this._initArray(a,u,p);u==="hex"&&(u=16),r(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var v=0;a[0]==="-"&&(v++,this.negative=1),v<a.length&&(u===16?this._parseHex(a,v,p):(this._parseBase(a,u,v),p==="le"&&this._initArray(this.toArray(),u,p)))},n.prototype._initNumber=function(a,u,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),u,p)},n.prototype._initArray=function(a,u,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var g,m,A=0;if(p==="be")for(v=a.length-1,g=0;v>=0;v-=3)m=a[v]|a[v-1]<<8|a[v-2]<<16,this.words[g]|=m<<A&67108863,this.words[g+1]=m>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);else if(p==="le")for(v=0,g=0;v<a.length;v+=3)m=a[v]|a[v+1]<<8|a[v+2]<<16,this.words[g]|=m<<A&67108863,this.words[g+1]=m>>>26-A&67108863,A+=24,A>=26&&(A-=26,g++);return this._strip()};function s(_,a){var u=_.charCodeAt(a);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;r(!1,"Invalid character in "+_)}function f(_,a,u){var p=s(_,u);return u-1>=a&&(p|=s(_,u-1)<<4),p}n.prototype._parseHex=function(a,u,p){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var g=0,m=0,A;if(p==="be")for(v=a.length-1;v>=u;v-=2)A=f(a,u,v)<<g,this.words[m]|=A&67108863,g>=18?(g-=18,m+=1,this.words[m]|=A>>>26):g+=8;else{var R=a.length-u;for(v=R%2===0?u+1:u;v<a.length;v+=2)A=f(a,u,v)<<g,this.words[m]|=A&67108863,g>=18?(g-=18,m+=1,this.words[m]|=A>>>26):g+=8}this._strip()};function c(_,a,u,p){for(var v=0,g=0,m=Math.min(_.length,u),A=a;A<m;A++){var R=_.charCodeAt(A)-48;v*=p,R>=49?g=R-49+10:R>=17?g=R-17+10:g=R,r(R>=0&&g<p,"Invalid character"),v+=g}return v}n.prototype._parseBase=function(a,u,p){this.words=[0],this.length=1;for(var v=0,g=1;g<=67108863;g*=u)v++;v--,g=g/u|0;for(var m=a.length-p,A=m%v,R=Math.min(m,m-A)+p,y=0,P=p;P<R;P+=v)y=c(a,P,P+v,u),this.imuln(g),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(A!==0){var W=1;for(y=c(a,P,a.length,u),P=0;P<A;P++)W*=u;this.imuln(W),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this._strip()},n.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red};function d(_,a){_.words=a.words,_.length=a.length,_.negative=a.negative,_.red=a.red}if(n.prototype._move=function(a){d(a,this)},n.prototype.clone=function(){var a=new n(null);return this.copy(a),a},n.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch{n.prototype.inspect=l}else n.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(a,u){a=a||10,u=u|0||1;var p;if(a===16||a==="hex"){p="";for(var v=0,g=0,m=0;m<this.length;m++){var A=this.words[m],R=((A<<v|g)&16777215).toString(16);g=A>>>24-v&16777215,v+=2,v>=26&&(v-=26,m--),g!==0||m!==this.length-1?p=h[6-R.length]+R+p:p=R+p}for(g!==0&&(p=g.toString(16)+p);p.length%u!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var y=E[a],P=b[a];p="";var W=this.clone();for(W.negative=0;!W.isZero();){var H=W.modrn(P).toString(a);W=W.idivn(P),W.isZero()?p=H+p:p=h[y-H.length]+H+p}for(this.isZero()&&(p="0"+p);p.length%u!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},n.prototype.toJSON=function(){return this.toString(16,2)},o&&(n.prototype.toBuffer=function(a,u){return this.toArrayLike(o,a,u)}),n.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)};var T=function(a,u){return a.allocUnsafe?a.allocUnsafe(u):new a(u)};n.prototype.toArrayLike=function(a,u,p){this._strip();var v=this.byteLength(),g=p||Math.max(1,v);r(v<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0");var m=T(a,g),A=u==="le"?"LE":"BE";return this["_toArrayLike"+A](m,v),m},n.prototype._toArrayLikeLE=function(a,u){for(var p=0,v=0,g=0,m=0;g<this.length;g++){var A=this.words[g]<<m|v;a[p++]=A&255,p<a.length&&(a[p++]=A>>8&255),p<a.length&&(a[p++]=A>>16&255),m===6?(p<a.length&&(a[p++]=A>>24&255),v=0,m=0):(v=A>>>24,m+=2)}if(p<a.length)for(a[p++]=v;p<a.length;)a[p++]=0},n.prototype._toArrayLikeBE=function(a,u){for(var p=a.length-1,v=0,g=0,m=0;g<this.length;g++){var A=this.words[g]<<m|v;a[p--]=A&255,p>=0&&(a[p--]=A>>8&255),p>=0&&(a[p--]=A>>16&255),m===6?(p>=0&&(a[p--]=A>>24&255),v=0,m=0):(v=A>>>24,m+=2)}if(p>=0)for(a[p--]=v;p>=0;)a[p--]=0},Math.clz32?n.prototype._countBits=function(a){return 32-Math.clz32(a)}:n.prototype._countBits=function(a){var u=a,p=0;return u>=4096&&(p+=13,u>>>=13),u>=64&&(p+=7,u>>>=7),u>=8&&(p+=4,u>>>=4),u>=2&&(p+=2,u>>>=2),p+u},n.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,p=0;return u&8191||(p+=13,u>>>=13),u&127||(p+=7,u>>>=7),u&15||(p+=4,u>>>=4),u&3||(p+=2,u>>>=2),u&1||p++,p},n.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function k(_){for(var a=new Array(_.bitLength()),u=0;u<a.length;u++){var p=u/26|0,v=u%26;a[u]=_.words[p]>>>v&1}return a}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var p=this._zeroBits(this.words[u]);if(a+=p,p!==26)break}return a},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},n.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this._strip()},n.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},n.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},n.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},n.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=u.length,this._strip()},n.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},n.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},n.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},n.prototype.iuxor=function(a){var u,p;this.length>a.length?(u=this,p=a):(u=a,p=this);for(var v=0;v<p.length;v++)this.words[v]=u.words[v]^p.words[v];if(this!==u)for(;v<u.length;v++)this.words[v]=u.words[v];return this.length=u.length,this._strip()},n.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},n.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},n.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},n.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,p=a%26;this._expand(u),p>0&&u--;for(var v=0;v<u;v++)this.words[v]=~this.words[v]&67108863;return p>0&&(this.words[v]=~this.words[v]&67108863>>26-p),this._strip()},n.prototype.notn=function(a){return this.clone().inotn(a)},n.prototype.setn=function(a,u){r(typeof a=="number"&&a>=0);var p=a/26|0,v=a%26;return this._expand(p+1),u?this.words[p]=this.words[p]|1<<v:this.words[p]=this.words[p]&~(1<<v),this._strip()},n.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var p,v;this.length>a.length?(p=this,v=a):(p=a,v=this);for(var g=0,m=0;m<v.length;m++)u=(p.words[m]|0)+(v.words[m]|0)+g,this.words[m]=u&67108863,g=u>>>26;for(;g!==0&&m<p.length;m++)u=(p.words[m]|0)+g,this.words[m]=u&67108863,g=u>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;m<p.length;m++)this.words[m]=p.words[m];return this},n.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},n.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,g;p>0?(v=this,g=a):(v=a,g=this);for(var m=0,A=0;A<g.length;A++)u=(v.words[A]|0)-(g.words[A]|0)+m,m=u>>26,this.words[A]=u&67108863;for(;m!==0&&A<v.length;A++)u=(v.words[A]|0)+m,m=u>>26,this.words[A]=u&67108863;if(m===0&&A<v.length&&v!==this)for(;A<v.length;A++)this.words[A]=v.words[A];return this.length=Math.max(this.length,A),v!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(a){return this.clone().isub(a)};function O(_,a,u){u.negative=a.negative^_.negative;var p=_.length+a.length|0;u.length=p,p=p-1|0;var v=_.words[0]|0,g=a.words[0]|0,m=v*g,A=m&67108863,R=m/67108864|0;u.words[0]=A;for(var y=1;y<p;y++){for(var P=R>>>26,W=R&67108863,H=Math.min(y,a.length-1),V=Math.max(0,y-_.length+1);V<=H;V++){var Z=y-V|0;v=_.words[Z]|0,g=a.words[V]|0,m=v*g+W,P+=m/67108864|0,W=m&67108863}u.words[y]=W|0,R=P|0}return R!==0?u.words[y]=R|0:u.length--,u._strip()}var D=function(a,u,p){var v=a.words,g=u.words,m=p.words,A=0,R,y,P,W=v[0]|0,H=W&8191,V=W>>>13,Z=v[1]|0,J=Z&8191,Q=Z>>>13,me=v[2]|0,te=me&8191,ie=me>>>13,or=v[3]|0,ce=or&8191,ue=or>>>13,Fi=v[4]|0,he=Fi&8191,pe=Fi>>>13,Mn=v[5]|0,ve=Mn&8191,ge=Mn>>>13,xf=v[6]|0,be=xf&8191,we=xf>>>13,Sf=v[7]|0,_e=Sf&8191,Ee=Sf>>>13,Mf=v[8]|0,xe=Mf&8191,Se=Mf>>>13,Af=v[9]|0,Me=Af&8191,Ae=Af>>>13,Tf=g[0]|0,Te=Tf&8191,Re=Tf>>>13,Rf=g[1]|0,Pe=Rf&8191,ke=Rf>>>13,Pf=g[2]|0,Ie=Pf&8191,De=Pf>>>13,kf=g[3]|0,Be=kf&8191,Ce=kf>>>13,If=g[4]|0,Oe=If&8191,je=If>>>13,Df=g[5]|0,Ne=Df&8191,qe=Df>>>13,Bf=g[6]|0,Le=Bf&8191,Ue=Bf>>>13,Cf=g[7]|0,Fe=Cf&8191,ze=Cf>>>13,Of=g[8]|0,$e=Of&8191,We=Of>>>13,wa=g[9]|0,lt=wa&8191,ht=wa>>>13;p.negative=a.negative^u.negative,p.length=19,R=Math.imul(H,Te),y=Math.imul(H,Re),y=y+Math.imul(V,Te)|0,P=Math.imul(V,Re);var Do=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Do>>>26)|0,Do&=67108863,R=Math.imul(J,Te),y=Math.imul(J,Re),y=y+Math.imul(Q,Te)|0,P=Math.imul(Q,Re),R=R+Math.imul(H,Pe)|0,y=y+Math.imul(H,ke)|0,y=y+Math.imul(V,Pe)|0,P=P+Math.imul(V,ke)|0;var Bo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,R=Math.imul(te,Te),y=Math.imul(te,Re),y=y+Math.imul(ie,Te)|0,P=Math.imul(ie,Re),R=R+Math.imul(J,Pe)|0,y=y+Math.imul(J,ke)|0,y=y+Math.imul(Q,Pe)|0,P=P+Math.imul(Q,ke)|0,R=R+Math.imul(H,Ie)|0,y=y+Math.imul(H,De)|0,y=y+Math.imul(V,Ie)|0,P=P+Math.imul(V,De)|0;var Co=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Co>>>26)|0,Co&=67108863,R=Math.imul(ce,Te),y=Math.imul(ce,Re),y=y+Math.imul(ue,Te)|0,P=Math.imul(ue,Re),R=R+Math.imul(te,Pe)|0,y=y+Math.imul(te,ke)|0,y=y+Math.imul(ie,Pe)|0,P=P+Math.imul(ie,ke)|0,R=R+Math.imul(J,Ie)|0,y=y+Math.imul(J,De)|0,y=y+Math.imul(Q,Ie)|0,P=P+Math.imul(Q,De)|0,R=R+Math.imul(H,Be)|0,y=y+Math.imul(H,Ce)|0,y=y+Math.imul(V,Be)|0,P=P+Math.imul(V,Ce)|0;var Oo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,R=Math.imul(he,Te),y=Math.imul(he,Re),y=y+Math.imul(pe,Te)|0,P=Math.imul(pe,Re),R=R+Math.imul(ce,Pe)|0,y=y+Math.imul(ce,ke)|0,y=y+Math.imul(ue,Pe)|0,P=P+Math.imul(ue,ke)|0,R=R+Math.imul(te,Ie)|0,y=y+Math.imul(te,De)|0,y=y+Math.imul(ie,Ie)|0,P=P+Math.imul(ie,De)|0,R=R+Math.imul(J,Be)|0,y=y+Math.imul(J,Ce)|0,y=y+Math.imul(Q,Be)|0,P=P+Math.imul(Q,Ce)|0,R=R+Math.imul(H,Oe)|0,y=y+Math.imul(H,je)|0,y=y+Math.imul(V,Oe)|0,P=P+Math.imul(V,je)|0;var jo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(jo>>>26)|0,jo&=67108863,R=Math.imul(ve,Te),y=Math.imul(ve,Re),y=y+Math.imul(ge,Te)|0,P=Math.imul(ge,Re),R=R+Math.imul(he,Pe)|0,y=y+Math.imul(he,ke)|0,y=y+Math.imul(pe,Pe)|0,P=P+Math.imul(pe,ke)|0,R=R+Math.imul(ce,Ie)|0,y=y+Math.imul(ce,De)|0,y=y+Math.imul(ue,Ie)|0,P=P+Math.imul(ue,De)|0,R=R+Math.imul(te,Be)|0,y=y+Math.imul(te,Ce)|0,y=y+Math.imul(ie,Be)|0,P=P+Math.imul(ie,Ce)|0,R=R+Math.imul(J,Oe)|0,y=y+Math.imul(J,je)|0,y=y+Math.imul(Q,Oe)|0,P=P+Math.imul(Q,je)|0,R=R+Math.imul(H,Ne)|0,y=y+Math.imul(H,qe)|0,y=y+Math.imul(V,Ne)|0,P=P+Math.imul(V,qe)|0;var No=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(No>>>26)|0,No&=67108863,R=Math.imul(be,Te),y=Math.imul(be,Re),y=y+Math.imul(we,Te)|0,P=Math.imul(we,Re),R=R+Math.imul(ve,Pe)|0,y=y+Math.imul(ve,ke)|0,y=y+Math.imul(ge,Pe)|0,P=P+Math.imul(ge,ke)|0,R=R+Math.imul(he,Ie)|0,y=y+Math.imul(he,De)|0,y=y+Math.imul(pe,Ie)|0,P=P+Math.imul(pe,De)|0,R=R+Math.imul(ce,Be)|0,y=y+Math.imul(ce,Ce)|0,y=y+Math.imul(ue,Be)|0,P=P+Math.imul(ue,Ce)|0,R=R+Math.imul(te,Oe)|0,y=y+Math.imul(te,je)|0,y=y+Math.imul(ie,Oe)|0,P=P+Math.imul(ie,je)|0,R=R+Math.imul(J,Ne)|0,y=y+Math.imul(J,qe)|0,y=y+Math.imul(Q,Ne)|0,P=P+Math.imul(Q,qe)|0,R=R+Math.imul(H,Le)|0,y=y+Math.imul(H,Ue)|0,y=y+Math.imul(V,Le)|0,P=P+Math.imul(V,Ue)|0;var qo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(qo>>>26)|0,qo&=67108863,R=Math.imul(_e,Te),y=Math.imul(_e,Re),y=y+Math.imul(Ee,Te)|0,P=Math.imul(Ee,Re),R=R+Math.imul(be,Pe)|0,y=y+Math.imul(be,ke)|0,y=y+Math.imul(we,Pe)|0,P=P+Math.imul(we,ke)|0,R=R+Math.imul(ve,Ie)|0,y=y+Math.imul(ve,De)|0,y=y+Math.imul(ge,Ie)|0,P=P+Math.imul(ge,De)|0,R=R+Math.imul(he,Be)|0,y=y+Math.imul(he,Ce)|0,y=y+Math.imul(pe,Be)|0,P=P+Math.imul(pe,Ce)|0,R=R+Math.imul(ce,Oe)|0,y=y+Math.imul(ce,je)|0,y=y+Math.imul(ue,Oe)|0,P=P+Math.imul(ue,je)|0,R=R+Math.imul(te,Ne)|0,y=y+Math.imul(te,qe)|0,y=y+Math.imul(ie,Ne)|0,P=P+Math.imul(ie,qe)|0,R=R+Math.imul(J,Le)|0,y=y+Math.imul(J,Ue)|0,y=y+Math.imul(Q,Le)|0,P=P+Math.imul(Q,Ue)|0,R=R+Math.imul(H,Fe)|0,y=y+Math.imul(H,ze)|0,y=y+Math.imul(V,Fe)|0,P=P+Math.imul(V,ze)|0;var Lo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,R=Math.imul(xe,Te),y=Math.imul(xe,Re),y=y+Math.imul(Se,Te)|0,P=Math.imul(Se,Re),R=R+Math.imul(_e,Pe)|0,y=y+Math.imul(_e,ke)|0,y=y+Math.imul(Ee,Pe)|0,P=P+Math.imul(Ee,ke)|0,R=R+Math.imul(be,Ie)|0,y=y+Math.imul(be,De)|0,y=y+Math.imul(we,Ie)|0,P=P+Math.imul(we,De)|0,R=R+Math.imul(ve,Be)|0,y=y+Math.imul(ve,Ce)|0,y=y+Math.imul(ge,Be)|0,P=P+Math.imul(ge,Ce)|0,R=R+Math.imul(he,Oe)|0,y=y+Math.imul(he,je)|0,y=y+Math.imul(pe,Oe)|0,P=P+Math.imul(pe,je)|0,R=R+Math.imul(ce,Ne)|0,y=y+Math.imul(ce,qe)|0,y=y+Math.imul(ue,Ne)|0,P=P+Math.imul(ue,qe)|0,R=R+Math.imul(te,Le)|0,y=y+Math.imul(te,Ue)|0,y=y+Math.imul(ie,Le)|0,P=P+Math.imul(ie,Ue)|0,R=R+Math.imul(J,Fe)|0,y=y+Math.imul(J,ze)|0,y=y+Math.imul(Q,Fe)|0,P=P+Math.imul(Q,ze)|0,R=R+Math.imul(H,$e)|0,y=y+Math.imul(H,We)|0,y=y+Math.imul(V,$e)|0,P=P+Math.imul(V,We)|0;var Uo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,R=Math.imul(Me,Te),y=Math.imul(Me,Re),y=y+Math.imul(Ae,Te)|0,P=Math.imul(Ae,Re),R=R+Math.imul(xe,Pe)|0,y=y+Math.imul(xe,ke)|0,y=y+Math.imul(Se,Pe)|0,P=P+Math.imul(Se,ke)|0,R=R+Math.imul(_e,Ie)|0,y=y+Math.imul(_e,De)|0,y=y+Math.imul(Ee,Ie)|0,P=P+Math.imul(Ee,De)|0,R=R+Math.imul(be,Be)|0,y=y+Math.imul(be,Ce)|0,y=y+Math.imul(we,Be)|0,P=P+Math.imul(we,Ce)|0,R=R+Math.imul(ve,Oe)|0,y=y+Math.imul(ve,je)|0,y=y+Math.imul(ge,Oe)|0,P=P+Math.imul(ge,je)|0,R=R+Math.imul(he,Ne)|0,y=y+Math.imul(he,qe)|0,y=y+Math.imul(pe,Ne)|0,P=P+Math.imul(pe,qe)|0,R=R+Math.imul(ce,Le)|0,y=y+Math.imul(ce,Ue)|0,y=y+Math.imul(ue,Le)|0,P=P+Math.imul(ue,Ue)|0,R=R+Math.imul(te,Fe)|0,y=y+Math.imul(te,ze)|0,y=y+Math.imul(ie,Fe)|0,P=P+Math.imul(ie,ze)|0,R=R+Math.imul(J,$e)|0,y=y+Math.imul(J,We)|0,y=y+Math.imul(Q,$e)|0,P=P+Math.imul(Q,We)|0,R=R+Math.imul(H,lt)|0,y=y+Math.imul(H,ht)|0,y=y+Math.imul(V,lt)|0,P=P+Math.imul(V,ht)|0;var Fo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,R=Math.imul(Me,Pe),y=Math.imul(Me,ke),y=y+Math.imul(Ae,Pe)|0,P=Math.imul(Ae,ke),R=R+Math.imul(xe,Ie)|0,y=y+Math.imul(xe,De)|0,y=y+Math.imul(Se,Ie)|0,P=P+Math.imul(Se,De)|0,R=R+Math.imul(_e,Be)|0,y=y+Math.imul(_e,Ce)|0,y=y+Math.imul(Ee,Be)|0,P=P+Math.imul(Ee,Ce)|0,R=R+Math.imul(be,Oe)|0,y=y+Math.imul(be,je)|0,y=y+Math.imul(we,Oe)|0,P=P+Math.imul(we,je)|0,R=R+Math.imul(ve,Ne)|0,y=y+Math.imul(ve,qe)|0,y=y+Math.imul(ge,Ne)|0,P=P+Math.imul(ge,qe)|0,R=R+Math.imul(he,Le)|0,y=y+Math.imul(he,Ue)|0,y=y+Math.imul(pe,Le)|0,P=P+Math.imul(pe,Ue)|0,R=R+Math.imul(ce,Fe)|0,y=y+Math.imul(ce,ze)|0,y=y+Math.imul(ue,Fe)|0,P=P+Math.imul(ue,ze)|0,R=R+Math.imul(te,$e)|0,y=y+Math.imul(te,We)|0,y=y+Math.imul(ie,$e)|0,P=P+Math.imul(ie,We)|0,R=R+Math.imul(J,lt)|0,y=y+Math.imul(J,ht)|0,y=y+Math.imul(Q,lt)|0,P=P+Math.imul(Q,ht)|0;var zo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(zo>>>26)|0,zo&=67108863,R=Math.imul(Me,Ie),y=Math.imul(Me,De),y=y+Math.imul(Ae,Ie)|0,P=Math.imul(Ae,De),R=R+Math.imul(xe,Be)|0,y=y+Math.imul(xe,Ce)|0,y=y+Math.imul(Se,Be)|0,P=P+Math.imul(Se,Ce)|0,R=R+Math.imul(_e,Oe)|0,y=y+Math.imul(_e,je)|0,y=y+Math.imul(Ee,Oe)|0,P=P+Math.imul(Ee,je)|0,R=R+Math.imul(be,Ne)|0,y=y+Math.imul(be,qe)|0,y=y+Math.imul(we,Ne)|0,P=P+Math.imul(we,qe)|0,R=R+Math.imul(ve,Le)|0,y=y+Math.imul(ve,Ue)|0,y=y+Math.imul(ge,Le)|0,P=P+Math.imul(ge,Ue)|0,R=R+Math.imul(he,Fe)|0,y=y+Math.imul(he,ze)|0,y=y+Math.imul(pe,Fe)|0,P=P+Math.imul(pe,ze)|0,R=R+Math.imul(ce,$e)|0,y=y+Math.imul(ce,We)|0,y=y+Math.imul(ue,$e)|0,P=P+Math.imul(ue,We)|0,R=R+Math.imul(te,lt)|0,y=y+Math.imul(te,ht)|0,y=y+Math.imul(ie,lt)|0,P=P+Math.imul(ie,ht)|0;var $o=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+($o>>>26)|0,$o&=67108863,R=Math.imul(Me,Be),y=Math.imul(Me,Ce),y=y+Math.imul(Ae,Be)|0,P=Math.imul(Ae,Ce),R=R+Math.imul(xe,Oe)|0,y=y+Math.imul(xe,je)|0,y=y+Math.imul(Se,Oe)|0,P=P+Math.imul(Se,je)|0,R=R+Math.imul(_e,Ne)|0,y=y+Math.imul(_e,qe)|0,y=y+Math.imul(Ee,Ne)|0,P=P+Math.imul(Ee,qe)|0,R=R+Math.imul(be,Le)|0,y=y+Math.imul(be,Ue)|0,y=y+Math.imul(we,Le)|0,P=P+Math.imul(we,Ue)|0,R=R+Math.imul(ve,Fe)|0,y=y+Math.imul(ve,ze)|0,y=y+Math.imul(ge,Fe)|0,P=P+Math.imul(ge,ze)|0,R=R+Math.imul(he,$e)|0,y=y+Math.imul(he,We)|0,y=y+Math.imul(pe,$e)|0,P=P+Math.imul(pe,We)|0,R=R+Math.imul(ce,lt)|0,y=y+Math.imul(ce,ht)|0,y=y+Math.imul(ue,lt)|0,P=P+Math.imul(ue,ht)|0;var Wo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,R=Math.imul(Me,Oe),y=Math.imul(Me,je),y=y+Math.imul(Ae,Oe)|0,P=Math.imul(Ae,je),R=R+Math.imul(xe,Ne)|0,y=y+Math.imul(xe,qe)|0,y=y+Math.imul(Se,Ne)|0,P=P+Math.imul(Se,qe)|0,R=R+Math.imul(_e,Le)|0,y=y+Math.imul(_e,Ue)|0,y=y+Math.imul(Ee,Le)|0,P=P+Math.imul(Ee,Ue)|0,R=R+Math.imul(be,Fe)|0,y=y+Math.imul(be,ze)|0,y=y+Math.imul(we,Fe)|0,P=P+Math.imul(we,ze)|0,R=R+Math.imul(ve,$e)|0,y=y+Math.imul(ve,We)|0,y=y+Math.imul(ge,$e)|0,P=P+Math.imul(ge,We)|0,R=R+Math.imul(he,lt)|0,y=y+Math.imul(he,ht)|0,y=y+Math.imul(pe,lt)|0,P=P+Math.imul(pe,ht)|0;var Ko=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,R=Math.imul(Me,Ne),y=Math.imul(Me,qe),y=y+Math.imul(Ae,Ne)|0,P=Math.imul(Ae,qe),R=R+Math.imul(xe,Le)|0,y=y+Math.imul(xe,Ue)|0,y=y+Math.imul(Se,Le)|0,P=P+Math.imul(Se,Ue)|0,R=R+Math.imul(_e,Fe)|0,y=y+Math.imul(_e,ze)|0,y=y+Math.imul(Ee,Fe)|0,P=P+Math.imul(Ee,ze)|0,R=R+Math.imul(be,$e)|0,y=y+Math.imul(be,We)|0,y=y+Math.imul(we,$e)|0,P=P+Math.imul(we,We)|0,R=R+Math.imul(ve,lt)|0,y=y+Math.imul(ve,ht)|0,y=y+Math.imul(ge,lt)|0,P=P+Math.imul(ge,ht)|0;var Ho=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,R=Math.imul(Me,Le),y=Math.imul(Me,Ue),y=y+Math.imul(Ae,Le)|0,P=Math.imul(Ae,Ue),R=R+Math.imul(xe,Fe)|0,y=y+Math.imul(xe,ze)|0,y=y+Math.imul(Se,Fe)|0,P=P+Math.imul(Se,ze)|0,R=R+Math.imul(_e,$e)|0,y=y+Math.imul(_e,We)|0,y=y+Math.imul(Ee,$e)|0,P=P+Math.imul(Ee,We)|0,R=R+Math.imul(be,lt)|0,y=y+Math.imul(be,ht)|0,y=y+Math.imul(we,lt)|0,P=P+Math.imul(we,ht)|0;var Vo=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,R=Math.imul(Me,Fe),y=Math.imul(Me,ze),y=y+Math.imul(Ae,Fe)|0,P=Math.imul(Ae,ze),R=R+Math.imul(xe,$e)|0,y=y+Math.imul(xe,We)|0,y=y+Math.imul(Se,$e)|0,P=P+Math.imul(Se,We)|0,R=R+Math.imul(_e,lt)|0,y=y+Math.imul(_e,ht)|0,y=y+Math.imul(Ee,lt)|0,P=P+Math.imul(Ee,ht)|0;var ru=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(ru>>>26)|0,ru&=67108863,R=Math.imul(Me,$e),y=Math.imul(Me,We),y=y+Math.imul(Ae,$e)|0,P=Math.imul(Ae,We),R=R+Math.imul(xe,lt)|0,y=y+Math.imul(xe,ht)|0,y=y+Math.imul(Se,lt)|0,P=P+Math.imul(Se,ht)|0;var iu=(A+R|0)+((y&8191)<<13)|0;A=(P+(y>>>13)|0)+(iu>>>26)|0,iu&=67108863,R=Math.imul(Me,lt),y=Math.imul(Me,ht),y=y+Math.imul(Ae,lt)|0,P=Math.imul(Ae,ht);var nu=(A+R|0)+((y&8191)<<13)|0;return A=(P+(y>>>13)|0)+(nu>>>26)|0,nu&=67108863,m[0]=Do,m[1]=Bo,m[2]=Co,m[3]=Oo,m[4]=jo,m[5]=No,m[6]=qo,m[7]=Lo,m[8]=Uo,m[9]=Fo,m[10]=zo,m[11]=$o,m[12]=Wo,m[13]=Ko,m[14]=Ho,m[15]=Vo,m[16]=ru,m[17]=iu,m[18]=nu,A!==0&&(m[19]=A,p.length++),p};Math.imul||(D=O);function I(_,a,u){u.negative=a.negative^_.negative,u.length=_.length+a.length;for(var p=0,v=0,g=0;g<u.length-1;g++){var m=v;v=0;for(var A=p&67108863,R=Math.min(g,a.length-1),y=Math.max(0,g-_.length+1);y<=R;y++){var P=g-y,W=_.words[P]|0,H=a.words[y]|0,V=W*H,Z=V&67108863;m=m+(V/67108864|0)|0,Z=Z+A|0,A=Z&67108863,m=m+(Z>>>26)|0,v+=m>>>26,m&=67108863}u.words[g]=A,p=m,m=v}return p!==0?u.words[g]=p:u.length--,u._strip()}function L(_,a,u){return I(_,a,u)}n.prototype.mulTo=function(a,u){var p,v=this.length+a.length;return this.length===10&&a.length===10?p=D(this,a,u):v<63?p=O(this,a,u):v<1024?p=I(this,a,u):p=L(this,a,u),p};function U(_,a){this.x=_,this.y=a}U.prototype.makeRBT=function(a){for(var u=new Array(a),p=n.prototype._countBits(a)-1,v=0;v<a;v++)u[v]=this.revBin(v,p,a);return u},U.prototype.revBin=function(a,u,p){if(a===0||a===p-1)return a;for(var v=0,g=0;g<u;g++)v|=(a&1)<<u-g-1,a>>=1;return v},U.prototype.permute=function(a,u,p,v,g,m){for(var A=0;A<m;A++)v[A]=u[a[A]],g[A]=p[a[A]]},U.prototype.transform=function(a,u,p,v,g,m){this.permute(m,a,u,p,v,g);for(var A=1;A<g;A<<=1)for(var R=A<<1,y=Math.cos(2*Math.PI/R),P=Math.sin(2*Math.PI/R),W=0;W<g;W+=R)for(var H=y,V=P,Z=0;Z<A;Z++){var J=p[W+Z],Q=v[W+Z],me=p[W+Z+A],te=v[W+Z+A],ie=H*me-V*te;te=H*te+V*me,me=ie,p[W+Z]=J+me,v[W+Z]=Q+te,p[W+Z+A]=J-me,v[W+Z+A]=Q-te,Z!==R&&(ie=y*H-P*V,V=y*V+P*H,H=ie)}},U.prototype.guessLen13b=function(a,u){var p=Math.max(u,a)|1,v=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+v},U.prototype.conjugate=function(a,u,p){if(!(p<=1))for(var v=0;v<p/2;v++){var g=a[v];a[v]=a[p-v-1],a[p-v-1]=g,g=u[v],u[v]=-u[p-v-1],u[p-v-1]=-g}},U.prototype.normalize13b=function(a,u){for(var p=0,v=0;v<u/2;v++){var g=Math.round(a[2*v+1]/u)*8192+Math.round(a[2*v]/u)+p;a[v]=g&67108863,g<67108864?p=0:p=g/67108864|0}return a},U.prototype.convert13b=function(a,u,p,v){for(var g=0,m=0;m<u;m++)g=g+(a[m]|0),p[2*m]=g&8191,g=g>>>13,p[2*m+1]=g&8191,g=g>>>13;for(m=2*u;m<v;++m)p[m]=0;r(g===0),r((g&-8192)===0)},U.prototype.stub=function(a){for(var u=new Array(a),p=0;p<a;p++)u[p]=0;return u},U.prototype.mulp=function(a,u,p){var v=2*this.guessLen13b(a.length,u.length),g=this.makeRBT(v),m=this.stub(v),A=new Array(v),R=new Array(v),y=new Array(v),P=new Array(v),W=new Array(v),H=new Array(v),V=p.words;V.length=v,this.convert13b(a.words,a.length,A,v),this.convert13b(u.words,u.length,P,v),this.transform(A,m,R,y,v,g),this.transform(P,m,W,H,v,g);for(var Z=0;Z<v;Z++){var J=R[Z]*W[Z]-y[Z]*H[Z];y[Z]=R[Z]*H[Z]+y[Z]*W[Z],R[Z]=J}return this.conjugate(R,y,v),this.transform(R,y,V,m,v,g),this.conjugate(V,m,v),this.normalize13b(V,v),p.negative=a.negative^u.negative,p.length=a.length+u.length,p._strip()},n.prototype.mul=function(a){var u=new n(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},n.prototype.mulf=function(a){var u=new n(null);return u.words=new Array(this.length+a.length),L(this,a,u)},n.prototype.imul=function(a){return this.clone().mulTo(a,this)},n.prototype.imuln=function(a){var u=a<0;u&&(a=-a),r(typeof a=="number"),r(a<67108864);for(var p=0,v=0;v<this.length;v++){var g=(this.words[v]|0)*a,m=(g&67108863)+(p&67108863);p>>=26,p+=g/67108864|0,p+=m>>>26,this.words[v]=m&67108863}return p!==0&&(this.words[v]=p,this.length++),u?this.ineg():this},n.prototype.muln=function(a){return this.clone().imuln(a)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(a){var u=k(a);if(u.length===0)return new n(1);for(var p=this,v=0;v<u.length&&u[v]===0;v++,p=p.sqr());if(++v<u.length)for(var g=p.sqr();v<u.length;v++,g=g.sqr())u[v]!==0&&(p=p.mul(g));return p},n.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var u=a%26,p=(a-u)/26,v=67108863>>>26-u<<26-u,g;if(u!==0){var m=0;for(g=0;g<this.length;g++){var A=this.words[g]&v,R=(this.words[g]|0)-A<<u;this.words[g]=R|m,m=A>>>26-u}m&&(this.words[g]=m,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this._strip()},n.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},n.prototype.iushrn=function(a,u,p){r(typeof a=="number"&&a>=0);var v;u?v=(u-u%26)/26:v=0;var g=a%26,m=Math.min((a-g)/26,this.length),A=67108863^67108863>>>g<<g,R=p;if(v-=m,v=Math.max(0,v),R){for(var y=0;y<m;y++)R.words[y]=this.words[y];R.length=m}if(m!==0)if(this.length>m)for(this.length-=m,y=0;y<this.length;y++)this.words[y]=this.words[y+m];else this.words[0]=0,this.length=1;var P=0;for(y=this.length-1;y>=0&&(P!==0||y>=v);y--){var W=this.words[y]|0;this.words[y]=P<<26-g|W>>>g,P=W&A}return R&&P!==0&&(R.words[R.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(a,u,p){return r(this.negative===0),this.iushrn(a,u,p)},n.prototype.shln=function(a){return this.clone().ishln(a)},n.prototype.ushln=function(a){return this.clone().iushln(a)},n.prototype.shrn=function(a){return this.clone().ishrn(a)},n.prototype.ushrn=function(a){return this.clone().iushrn(a)},n.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,p=(a-u)/26,v=1<<u;if(this.length<=p)return!1;var g=this.words[p];return!!(g&v)},n.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var u=a%26,p=(a-u)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(u!==0&&p++,this.length=Math.min(p,this.length),u!==0){var v=67108863^67108863>>>u<<u;this.words[this.length-1]&=v}return this._strip()},n.prototype.maskn=function(a){return this.clone().imaskn(a)},n.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},n.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},n.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},n.prototype.addn=function(a){return this.clone().iaddn(a)},n.prototype.subn=function(a){return this.clone().isubn(a)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(a,u,p){var v=a.length+p,g;this._expand(v);var m,A=0;for(g=0;g<a.length;g++){m=(this.words[g+p]|0)+A;var R=(a.words[g]|0)*u;m-=R&67108863,A=(m>>26)-(R/67108864|0),this.words[g+p]=m&67108863}for(;g<this.length-p;g++)m=(this.words[g+p]|0)+A,A=m>>26,this.words[g+p]=m&67108863;if(A===0)return this._strip();for(r(A===-1),A=0,g=0;g<this.length;g++)m=-(this.words[g]|0)+A,A=m>>26,this.words[g]=m&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(a,u){var p=this.length-a.length,v=this.clone(),g=a,m=g.words[g.length-1]|0,A=this._countBits(m);p=26-A,p!==0&&(g=g.ushln(p),v.iushln(p),m=g.words[g.length-1]|0);var R=v.length-g.length,y;if(u!=="mod"){y=new n(null),y.length=R+1,y.words=new Array(y.length);for(var P=0;P<y.length;P++)y.words[P]=0}var W=v.clone()._ishlnsubmul(g,1,R);W.negative===0&&(v=W,y&&(y.words[R]=1));for(var H=R-1;H>=0;H--){var V=(v.words[g.length+H]|0)*67108864+(v.words[g.length+H-1]|0);for(V=Math.min(V/m|0,67108863),v._ishlnsubmul(g,V,H);v.negative!==0;)V--,v.negative=0,v._ishlnsubmul(g,1,H),v.isZero()||(v.negative^=1);y&&(y.words[H]=V)}return y&&y._strip(),v._strip(),u!=="div"&&p!==0&&v.iushrn(p),{div:y||null,mod:v}},n.prototype.divmod=function(a,u,p){if(r(!a.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var v,g,m;return this.negative!==0&&a.negative===0?(m=this.neg().divmod(a,u),u!=="mod"&&(v=m.div.neg()),u!=="div"&&(g=m.mod.neg(),p&&g.negative!==0&&g.iadd(a)),{div:v,mod:g}):this.negative===0&&a.negative!==0?(m=this.divmod(a.neg(),u),u!=="mod"&&(v=m.div.neg()),{div:v,mod:m.mod}):this.negative&a.negative?(m=this.neg().divmod(a.neg(),u),u!=="div"&&(g=m.mod.neg(),p&&g.negative!==0&&g.isub(a)),{div:m.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new n(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new n(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new n(this.modrn(a.words[0]))}:this._wordDiv(a,u)},n.prototype.div=function(a){return this.divmod(a,"div",!1).div},n.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},n.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},n.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var p=u.div.negative!==0?u.mod.isub(a):u.mod,v=a.ushrn(1),g=a.andln(1),m=p.cmp(v);return m<0||g===1&&m===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},n.prototype.modrn=function(a){var u=a<0;u&&(a=-a),r(a<=67108863);for(var p=(1<<26)%a,v=0,g=this.length-1;g>=0;g--)v=(p*v+(this.words[g]|0))%a;return u?-v:v},n.prototype.modn=function(a){return this.modrn(a)},n.prototype.idivn=function(a){var u=a<0;u&&(a=-a),r(a<=67108863);for(var p=0,v=this.length-1;v>=0;v--){var g=(this.words[v]|0)+p*67108864;this.words[v]=g/a|0,p=g%a}return this._strip(),u?this.ineg():this},n.prototype.divn=function(a){return this.clone().idivn(a)},n.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var u=this,p=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var v=new n(1),g=new n(0),m=new n(0),A=new n(1),R=0;u.isEven()&&p.isEven();)u.iushrn(1),p.iushrn(1),++R;for(var y=p.clone(),P=u.clone();!u.isZero();){for(var W=0,H=1;!(u.words[0]&H)&&W<26;++W,H<<=1);if(W>0)for(u.iushrn(W);W-- >0;)(v.isOdd()||g.isOdd())&&(v.iadd(y),g.isub(P)),v.iushrn(1),g.iushrn(1);for(var V=0,Z=1;!(p.words[0]&Z)&&V<26;++V,Z<<=1);if(V>0)for(p.iushrn(V);V-- >0;)(m.isOdd()||A.isOdd())&&(m.iadd(y),A.isub(P)),m.iushrn(1),A.iushrn(1);u.cmp(p)>=0?(u.isub(p),v.isub(m),g.isub(A)):(p.isub(u),m.isub(v),A.isub(g))}return{a:m,b:A,gcd:p.iushln(R)}},n.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var u=this,p=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var v=new n(1),g=new n(0),m=p.clone();u.cmpn(1)>0&&p.cmpn(1)>0;){for(var A=0,R=1;!(u.words[0]&R)&&A<26;++A,R<<=1);if(A>0)for(u.iushrn(A);A-- >0;)v.isOdd()&&v.iadd(m),v.iushrn(1);for(var y=0,P=1;!(p.words[0]&P)&&y<26;++y,P<<=1);if(y>0)for(p.iushrn(y);y-- >0;)g.isOdd()&&g.iadd(m),g.iushrn(1);u.cmp(p)>=0?(u.isub(p),v.isub(g)):(p.isub(u),g.isub(v))}var W;return u.cmpn(1)===0?W=v:W=g,W.cmpn(0)<0&&W.iadd(a),W},n.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),p=a.clone();u.negative=0,p.negative=0;for(var v=0;u.isEven()&&p.isEven();v++)u.iushrn(1),p.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=u.cmp(p);if(g<0){var m=u;u=p,p=m}else if(g===0||p.cmpn(1)===0)break;u.isub(p)}while(!0);return p.iushln(v)},n.prototype.invm=function(a){return this.egcd(a).a.umod(a)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(a){return this.words[0]&a},n.prototype.bincn=function(a){r(typeof a=="number");var u=a%26,p=(a-u)/26,v=1<<u;if(this.length<=p)return this._expand(p+1),this.words[p]|=v,this;for(var g=v,m=p;g!==0&&m<this.length;m++){var A=this.words[m]|0;A+=g,g=A>>>26,A&=67108863,this.words[m]=A}return g!==0&&(this.words[m]=g,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var p;if(this.length>1)p=1;else{u&&(a=-a),r(a<=67108863,"Number is too big");var v=this.words[0]|0;p=v===a?0:v<a?-1:1}return this.negative!==0?-p|0:p},n.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},n.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,p=this.length-1;p>=0;p--){var v=this.words[p]|0,g=a.words[p]|0;if(v!==g){v<g?u=-1:v>g&&(u=1);break}}return u},n.prototype.gtn=function(a){return this.cmpn(a)===1},n.prototype.gt=function(a){return this.cmp(a)===1},n.prototype.gten=function(a){return this.cmpn(a)>=0},n.prototype.gte=function(a){return this.cmp(a)>=0},n.prototype.ltn=function(a){return this.cmpn(a)===-1},n.prototype.lt=function(a){return this.cmp(a)===-1},n.prototype.lten=function(a){return this.cmpn(a)<=0},n.prototype.lte=function(a){return this.cmp(a)<=0},n.prototype.eqn=function(a){return this.cmpn(a)===0},n.prototype.eq=function(a){return this.cmp(a)===0},n.red=function(a){return new w(a)},n.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(a){return this.red=a,this},n.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},n.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},n.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},n.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},n.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},n.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},n.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},n.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var $={k256:null,p224:null,p192:null,p25519:null};function K(_,a){this.name=_,this.p=new n(a,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var a=new n(null);return a.words=new Array(Math.ceil(this.n/13)),a},K.prototype.ireduce=function(a){var u=a,p;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),p=u.bitLength();while(p>this.n);var v=p<this.n?-1:u.ucmp(this.p);return v===0?(u.words[0]=0,u.length=1):v>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},K.prototype.split=function(a,u){a.iushrn(this.n,0,u)},K.prototype.imulK=function(a){return a.imul(this.k)};function q(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(q,K),q.prototype.split=function(a,u){for(var p=4194303,v=Math.min(a.length,9),g=0;g<v;g++)u.words[g]=a.words[g];if(u.length=v,a.length<=9){a.words[0]=0,a.length=1;return}var m=a.words[9];for(u.words[u.length++]=m&p,g=10;g<a.length;g++){var A=a.words[g]|0;a.words[g-10]=(A&p)<<4|m>>>22,m=A}m>>>=22,a.words[g-10]=m,m===0&&a.length>10?a.length-=10:a.length-=9},q.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,p=0;p<a.length;p++){var v=a.words[p]|0;u+=v*977,a.words[p]=u&67108863,u=v*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function F(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(F,K);function G(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(G,K);function B(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(B,K),B.prototype.imulK=function(a){for(var u=0,p=0;p<a.length;p++){var v=(a.words[p]|0)*19+u,g=v&67108863;v>>>=26,a.words[p]=g,u=v}return u!==0&&(a.words[a.length++]=u),a},n._prime=function(a){if($[a])return $[a];var u;if(a==="k256")u=new q;else if(a==="p224")u=new F;else if(a==="p192")u=new G;else if(a==="p25519")u=new B;else throw new Error("Unknown prime "+a);return $[a]=u,u};function w(_){if(typeof _=="string"){var a=n._prime(_);this.m=a.p,this.prime=a}else r(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}w.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},w.prototype._verify2=function(a,u){r((a.negative|u.negative)===0,"red works only with positives"),r(a.red&&a.red===u.red,"red works only with red numbers")},w.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(d(a,a.umod(this.m)._forceRed(this)),a)},w.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},w.prototype.add=function(a,u){this._verify2(a,u);var p=a.add(u);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},w.prototype.iadd=function(a,u){this._verify2(a,u);var p=a.iadd(u);return p.cmp(this.m)>=0&&p.isub(this.m),p},w.prototype.sub=function(a,u){this._verify2(a,u);var p=a.sub(u);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},w.prototype.isub=function(a,u){this._verify2(a,u);var p=a.isub(u);return p.cmpn(0)<0&&p.iadd(this.m),p},w.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},w.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},w.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},w.prototype.isqr=function(a){return this.imul(a,a.clone())},w.prototype.sqr=function(a){return this.mul(a,a)},w.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(r(u%2===1),u===3){var p=this.m.add(new n(1)).iushrn(2);return this.pow(a,p)}for(var v=this.m.subn(1),g=0;!v.isZero()&&v.andln(1)===0;)g++,v.iushrn(1);r(!v.isZero());var m=new n(1).toRed(this),A=m.redNeg(),R=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new n(2*y*y).toRed(this);this.pow(y,R).cmp(A)!==0;)y.redIAdd(A);for(var P=this.pow(y,v),W=this.pow(a,v.addn(1).iushrn(1)),H=this.pow(a,v),V=g;H.cmp(m)!==0;){for(var Z=H,J=0;Z.cmp(m)!==0;J++)Z=Z.redSqr();r(J<V);var Q=this.pow(P,new n(1).iushln(V-J-1));W=W.redMul(Q),P=Q.redSqr(),H=H.redMul(P),V=J}return W},w.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},w.prototype.pow=function(a,u){if(u.isZero())return new n(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var p=4,v=new Array(1<<p);v[0]=new n(1).toRed(this),v[1]=a;for(var g=2;g<v.length;g++)v[g]=this.mul(v[g-1],a);var m=v[0],A=0,R=0,y=u.bitLength()%26;for(y===0&&(y=26),g=u.length-1;g>=0;g--){for(var P=u.words[g],W=y-1;W>=0;W--){var H=P>>W&1;if(m!==v[0]&&(m=this.sqr(m)),H===0&&A===0){R=0;continue}A<<=1,A|=H,R++,!(R!==p&&(g!==0||W!==0))&&(m=this.mul(m,v[A]),R=0,A=0)}y=26}return m},w.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},w.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},n.mont=function(a){return new M(a)};function M(_){w.call(this,_),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(M,w),M.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},M.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},M.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(u),v=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(v).iushrn(this.shift),m=g;return g.cmp(this.m)>=0?m=g.isub(this.m):g.cmpn(0)<0&&(m=g.iadd(this.m)),m._forceRed(this)},M.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new n(0)._forceRed(this);var p=a.mul(u),v=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(v).iushrn(this.shift),m=g;return g.cmp(this.m)>=0?m=g.isub(this.m):g.cmpn(0)<0&&(m=g.iadd(this.m)),m._forceRed(this)},M.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof d5>"u"||d5,aU)});var Ow=z((sMe,fU)=>{"use strict";x();var Cw=er(),op=Cw.Buffer,So={},Mo;for(Mo in Cw)Cw.hasOwnProperty(Mo)&&(Mo==="SlowBuffer"||Mo==="Buffer"||(So[Mo]=Cw[Mo]));var sp=So.Buffer={};for(Mo in op)op.hasOwnProperty(Mo)&&(Mo==="allocUnsafe"||Mo==="allocUnsafeSlow"||(sp[Mo]=op[Mo]));So.Buffer.prototype=op.prototype;(!sp.from||sp.from===Uint8Array.from)&&(sp.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return op(t,e,r)});sp.alloc||(sp.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var i=op(t);return!e||e.length===0?i.fill(0):typeof r=="string"?i.fill(e,r):i.fill(e),i});if(!So.kStringMaxLength)try{So.kStringMaxLength=C.default.binding("buffer").kStringMaxLength}catch{}So.constants||(So.constants={MAX_LENGTH:So.kMaxLength},So.kStringMaxLength&&(So.constants.MAX_STRING_LENGTH=So.kStringMaxLength));fU.exports=So});var jw=z(cU=>{"use strict";x();var Rle=Qe();function Ao(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}cU.Reporter=Ao;Ao.prototype.isError=function(e){return e instanceof ap};Ao.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};Ao.prototype.restore=function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};Ao.prototype.enterKey=function(e){return this._reporterState.path.push(e)};Ao.prototype.exitKey=function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)};Ao.prototype.leaveKey=function(e,r,i){let n=this._reporterState;this.exitKey(e),n.obj!==null&&(n.obj[r]=i)};Ao.prototype.path=function(){return this._reporterState.path.join("/")};Ao.prototype.enterObject=function(){let e=this._reporterState,r=e.obj;return e.obj={},r};Ao.prototype.leaveObject=function(e){let r=this._reporterState,i=r.obj;return r.obj=e,i};Ao.prototype.error=function(e){let r,i=this._reporterState,n=e instanceof ap;if(n?r=e:r=new ap(i.path.map(function(o){return"["+JSON.stringify(o)+"]"}).join(""),e.message||e,e.stack),!i.options.partial)throw r;return n||i.errors.push(r),r};Ao.prototype.wrapResult=function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function ap(t,e){this.path=t,this.rethrow(e)}Rle(ap,Error);ap.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ap),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var up=z(h5=>{"use strict";x();var Ple=Qe(),Nw=jw().Reporter,fp=Ow().Buffer;function To(t,e){if(Nw.call(this,e),!fp.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}Ple(To,Nw);h5.DecoderBuffer=To;To.isDecoderBuffer=function(e){return e instanceof To?!0:typeof e=="object"&&fp.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};To.prototype.save=function(){return{offset:this.offset,reporter:Nw.prototype.save.call(this)}};To.prototype.restore=function(e){let r=new To(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,Nw.prototype.restore.call(this,e.reporter),r};To.prototype.isEmpty=function(){return this.offset===this.length};To.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};To.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let i=new To(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i};To.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function cp(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return cp.isEncoderBuffer(r)||(r=new cp(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=fp.byteLength(t);else if(fp.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}h5.EncoderBuffer=cp;cp.isEncoderBuffer=function(e){return e instanceof cp?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};cp.prototype.join=function(e,r){return e||(e=fp.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(i){i.join(e,r),r+=i.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):fp.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var qw=z((lMe,dU)=>{"use strict";x();var kle=jw().Reporter,Ile=up().EncoderBuffer,Dle=up().DecoderBuffer,cn=zn(),uU=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],Ble=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(uU),Cle=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function fr(t,e,r){let i={};this._baseState=i,i.name=r,i.enc=t,i.parent=e||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}dU.exports=fr;var Ole=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];fr.prototype.clone=function(){let e=this._baseState,r={};Ole.forEach(function(n){r[n]=e[n]});let i=new this.constructor(r.parent);return i._baseState=r,i};fr.prototype._wrap=function(){let e=this._baseState;Ble.forEach(function(r){this[r]=function(){let n=new this.constructor(this);return e.children.push(n),n[r].apply(n,arguments)}},this)};fr.prototype._init=function(e){let r=this._baseState;cn(r.parent===null),e.call(this),r.children=r.children.filter(function(i){return i._baseState.parent===this},this),cn.equal(r.children.length,1,"Root node can have only one child")};fr.prototype._useArgs=function(e){let r=this._baseState,i=e.filter(function(n){return n instanceof this.constructor},this);e=e.filter(function(n){return!(n instanceof this.constructor)},this),i.length!==0&&(cn(r.children===null),r.children=i,i.forEach(function(n){n._baseState.parent=this},this)),e.length!==0&&(cn(r.args===null),r.args=e,r.reverseArgs=e.map(function(n){if(typeof n!="object"||n.constructor!==Object)return n;let o={};return Object.keys(n).forEach(function(s){s==(s|0)&&(s|=0);let f=n[s];o[f]=s}),o}))};Cle.forEach(function(t){fr.prototype[t]=function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});uU.forEach(function(t){fr.prototype[t]=function(){let r=this._baseState,i=Array.prototype.slice.call(arguments);return cn(r.tag===null),r.tag=t,this._useArgs(i),this}});fr.prototype.use=function(e){cn(e);let r=this._baseState;return cn(r.use===null),r.use=e,this};fr.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};fr.prototype.def=function(e){let r=this._baseState;return cn(r.default===null),r.default=e,r.optional=!0,this};fr.prototype.explicit=function(e){let r=this._baseState;return cn(r.explicit===null&&r.implicit===null),r.explicit=e,this};fr.prototype.implicit=function(e){let r=this._baseState;return cn(r.explicit===null&&r.implicit===null),r.implicit=e,this};fr.prototype.obj=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};fr.prototype.key=function(e){let r=this._baseState;return cn(r.key===null),r.key=e,this};fr.prototype.any=function(){let e=this._baseState;return e.any=!0,this};fr.prototype.choice=function(e){let r=this._baseState;return cn(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(i){return e[i]})),this};fr.prototype.contains=function(e){let r=this._baseState;return cn(r.use===null),r.contains=e,this};fr.prototype._decode=function(e,r){let i=this._baseState;if(i.parent===null)return e.wrapResult(i.children[0]._decode(e,r));let n=i.default,o=!0,s=null;if(i.key!==null&&(s=e.enterKey(i.key)),i.optional){let c=null;if(i.explicit!==null?c=i.explicit:i.implicit!==null?c=i.implicit:i.tag!==null&&(c=i.tag),c===null&&!i.any){let d=e.save();try{i.choice===null?this._decodeGeneric(i.tag,e,r):this._decodeChoice(e,r),o=!0}catch{o=!1}e.restore(d)}else if(o=this._peekTag(e,c,i.any),e.isError(o))return o}let f;if(i.obj&&o&&(f=e.enterObject()),o){if(i.explicit!==null){let d=this._decodeTag(e,i.explicit);if(e.isError(d))return d;e=d}let c=e.offset;if(i.use===null&&i.choice===null){let d;i.any&&(d=e.save());let l=this._decodeTag(e,i.implicit!==null?i.implicit:i.tag,i.any);if(e.isError(l))return l;i.any?n=e.raw(d):e=l}if(r&&r.track&&i.tag!==null&&r.track(e.path(),c,e.length,"tagged"),r&&r.track&&i.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),i.any||(i.choice===null?n=this._decodeGeneric(i.tag,e,r):n=this._decodeChoice(e,r)),e.isError(n))return n;if(!i.any&&i.choice===null&&i.children!==null&&i.children.forEach(function(l){l._decode(e,r)}),i.contains&&(i.tag==="octstr"||i.tag==="bitstr")){let d=new Dle(n);n=this._getUse(i.contains,e._reporterState.obj)._decode(d,r)}}return i.obj&&o&&(n=e.leaveObject(f)),i.key!==null&&(n!==null||o===!0)?e.leaveKey(s,i.key,n):s!==null&&e.exitKey(s),n};fr.prototype._decodeGeneric=function(e,r,i){let n=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,n.args[0],i):/str$/.test(e)?this._decodeStr(r,e,i):e==="objid"&&n.args?this._decodeObjid(r,n.args[0],n.args[1],i):e==="objid"?this._decodeObjid(r,null,null,i):e==="gentime"||e==="utctime"?this._decodeTime(r,e,i):e==="null_"?this._decodeNull(r,i):e==="bool"?this._decodeBool(r,i):e==="objDesc"?this._decodeStr(r,e,i):e==="int"||e==="enum"?this._decodeInt(r,n.args&&n.args[0],i):n.use!==null?this._getUse(n.use,r._reporterState.obj)._decode(r,i):r.error("unknown tag: "+e)};fr.prototype._getUse=function(e,r){let i=this._baseState;return i.useDecoder=this._use(e,r),cn(i.useDecoder._baseState.parent===null),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder};fr.prototype._decodeChoice=function(e,r){let i=this._baseState,n=null,o=!1;return Object.keys(i.choice).some(function(s){let f=e.save(),c=i.choice[s];try{let d=c._decode(e,r);if(e.isError(d))return!1;n={type:s,value:d},o=!0}catch{return e.restore(f),!1}return!0},this),o?n:e.error("Choice not matched")};fr.prototype._createEncoderBuffer=function(e){return new Ile(e,this.reporter)};fr.prototype._encode=function(e,r,i){let n=this._baseState;if(n.default!==null&&n.default===e)return;let o=this._encodeValue(e,r,i);if(o!==void 0&&!this._skipDefault(o,r,i))return o};fr.prototype._encodeValue=function(e,r,i){let n=this._baseState;if(n.parent===null)return n.children[0]._encode(e,r||new kle);let o=null;if(this.reporter=r,n.optional&&e===void 0)if(n.default!==null)e=n.default;else return;let s=null,f=!1;if(n.any)o=this._createEncoderBuffer(e);else if(n.choice)o=this._encodeChoice(e,r);else if(n.contains)s=this._getUse(n.contains,i)._encode(e,r),f=!0;else if(n.children)s=n.children.map(function(c){if(c._baseState.tag==="null_")return c._encode(null,r,e);if(c._baseState.key===null)return r.error("Child should have a key");let d=r.enterKey(c._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let l=c._encode(e[c._baseState.key],r,e);return r.leaveKey(d),l},this).filter(function(c){return c}),s=this._createEncoderBuffer(s);else if(n.tag==="seqof"||n.tag==="setof"){if(!(n.args&&n.args.length===1))return r.error("Too many args for : "+n.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let c=this.clone();c._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(d){let l=this._baseState;return this._getUse(l.args[0],e)._encode(d,r)},c))}else n.use!==null?o=this._getUse(n.use,i)._encode(e,r):(s=this._encodePrimitive(n.tag,e),f=!0);if(!n.any&&n.choice===null){let c=n.implicit!==null?n.implicit:n.tag,d=n.implicit===null?"universal":"context";c===null?n.use===null&&r.error("Tag could be omitted only for .use()"):n.use===null&&(o=this._encodeComposite(c,f,d,s))}return n.explicit!==null&&(o=this._encodeComposite(n.explicit,!1,"context",o)),o};fr.prototype._encodeChoice=function(e,r){let i=this._baseState,n=i.choice[e.type];return n||cn(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),n._encode(e.value,r)};fr.prototype._encodePrimitive=function(e,r){let i=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&i.args)return this._encodeObjid(r,i.reverseArgs[0],i.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,i.args&&i.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};fr.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};fr.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var Lw=z(Jd=>{"use strict";x();function lU(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let i=t[r];e[i]=r}),e}Jd.tagClass={0:"universal",1:"application",2:"context",3:"private"};Jd.tagClassByName=lU(Jd.tagClass);Jd.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Jd.tagByName=lU(Jd.tag)});var y5=z((mMe,yU)=>{"use strict";x();var jle=Qe(),df=Ow().Buffer,hU=qw(),p5=Lw();function pU(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new vs,this.tree._init(t.body)}yU.exports=pU;pU.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function vs(t){hU.call(this,"der",t)}jle(vs,hU);vs.prototype._encodeComposite=function(e,r,i,n){let o=Nle(e,r,i,this.reporter);if(n.length<128){let c=df.alloc(2);return c[0]=o,c[1]=n.length,this._createEncoderBuffer([c,n])}let s=1;for(let c=n.length;c>=256;c>>=8)s++;let f=df.alloc(1+1+s);f[0]=o,f[1]=128|s;for(let c=1+s,d=n.length;d>0;c--,d>>=8)f[c]=d&255;return this._createEncoderBuffer([f,n])};vs.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let i=df.alloc(e.length*2);for(let n=0;n<e.length;n++)i.writeUInt16BE(e.charCodeAt(n),n*2);return this._createEncoderBuffer(i)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};vs.prototype._encodeObjid=function(e,r,i){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let f=0;f<e.length;f++)e[f]|=0}else if(Array.isArray(e)){e=e.slice();for(let f=0;f<e.length;f++)e[f]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let n=0;for(let f=0;f<e.length;f++){let c=e[f];for(n++;c>=128;c>>=7)n++}let o=df.alloc(n),s=o.length-1;for(let f=e.length-1;f>=0;f--){let c=e[f];for(o[s--]=c&127;(c>>=7)>0;)o[s--]=128|c&127}return this._createEncoderBuffer(o)};function Ro(t){return t<10?"0"+t:t}vs.prototype._encodeTime=function(e,r){let i,n=new Date(e);return r==="gentime"?i=[Ro(n.getUTCFullYear()),Ro(n.getUTCMonth()+1),Ro(n.getUTCDate()),Ro(n.getUTCHours()),Ro(n.getUTCMinutes()),Ro(n.getUTCSeconds()),"Z"].join(""):r==="utctime"?i=[Ro(n.getUTCFullYear()%100),Ro(n.getUTCMonth()+1),Ro(n.getUTCDate()),Ro(n.getUTCHours()),Ro(n.getUTCMinutes()),Ro(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(i,"octstr")};vs.prototype._encodeNull=function(){return this._createEncoderBuffer("")};vs.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!df.isBuffer(e)){let o=e.toArray();!e.sign&&o[0]&128&&o.unshift(0),e=df.from(o)}if(df.isBuffer(e)){let o=e.length;e.length===0&&o++;let s=df.alloc(o);return e.copy(s),e.length===0&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let i=1;for(let o=e;o>=256;o>>=8)i++;let n=new Array(i);for(let o=n.length-1;o>=0;o--)n[o]=e&255,e>>=8;return n[0]&128&&n.unshift(0),this._createEncoderBuffer(df.from(n))};vs.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};vs.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};vs.prototype._skipDefault=function(e,r,i){let n=this._baseState,o;if(n.default===null)return!1;let s=e.join();if(n.defaultBuffer===void 0&&(n.defaultBuffer=this._encodeValue(n.default,r,i).join()),s.length!==n.defaultBuffer.length)return!1;for(o=0;o<s.length;o++)if(s[o]!==n.defaultBuffer[o])return!1;return!0};function Nle(t,e,r,i){let n;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),p5.tagByName.hasOwnProperty(t))n=p5.tagByName[t];else if(typeof t=="number"&&(t|0)===t)n=t;else return i.error("Unknown tag: "+t);return n>=31?i.error("Multi-octet tag encoding unsupported"):(e||(n|=32),n|=p5.tagClassByName[r||"universal"]<<6,n)}});var gU=z((vMe,mU)=>{"use strict";x();var qle=Qe(),m5=y5();function g5(t){m5.call(this,t),this.enc="pem"}qle(g5,m5);mU.exports=g5;g5.prototype.encode=function(e,r){let n=m5.prototype.encode.call(this,e).toString("base64"),o=["-----BEGIN "+r.label+"-----"];for(let s=0;s<n.length;s+=64)o.push(n.slice(s,s+64));return o.push("-----END "+r.label+"-----"),o.join(`
`)}});var v5=z(bU=>{"use strict";x();var vU=bU;vU.der=y5();vU.pem=gU()});var w5=z((EMe,MU)=>{"use strict";x();var Lle=Qe(),Ule=fi(),wU=up().DecoderBuffer,EU=qw(),_U=Lw();function xU(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Wn,this.tree._init(t.body)}MU.exports=xU;xU.prototype.decode=function(e,r){return wU.isDecoderBuffer(e)||(e=new wU(e,r)),this.tree._decode(e,r)};function Wn(t){EU.call(this,"der",t)}Lle(Wn,EU);Wn.prototype._peekTag=function(e,r,i){if(e.isEmpty())return!1;let n=e.save(),o=b5(e,'Failed to peek tag: "'+r+'"');return e.isError(o)?o:(e.restore(n),o.tag===r||o.tagStr===r||o.tagStr+"of"===r||i)};Wn.prototype._decodeTag=function(e,r,i){let n=b5(e,'Failed to decode tag of "'+r+'"');if(e.isError(n))return n;let o=SU(e,n.primitive,'Failed to get length of "'+r+'"');if(e.isError(o))return o;if(!i&&n.tag!==r&&n.tagStr!==r&&n.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(n.primitive||o!==null)return e.skip(o,'Failed to match body of: "'+r+'"');let s=e.save(),f=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(f)?f:(o=e.offset-s.offset,e.restore(s),e.skip(o,'Failed to match body of: "'+r+'"'))};Wn.prototype._skipUntilEnd=function(e,r){for(;;){let i=b5(e,r);if(e.isError(i))return i;let n=SU(e,i.primitive,r);if(e.isError(n))return n;let o;if(i.primitive||n!==null?o=e.skip(n):o=this._skipUntilEnd(e,r),e.isError(o))return o;if(i.tagStr==="end")break}};Wn.prototype._decodeList=function(e,r,i,n){let o=[];for(;!e.isEmpty();){let s=this._peekTag(e,"end");if(e.isError(s))return s;let f=i.decode(e,"der",n);if(e.isError(f)&&s)break;o.push(f)}return o};Wn.prototype._decodeStr=function(e,r){if(r==="bitstr"){let i=e.readUInt8();return e.isError(i)?i:{unused:i,data:e.raw()}}else if(r==="bmpstr"){let i=e.raw();if(i.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let n="";for(let o=0;o<i.length/2;o++)n+=String.fromCharCode(i.readUInt16BE(o*2));return n}else if(r==="numstr"){let i=e.raw().toString("ascii");return this._isNumstr(i)?i:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let i=e.raw().toString("ascii");return this._isPrintstr(i)?i:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};Wn.prototype._decodeObjid=function(e,r,i){let n,o=[],s=0,f=0;for(;!e.isEmpty();)f=e.readUInt8(),s<<=7,s|=f&127,f&128||(o.push(s),s=0);f&128&&o.push(s);let c=o[0]/40|0,d=o[0]%40;if(i?n=o:n=[c,d].concat(o.slice(1)),r){let l=r[n.join(" ")];l===void 0&&(l=r[n.join(".")]),l!==void 0&&(n=l)}return n};Wn.prototype._decodeTime=function(e,r){let i=e.raw().toString(),n,o,s,f,c,d;if(r==="gentime")n=i.slice(0,4)|0,o=i.slice(4,6)|0,s=i.slice(6,8)|0,f=i.slice(8,10)|0,c=i.slice(10,12)|0,d=i.slice(12,14)|0;else if(r==="utctime")n=i.slice(0,2)|0,o=i.slice(2,4)|0,s=i.slice(4,6)|0,f=i.slice(6,8)|0,c=i.slice(8,10)|0,d=i.slice(10,12)|0,n<70?n=2e3+n:n=1900+n;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(n,o-1,s,f,c,d,0)};Wn.prototype._decodeNull=function(){return null};Wn.prototype._decodeBool=function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0};Wn.prototype._decodeInt=function(e,r){let i=e.raw(),n=new Ule(i);return r&&(n=r[n.toString(10)]||n),n};Wn.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function b5(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let i=_U.tagClass[r>>6],n=(r&32)===0;if((r&31)===31){let s=r;for(r=0;(s&128)===128;){if(s=t.readUInt8(e),t.isError(s))return s;r<<=7,r|=s&127}}else r&=31;let o=_U.tag[r];return{cls:i,primitive:n,tag:r,tagStr:o}}function SU(t,e,r){let i=t.readUInt8(r);if(t.isError(i))return i;if(!e&&i===128)return null;if(!(i&128))return i;let n=i&127;if(n>4)return t.error("length octect is too long");i=0;for(let o=0;o<n;o++){i<<=8;let s=t.readUInt8(r);if(t.isError(s))return s;i|=s}return i}});var TU=z((SMe,AU)=>{"use strict";x();var Fle=Qe(),zle=Ow().Buffer,_5=w5();function E5(t){_5.call(this,t),this.enc="pem"}Fle(E5,_5);AU.exports=E5;E5.prototype.decode=function(e,r){let i=e.toString().split(/[\r\n]+/g),n=r.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,f=-1;for(let l=0;l<i.length;l++){let h=i[l].match(o);if(h!==null&&h[2]===n)if(s===-1){if(h[1]!=="BEGIN")break;s=l}else{if(h[1]!=="END")break;f=l;break}}if(s===-1||f===-1)throw new Error("PEM section not found for: "+n);let c=i.slice(s+1,f).join("");c.replace(/[^a-z0-9+/=]+/gi,"");let d=zle.from(c,"base64");return _5.prototype.decode.call(this,d,r)}});var x5=z(PU=>{"use strict";x();var RU=PU;RU.der=w5();RU.pem=TU()});var IU=z(kU=>{"use strict";x();var $le=v5(),Wle=x5(),Kle=Qe(),Hle=kU;Hle.define=function(e,r){return new dp(e,r)};function dp(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}dp.prototype._createNamed=function(e){let r=this.name;function i(n){this._initNamed(n,r)}return Kle(i,e),i.prototype._initNamed=function(o,s){e.call(this,o,s)},new i(this)};dp.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(Wle[e])),this.decoders[e]};dp.prototype.decode=function(e,r,i){return this._getDecoder(r).decode(e,i)};dp.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed($le[e])),this.encoders[e]};dp.prototype.encode=function(e,r,i){return this._getEncoder(r).encode(e,i)}});var BU=z(DU=>{"use strict";x();var Uw=DU;Uw.Reporter=jw().Reporter;Uw.DecoderBuffer=up().DecoderBuffer;Uw.EncoderBuffer=up().EncoderBuffer;Uw.Node=qw()});var jU=z(OU=>{"use strict";x();var CU=OU;CU._reverse=function(e){let r={};return Object.keys(e).forEach(function(i){(i|0)==i&&(i=i|0);let n=e[i];r[n]=i}),r};CU.der=Lw()});var S5=z(NU=>{"use strict";x();var lp=NU;lp.bignum=fi();lp.define=IU().define;lp.base=BU();lp.constants=jU();lp.decoders=x5();lp.encoders=v5()});var FU=z((jMe,UU)=>{"use strict";x();var bs=S5(),qU=bs.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),Vle=bs.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),M5=bs.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),Gle=bs.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(M5),this.key("subjectPublicKey").bitstr())}),Zle=bs.define("RelativeDistinguishedName",function(){this.setof(Vle)}),Yle=bs.define("RDNSequence",function(){this.seqof(Zle)}),LU=bs.define("Name",function(){this.choice({rdnSequence:this.use(Yle)})}),Jle=bs.define("Validity",function(){this.seq().obj(this.key("notBefore").use(qU),this.key("notAfter").use(qU))}),Qle=bs.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Xle=bs.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(M5),this.key("issuer").use(LU),this.key("validity").use(Jle),this.key("subject").use(LU),this.key("subjectPublicKeyInfo").use(Gle),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Qle).optional())}),ehe=bs.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Xle),this.key("signatureAlgorithm").use(M5),this.key("signatureValue").bitstr())});UU.exports=ehe});var $U=z(_s=>{"use strict";x();var ws=S5();_s.certificate=FU();var the=ws.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});_s.RSAPrivateKey=the;var rhe=ws.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});_s.RSAPublicKey=rhe;var ihe=ws.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(zU),this.key("subjectPublicKey").bitstr())});_s.PublicKey=ihe;var zU=ws.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),nhe=ws.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(zU),this.key("subjectPrivateKey").octstr())});_s.PrivateKey=nhe;var ohe=ws.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});_s.EncryptedPrivateKey=ohe;var she=ws.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});_s.DSAPrivateKey=she;_s.DSAparam=ws.define("DSAparam",function(){this.int()});var ahe=ws.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(fhe),this.key("publicKey").optional().explicit(1).bitstr())});_s.ECPrivateKey=ahe;var fhe=ws.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});_s.signature=ws.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var WU=z((UMe,che)=>{che.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var HU=z((FMe,KU)=>{x();var uhe=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,dhe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,lhe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,hhe=nm(),phe=J1(),Fw=Ot().Buffer;KU.exports=function(t,e){var r=t.toString(),i=r.match(uhe),n;if(i){var s="aes"+i[1],f=Fw.from(i[2],"hex"),c=Fw.from(i[3].replace(/[\r\n]/g,""),"base64"),d=hhe(e,f.slice(0,8),parseInt(i[1],10)).key,l=[],h=phe.createDecipheriv(s,d,f);l.push(h.update(c)),l.push(h.final()),n=Fw.concat(l)}else{var o=r.match(lhe);n=Fw.from(o[2].replace(/[\r\n]/g,""),"base64")}var E=r.match(dhe)[1];return{tag:E,data:n}}});var vm=z(($Me,GU)=>{x();var _n=$U(),yhe=WU(),mhe=HU(),ghe=J1(),vhe=$E(),A5=Ot().Buffer;GU.exports=VU;function VU(t){var e;typeof t=="object"&&!A5.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=A5.from(t));var r=mhe(t,e),i=r.tag,n=r.data,o,s;switch(i){case"CERTIFICATE":s=_n.certificate.decode(n,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(s||(s=_n.PublicKey.decode(n,"der")),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return _n.RSAPublicKey.decode(s.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return s.subjectPrivateKey=s.subjectPublicKey,{type:"ec",data:s};case"1.2.840.10040.4.1":return s.algorithm.params.pub_key=_n.DSAparam.decode(s.subjectPublicKey.data,"der"),{type:"dsa",data:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"ENCRYPTED PRIVATE KEY":n=_n.EncryptedPrivateKey.decode(n,"der"),n=bhe(n,e);case"PRIVATE KEY":switch(s=_n.PrivateKey.decode(n,"der"),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return _n.RSAPrivateKey.decode(s.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:s.algorithm.curve,privateKey:_n.ECPrivateKey.decode(s.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return s.algorithm.params.priv_key=_n.DSAparam.decode(s.subjectPrivateKey,"der"),{type:"dsa",params:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"RSA PUBLIC KEY":return _n.RSAPublicKey.decode(n,"der");case"RSA PRIVATE KEY":return _n.RSAPrivateKey.decode(n,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:_n.DSAPrivateKey.decode(n,"der")};case"EC PRIVATE KEY":return n=_n.ECPrivateKey.decode(n,"der"),{curve:n.parameters.value,privateKey:n.privateKey};default:throw new Error("unknown key type "+i)}}VU.signature=_n.signature;function bhe(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),n=yhe[t.algorithm.decrypt.cipher.algo.join(".")],o=t.algorithm.decrypt.cipher.iv,s=t.subjectPrivateKey,f=parseInt(n.split("-")[1],10)/8,c=vhe.pbkdf2Sync(e,r,i,f,"sha1"),d=ghe.createDecipheriv(n,c,o),l=[];return l.push(d.update(s)),l.push(d.final()),A5.concat(l)}});var T5=z((KMe,whe)=>{whe.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var JU=z((HMe,$w)=>{x();var Ji=rw().Buffer,Qd=BE(),_he=gw(),Ehe=np().ec,zw=l5(),xhe=vm(),She=T5();function Mhe(t,e,r,i,n){var o=xhe(e);if(o.curve){if(i!=="ecdsa"&&i!=="ecdsa/rsa")throw new Error("wrong private key type");return Ahe(t,o)}else if(o.type==="dsa"){if(i!=="dsa")throw new Error("wrong private key type");return The(t,o,r)}else if(i!=="rsa"&&i!=="ecdsa/rsa")throw new Error("wrong private key type");t=Ji.concat([n,t]);for(var s=o.modulus.byteLength(),f=[0,1];t.length+f.length+1<s;)f.push(255);f.push(0);for(var c=-1;++c<t.length;)f.push(t[c]);var d=_he(f,o);return d}function Ahe(t,e){var r=She[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var i=new Ehe(r),n=i.keyFromPrivate(e.privateKey),o=n.sign(t);return Ji.from(o.toDER())}function The(t,e,r){for(var i=e.params.priv_key,n=e.params.p,o=e.params.q,s=e.params.g,f=new zw(0),c,d=R5(t,o).mod(o),l=!1,h=ZU(i,o,t,r);l===!1;)c=YU(o,h,r),f=khe(s,c,n,o),l=c.invm(o).imul(d.add(i.mul(f))).mod(o),l.cmpn(0)===0&&(l=!1,f=new zw(0));return Rhe(f,l)}function Rhe(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,i=[48,r,2,t.length];return i=i.concat(t,[2,e.length],e),Ji.from(i)}function ZU(t,e,r,i){if(t=Ji.from(t.toArray()),t.length<e.byteLength()){var n=Ji.alloc(e.byteLength()-t.length);t=Ji.concat([n,t])}var o=r.length,s=Phe(r,e),f=Ji.alloc(o);f.fill(1);var c=Ji.alloc(o);return c=Qd(i,c).update(f).update(Ji.from([0])).update(t).update(s).digest(),f=Qd(i,c).update(f).digest(),c=Qd(i,c).update(f).update(Ji.from([1])).update(t).update(s).digest(),f=Qd(i,c).update(f).digest(),{k:c,v:f}}function R5(t,e){var r=new zw(t),i=(t.length<<3)-e.bitLength();return i>0&&r.ishrn(i),r}function Phe(t,e){t=R5(t,e),t=t.mod(e);var r=Ji.from(t.toArray());if(r.length<e.byteLength()){var i=Ji.alloc(e.byteLength()-r.length);r=Ji.concat([i,r])}return r}function YU(t,e,r){var i,n;do{for(i=Ji.alloc(0);i.length*8<t.bitLength();)e.v=Qd(r,e.k).update(e.v).digest(),i=Ji.concat([i,e.v]);n=R5(i,t),e.k=Qd(r,e.k).update(e.v).update(Ji.from([0])).digest(),e.v=Qd(r,e.k).update(e.v).digest()}while(n.cmp(t)!==-1);return n}function khe(t,e,r,i){return t.toRed(zw.mont(r)).redPow(e).fromRed().mod(i)}$w.exports=Mhe;$w.exports.getKey=ZU;$w.exports.makeKey=YU});var tF=z((GMe,eF)=>{x();var P5=rw().Buffer,bm=l5(),Ihe=np().ec,XU=vm(),Dhe=T5();function Bhe(t,e,r,i,n){var o=XU(r);if(o.type==="ec"){if(i!=="ecdsa"&&i!=="ecdsa/rsa")throw new Error("wrong public key type");return Che(t,e,o)}else if(o.type==="dsa"){if(i!=="dsa")throw new Error("wrong public key type");return Ohe(t,e,o)}else if(i!=="rsa"&&i!=="ecdsa/rsa")throw new Error("wrong public key type");e=P5.concat([n,e]);for(var s=o.modulus.byteLength(),f=[1],c=0;e.length+f.length+2<s;)f.push(255),c++;f.push(0);for(var d=-1;++d<e.length;)f.push(e[d]);f=P5.from(f);var l=bm.mont(o.modulus);t=new bm(t).toRed(l),t=t.redPow(new bm(o.publicExponent)),t=P5.from(t.fromRed().toArray());var h=c<8?1:0;for(s=Math.min(t.length,f.length),t.length!==f.length&&(h=1),d=-1;++d<s;)h|=t[d]^f[d];return h===0}function Che(t,e,r){var i=Dhe[r.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var n=new Ihe(i),o=r.data.subjectPrivateKey.data;return n.verify(e,t,o)}function Ohe(t,e,r){var i=r.data.p,n=r.data.q,o=r.data.g,s=r.data.pub_key,f=XU.signature.decode(t,"der"),c=f.s,d=f.r;QU(c,n),QU(d,n);var l=bm.mont(i),h=c.invm(n),E=o.toRed(l).redPow(new bm(e).mul(h).mod(n)).fromRed().mul(s.toRed(l).redPow(d.mul(h).mod(n)).fromRed()).mod(i).mod(n);return E.cmp(d)===0}function QU(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}eF.exports=Bhe});var aF=z((YMe,sF)=>{x();var Ww=rw().Buffer,nF=Oh(),Kw=Dq(),oF=Qe(),jhe=JU(),Nhe=tF(),Xd=CE();Object.keys(Xd).forEach(function(t){Xd[t].id=Ww.from(Xd[t].id,"hex"),Xd[t.toLowerCase()]=Xd[t]});function wm(t){Kw.Writable.call(this);var e=Xd[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=nF(e.hash),this._tag=e.id,this._signType=e.sign}oF(wm,Kw.Writable);wm.prototype._write=function(e,r,i){this._hash.update(e),i()};wm.prototype.update=function(e,r){return typeof e=="string"&&(e=Ww.from(e,r)),this._hash.update(e),this};wm.prototype.sign=function(e,r){this.end();var i=this._hash.digest(),n=jhe(i,e,this._hashType,this._signType,this._tag);return r?n.toString(r):n};function _m(t){Kw.Writable.call(this);var e=Xd[t];if(!e)throw new Error("Unknown message digest");this._hash=nF(e.hash),this._tag=e.id,this._signType=e.sign}oF(_m,Kw.Writable);_m.prototype._write=function(e,r,i){this._hash.update(e),i()};_m.prototype.update=function(e,r){return typeof e=="string"&&(e=Ww.from(e,r)),this._hash.update(e),this};_m.prototype.verify=function(e,r,i){typeof r=="string"&&(r=Ww.from(r,i)),this.end();var n=this._hash.digest();return Nhe(r,n,e,this._signType,this._tag)};function rF(t){return new wm(t)}function iF(t){return new _m(t)}sF.exports={Sign:rF,Verify:iF,createSign:rF,createVerify:iF}});var cF=z((QMe,fF)=>{x();var qhe=np(),Lhe=fi();fF.exports=function(e){return new el(e)};var Kn={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Kn.p224=Kn.secp224r1;Kn.p256=Kn.secp256r1=Kn.prime256v1;Kn.p192=Kn.secp192r1=Kn.prime192v1;Kn.p384=Kn.secp384r1;Kn.p521=Kn.secp521r1;function el(t){this.curveType=Kn[t],this.curveType||(this.curveType={name:t}),this.curve=new qhe.ec(this.curveType.name),this.keys=void 0}el.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};el.prototype.computeSecret=function(t,e,r){e=e||"utf8",j.Buffer.isBuffer(t)||(t=new j.Buffer(t,e));var i=this.curve.keyFromPublic(t).getPublic(),n=i.mul(this.keys.getPrivate()).getX();return k5(n,r,this.curveType.byteLength)};el.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),k5(r,t)};el.prototype.getPrivateKey=function(t){return k5(this.keys.getPrivate(),t)};el.prototype.setPublicKey=function(t,e){return e=e||"utf8",j.Buffer.isBuffer(t)||(t=new j.Buffer(t,e)),this.keys._importPublic(t),this};el.prototype.setPrivateKey=function(t,e){e=e||"utf8",j.Buffer.isBuffer(t)||(t=new j.Buffer(t,e));var r=new Lhe(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function k5(t,e,r){Array.isArray(t)||(t=t.toArray());var i=new j.Buffer(t);if(r&&i.length<r){var n=new j.Buffer(r-i.length);n.fill(0),i=j.Buffer.concat([n,i])}return e?i.toString(e):i}});var D5=z((e7e,uF)=>{x();var Uhe=Oh(),I5=Ot().Buffer;uF.exports=function(t,e){for(var r=I5.alloc(0),i=0,n;r.length<e;)n=Fhe(i++),r=I5.concat([r,Uhe("sha1").update(t).update(n).digest()]);return r.slice(0,e)};function Fhe(t){var e=I5.allocUnsafe(4);return e.writeUInt32BE(t,0),e}});var B5=z((r7e,dF)=>{x();dF.exports=function(e,r){for(var i=e.length,n=-1;++n<i;)e[n]^=r[n];return e}});var C5=z((n7e,hF)=>{x();var lF=fi(),zhe=Ot().Buffer;function $he(t,e){return zhe.from(t.toRed(lF.mont(e.modulus)).redPow(new lF(e.publicExponent)).fromRed().toArray())}hF.exports=$he});var gF=z((s7e,mF)=>{x();var Whe=vm(),O5=cd(),Khe=Oh(),pF=D5(),yF=B5(),j5=fi(),Hhe=C5(),Vhe=gw(),Es=Ot().Buffer;mF.exports=function(e,r,i){var n;e.padding?n=e.padding:i?n=1:n=4;var o=Whe(e),s;if(n===4)s=Ghe(o,r);else if(n===1)s=Zhe(o,r,i);else if(n===3){if(s=new j5(r),s.cmp(o.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return i?Vhe(s,o):Hhe(s,o)};function Ghe(t,e){var r=t.modulus.byteLength(),i=e.length,n=Khe("sha1").update(Es.alloc(0)).digest(),o=n.length,s=2*o;if(i>r-s-2)throw new Error("message too long");var f=Es.alloc(r-i-s-2),c=r-o-1,d=O5(o),l=yF(Es.concat([n,f,Es.alloc(1,1),e],c),pF(d,c)),h=yF(d,pF(l,o));return new j5(Es.concat([Es.alloc(1),h,l],r))}function Zhe(t,e,r){var i=e.length,n=t.modulus.byteLength();if(i>n-11)throw new Error("message too long");var o;return r?o=Es.alloc(n-i-3,255):o=Yhe(n-i-3),new j5(Es.concat([Es.from([0,r?1:2]),o,Es.alloc(1),e],n))}function Yhe(t){for(var e=Es.allocUnsafe(t),r=0,i=O5(t*2),n=0,o;r<t;)n===i.length&&(i=O5(t*2),n=0),o=i[n++],o&&(e[r++]=o);return e}});var EF=z((f7e,_F)=>{x();var Jhe=vm(),vF=D5(),bF=B5(),wF=fi(),Qhe=gw(),Xhe=Oh(),epe=C5(),Em=Ot().Buffer;_F.exports=function(e,r,i){var n;e.padding?n=e.padding:i?n=1:n=4;var o=Jhe(e),s=o.modulus.byteLength();if(r.length>s||new wF(r).cmp(o.modulus)>=0)throw new Error("decryption error");var f;i?f=epe(new wF(r),o):f=Qhe(r,o);var c=Em.alloc(s-f.length);if(f=Em.concat([c,f],s),n===4)return tpe(o,f);if(n===1)return rpe(o,f,i);if(n===3)return f;throw new Error("unknown padding")};function tpe(t,e){var r=t.modulus.byteLength(),i=Xhe("sha1").update(Em.alloc(0)).digest(),n=i.length;if(e[0]!==0)throw new Error("decryption error");var o=e.slice(1,n+1),s=e.slice(n+1),f=bF(o,vF(s,n)),c=bF(s,vF(f,r-n-1));if(ipe(i,c.slice(0,n)))throw new Error("decryption error");for(var d=n;c[d]===0;)d++;if(c[d++]!==1)throw new Error("decryption error");return c.slice(d)}function rpe(t,e,r){for(var i=e.slice(0,2),n=2,o=0;e[n++]!==0;)if(n>=e.length){o++;break}var s=e.slice(2,n-1);if((i.toString("hex")!=="0002"&&!r||i.toString("hex")!=="0001"&&r)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return e.slice(n)}function ipe(t,e){t=Em.from(t),e=Em.from(e);var r=0,i=t.length;t.length!==e.length&&(r++,i=Math.min(t.length,e.length));for(var n=-1;++n<i;)r+=t[n]^e[n];return r}});var xF=z(tl=>{x();tl.publicEncrypt=gF();tl.privateDecrypt=EF();tl.privateEncrypt=function(e,r){return tl.publicEncrypt(e,r,!0)};tl.publicDecrypt=function(e,r){return tl.privateDecrypt(e,r,!0)}});var BF=z(xm=>{"use strict";x();function SF(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var AF=Ot(),MF=cd(),TF=AF.Buffer,RF=AF.kMaxLength,N5=globalThis.crypto||globalThis.msCrypto,PF=Math.pow(2,32)-1;function kF(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>PF||t<0)throw new TypeError("offset must be a uint32");if(t>RF||t>e)throw new RangeError("offset out of range")}function IF(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>PF||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>RF)throw new RangeError("buffer too small")}N5&&N5.getRandomValues||!C.default.browser?(xm.randomFill=npe,xm.randomFillSync=ope):(xm.randomFill=SF,xm.randomFillSync=SF);function npe(t,e,r,i){if(!TF.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")i=e,e=0,r=t.length;else if(typeof r=="function")i=r,r=t.length-e;else if(typeof i!="function")throw new TypeError('"cb" argument must be a function');return kF(e,t.length),IF(r,e,t.length),DF(t,e,r,i)}function DF(t,e,r,i){if(C.default.browser){var n=t.buffer,o=new Uint8Array(n,e,r);if(N5.getRandomValues(o),i){C.default.nextTick(function(){i(null,t)});return}return t}if(i){MF(r,function(f,c){if(f)return i(f);c.copy(t,e),i(null,t)});return}var s=MF(r);return s.copy(t,e),t}function ope(t,e,r){if(typeof e>"u"&&(e=0),!TF.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return kF(e,t.length),r===void 0&&(r=t.length-e),IF(r,e,t.length),DF(t,e,r)}});var jd=z(gt=>{"use strict";x();gt.randomBytes=gt.rng=gt.pseudoRandomBytes=gt.prng=cd();gt.createHash=gt.Hash=Oh();gt.createHmac=gt.Hmac=BE();var spe=XO(),ape=Object.keys(spe),fpe=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(ape);gt.getHashes=function(){return fpe};var CF=$E();gt.pbkdf2=CF.pbkdf2;gt.pbkdf2Sync=CF.pbkdf2Sync;var pa=_N();gt.Cipher=pa.Cipher;gt.createCipher=pa.createCipher;gt.Cipheriv=pa.Cipheriv;gt.createCipheriv=pa.createCipheriv;gt.Decipher=pa.Decipher;gt.createDecipher=pa.createDecipher;gt.Decipheriv=pa.Decipheriv;gt.createDecipheriv=pa.createDecipheriv;gt.getCiphers=pa.getCiphers;gt.listCiphers=pa.listCiphers;var Sm=CN();gt.DiffieHellmanGroup=Sm.DiffieHellmanGroup;gt.createDiffieHellmanGroup=Sm.createDiffieHellmanGroup;gt.getDiffieHellman=Sm.getDiffieHellman;gt.createDiffieHellman=Sm.createDiffieHellman;gt.DiffieHellman=Sm.DiffieHellman;var Hw=aF();gt.createSign=Hw.createSign;gt.Sign=Hw.Sign;gt.createVerify=Hw.createVerify;gt.Verify=Hw.Verify;gt.createECDH=cF();var Vw=xF();gt.publicEncrypt=Vw.publicEncrypt;gt.privateEncrypt=Vw.privateEncrypt;gt.publicDecrypt=Vw.publicDecrypt;gt.privateDecrypt=Vw.privateDecrypt;var OF=BF();gt.randomFill=OF.randomFill;gt.randomFillSync=OF.randomFillSync;gt.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};gt.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var fz=z((E7e,az)=>{x();var Xt={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function ko(t,e){if(!t)throw new Error(e)}function Ut(t,e,r){if(ko(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){let i=r.join(", "),n=`Expected ${t} to be an Uint8Array with length [${i}]`;ko(r.includes(e.length),n)}else{let i=`Expected ${t} to be an Uint8Array with length ${r}`;ko(e.length===r,i)}}function nl(t){ko(wp(t)==="Boolean","Expected compressed to be a Boolean")}function Ms(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),Ut("output",t,e),t}function wp(t){return Object.prototype.toString.call(t).slice(8,-1)}az.exports=t=>({contextRandomize(e){switch(ko(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&Ut("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(Xt.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return Ut("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(Ut("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(Xt.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(Ut("private key",e,32),Ut("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(Xt.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(Ut("private key",e,32),Ut("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(Xt.TWEAK_MUL)}},publicKeyVerify(e){return Ut("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,i){switch(Ut("private key",e,32),nl(r),i=Ms(i,r?33:65),t.publicKeyCreate(i,e)){case 0:return i;case 1:throw new Error(Xt.SECKEY_INVALID);case 2:throw new Error(Xt.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,i){switch(Ut("public key",e,[33,65]),nl(r),i=Ms(i,r?33:65),t.publicKeyConvert(i,e)){case 0:return i;case 1:throw new Error(Xt.PUBKEY_PARSE);case 2:throw new Error(Xt.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,i){switch(Ut("public key",e,[33,65]),nl(r),i=Ms(i,r?33:65),t.publicKeyNegate(i,e)){case 0:return i;case 1:throw new Error(Xt.PUBKEY_PARSE);case 2:throw new Error(Xt.IMPOSSIBLE_CASE);case 3:throw new Error(Xt.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,i){ko(Array.isArray(e),"Expected public keys to be an Array"),ko(e.length>0,"Expected public keys array will have more than zero items");for(let n of e)Ut("public key",n,[33,65]);switch(nl(r),i=Ms(i,r?33:65),t.publicKeyCombine(i,e)){case 0:return i;case 1:throw new Error(Xt.PUBKEY_PARSE);case 2:throw new Error(Xt.PUBKEY_COMBINE);case 3:throw new Error(Xt.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,i=!0,n){switch(Ut("public key",e,[33,65]),Ut("tweak",r,32),nl(i),n=Ms(n,i?33:65),t.publicKeyTweakAdd(n,e,r)){case 0:return n;case 1:throw new Error(Xt.PUBKEY_PARSE);case 2:throw new Error(Xt.TWEAK_ADD)}},publicKeyTweakMul(e,r,i=!0,n){switch(Ut("public key",e,[33,65]),Ut("tweak",r,32),nl(i),n=Ms(n,i?33:65),t.publicKeyTweakMul(n,e,r)){case 0:return n;case 1:throw new Error(Xt.PUBKEY_PARSE);case 2:throw new Error(Xt.TWEAK_MUL)}},signatureNormalize(e){switch(Ut("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(Xt.SIG_PARSE)}},signatureExport(e,r){Ut("signature",e,64),r=Ms(r,72);let i={output:r,outputlen:72};switch(t.signatureExport(i,e)){case 0:return r.slice(0,i.outputlen);case 1:throw new Error(Xt.SIG_PARSE);case 2:throw new Error(Xt.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(Ut("signature",e),r=Ms(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(Xt.SIG_PARSE);case 2:throw new Error(Xt.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,i={},n){Ut("message",e,32),Ut("private key",r,32),ko(wp(i)==="Object","Expected options to be an Object"),i.data!==void 0&&Ut("options.data",i.data),i.noncefn!==void 0&&ko(wp(i.noncefn)==="Function","Expected options.noncefn to be a Function"),n=Ms(n,64);let o={signature:n,recid:null};switch(t.ecdsaSign(o,e,r,i.data,i.noncefn)){case 0:return o;case 1:throw new Error(Xt.SIGN);case 2:throw new Error(Xt.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,i){switch(Ut("signature",e,64),Ut("message",r,32),Ut("public key",i,[33,65]),t.ecdsaVerify(e,r,i)){case 0:return!0;case 3:return!1;case 1:throw new Error(Xt.SIG_PARSE);case 2:throw new Error(Xt.PUBKEY_PARSE)}},ecdsaRecover(e,r,i,n=!0,o){switch(Ut("signature",e,64),ko(wp(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),Ut("message",i,32),nl(n),o=Ms(o,n?33:65),t.ecdsaRecover(o,e,r,i)){case 0:return o;case 1:throw new Error(Xt.SIG_PARSE);case 2:throw new Error(Xt.RECOVER);case 3:throw new Error(Xt.IMPOSSIBLE_CASE)}},ecdh(e,r,i={},n){switch(Ut("public key",e,[33,65]),Ut("private key",r,32),ko(wp(i)==="Object","Expected options to be an Object"),i.data!==void 0&&Ut("options.data",i.data),i.hashfn!==void 0?(ko(wp(i.hashfn)==="Function","Expected options.hashfn to be a Function"),i.xbuf!==void 0&&Ut("options.xbuf",i.xbuf,32),i.ybuf!==void 0&&Ut("options.ybuf",i.ybuf,32),Ut("output",n)):n=Ms(n,32),t.ecdh(n,e,r,i.data,i.hashfn,i.xbuf,i.ybuf)){case 0:return n;case 1:throw new Error(Xt.PUBKEY_PARSE);case 2:throw new Error(Xt.ECDH)}}})});var uz=z((S7e,cz)=>{x();var Upe=np().ec,ga=new Upe("secp256k1"),jt=ga.curve,ur=jt.n.constructor;function Fpe(t,e){let r=new ur(e);if(r.cmp(jt.p)>=0)return null;r=r.toRed(jt.red);let i=r.redSqr().redIMul(r).redIAdd(jt.b).redSqrt();return t===3!==i.isOdd()&&(i=i.redNeg()),ga.keyPair({pub:{x:r,y:i}})}function zpe(t,e,r){let i=new ur(e),n=new ur(r);if(i.cmp(jt.p)>=0||n.cmp(jt.p)>=0||(i=i.toRed(jt.red),n=n.toRed(jt.red),(t===6||t===7)&&n.isOdd()!==(t===7)))return null;let o=i.redSqr().redIMul(i);return n.redSqr().redISub(o.redIAdd(jt.b)).isZero()?ga.keyPair({pub:{x:i,y:n}}):null}function Vc(t){let e=t[0];switch(e){case 2:case 3:return t.length!==33?null:Fpe(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:zpe(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function ol(t,e){let r=e.encode(null,t.length===33);for(let i=0;i<t.length;++i)t[i]=r[i]}cz.exports={contextRandomize(){return 0},privateKeyVerify(t){let e=new ur(t);return e.cmp(jt.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){let e=new ur(t),r=jt.n.sub(e).umod(jt.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){let r=new ur(e);if(r.cmp(jt.n)>=0||(r.iadd(new ur(t)),r.cmp(jt.n)>=0&&r.isub(jt.n),r.isZero()))return 1;let i=r.toArrayLike(Uint8Array,"be",32);return t.set(i),0},privateKeyTweakMul(t,e){let r=new ur(e);if(r.cmp(jt.n)>=0||r.isZero())return 1;r.imul(new ur(t)),r.cmp(jt.n)>=0&&(r=r.umod(jt.n));let i=r.toArrayLike(Uint8Array,"be",32);return t.set(i),0},publicKeyVerify(t){return Vc(t)===null?1:0},publicKeyCreate(t,e){let r=new ur(e);if(r.cmp(jt.n)>=0||r.isZero())return 1;let i=ga.keyFromPrivate(e).getPublic();return ol(t,i),0},publicKeyConvert(t,e){let r=Vc(e);if(r===null)return 1;let i=r.getPublic();return ol(t,i),0},publicKeyNegate(t,e){let r=Vc(e);if(r===null)return 1;let i=r.getPublic();return i.y=i.y.redNeg(),ol(t,i),0},publicKeyCombine(t,e){let r=new Array(e.length);for(let n=0;n<e.length;++n)if(r[n]=Vc(e[n]),r[n]===null)return 1;let i=r[0].getPublic();for(let n=1;n<r.length;++n)i=i.add(r[n].pub);return i.isInfinity()?2:(ol(t,i),0)},publicKeyTweakAdd(t,e,r){let i=Vc(e);if(i===null)return 1;if(r=new ur(r),r.cmp(jt.n)>=0)return 2;let n=i.getPublic().add(jt.g.mul(r));return n.isInfinity()?2:(ol(t,n),0)},publicKeyTweakMul(t,e,r){let i=Vc(e);if(i===null)return 1;if(r=new ur(r),r.cmp(jt.n)>=0||r.isZero())return 2;let n=i.getPublic().mul(r);return ol(t,n),0},signatureNormalize(t){let e=new ur(t.subarray(0,32)),r=new ur(t.subarray(32,64));return e.cmp(jt.n)>=0||r.cmp(jt.n)>=0?1:(r.cmp(ga.nh)===1&&t.set(jt.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){let r=e.subarray(0,32),i=e.subarray(32,64);if(new ur(r).cmp(jt.n)>=0||new ur(i).cmp(jt.n)>=0)return 1;let{output:n}=t,o=n.subarray(4,4+33);o[0]=0,o.set(r,1);let s=33,f=0;for(;s>1&&o[f]===0&&!(o[f+1]&128);--s,++f);if(o=o.subarray(f),o[0]&128||s>1&&o[0]===0&&!(o[1]&128))return 1;let c=n.subarray(6+33,6+33+33);c[0]=0,c.set(i,1);let d=33,l=0;for(;d>1&&c[l]===0&&!(c[l+1]&128);--d,++l);return c=c.subarray(l),c[0]&128||d>1&&c[0]===0&&!(c[1]&128)?1:(t.outputlen=6+s+d,n[0]=48,n[1]=t.outputlen-2,n[2]=2,n[3]=o.length,n.set(o,4),n[4+s]=2,n[5+s]=c.length,n.set(c,6+s),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;let i=e[5+r];if(i===0||6+r+i!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||i>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let n=e.subarray(4,4+r);if(n.length===33&&n[0]===0&&(n=n.subarray(1)),n.length>32)return 1;let o=e.subarray(6+r);if(o.length===33&&o[0]===0&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let s=new ur(n);s.cmp(jt.n)>=0&&(s=new ur(0));let f=new ur(e.subarray(6+r));return f.cmp(jt.n)>=0&&(f=new ur(0)),t.set(s.toArrayLike(Uint8Array,"be",32),0),t.set(f.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,i,n){if(n){let f=n;n=c=>{let d=f(e,r,null,i,c);if(!(d instanceof Uint8Array&&d.length===32))throw new Error("This is the way");return new ur(d)}}let o=new ur(r);if(o.cmp(jt.n)>=0||o.isZero())return 1;let s;try{s=ga.sign(e,r,{canonical:!0,k:n,pers:i})}catch{return 1}return t.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),t.recid=s.recoveryParam,0},ecdsaVerify(t,e,r){let i={r:t.subarray(0,32),s:t.subarray(32,64)},n=new ur(i.r),o=new ur(i.s);if(n.cmp(jt.n)>=0||o.cmp(jt.n)>=0)return 1;if(o.cmp(ga.nh)===1||n.isZero()||o.isZero())return 3;let s=Vc(r);if(s===null)return 2;let f=s.getPublic();return ga.verify(e,i,f)?0:3},ecdsaRecover(t,e,r,i){let n={r:e.slice(0,32),s:e.slice(32,64)},o=new ur(n.r),s=new ur(n.s);if(o.cmp(jt.n)>=0||s.cmp(jt.n)>=0)return 1;if(o.isZero()||s.isZero())return 2;let f;try{f=ga.recoverPubKey(i,n,r)}catch{return 2}return ol(t,f),0},ecdh(t,e,r,i,n,o,s){let f=Vc(e);if(f===null)return 1;let c=new ur(r);if(c.cmp(jt.n)>=0||c.isZero())return 2;let d=f.getPublic().mul(c);if(n===void 0){let l=d.encode(null,!0),h=ga.hash().update(l).digest();for(let E=0;E<32;++E)t[E]=h[E]}else{o||(o=new Uint8Array(32));let l=d.getX().toArray("be",32);for(let T=0;T<32;++T)o[T]=l[T];s||(s=new Uint8Array(32));let h=d.getY().toArray("be",32);for(let T=0;T<32;++T)s[T]=h[T];let E=n(o,s,i);if(!(E instanceof Uint8Array&&E.length===t.length))return 2;t.set(E)}return 0}}});var lz=z((A7e,dz)=>{x();dz.exports=fz()(uz())});var pz=z(($7e,hz)=>{x();var $pe=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;hz.exports=$pe});var mz=z((K7e,yz)=>{x();var Wpe=pz(),Kpe=typeof self=="object"&&self&&self.Object===Object&&self,Hpe=Wpe||Kpe||Function("return this")();yz.exports=Hpe});var J5=z((V7e,gz)=>{x();var Vpe=mz(),Gpe=Vpe.Symbol;gz.exports=Gpe});var _z=z((Z7e,wz)=>{x();var vz=J5(),bz=Object.prototype,Zpe=bz.hasOwnProperty,Ype=bz.toString,Om=vz?vz.toStringTag:void 0;function Jpe(t){var e=Zpe.call(t,Om),r=t[Om];try{t[Om]=void 0;var i=!0}catch{}var n=Ype.call(t);return i&&(e?t[Om]=r:delete t[Om]),n}wz.exports=Jpe});var xz=z((J7e,Ez)=>{x();var Qpe=Object.prototype,Xpe=Qpe.toString;function e0e(t){return Xpe.call(t)}Ez.exports=e0e});var Tz=z((X7e,Az)=>{x();var Sz=J5(),t0e=_z(),r0e=xz(),i0e="[object Null]",n0e="[object Undefined]",Mz=Sz?Sz.toStringTag:void 0;function o0e(t){return t==null?t===void 0?n0e:i0e:Mz&&Mz in Object(t)?t0e(t):r0e(t)}Az.exports=o0e});var Pz=z((tAe,Rz)=>{x();function s0e(t,e){return function(r){return t(e(r))}}Rz.exports=s0e});var Iz=z((iAe,kz)=>{x();var a0e=Pz(),f0e=a0e(Object.getPrototypeOf,Object);kz.exports=f0e});var Bz=z((oAe,Dz)=>{x();function c0e(t){return t!=null&&typeof t=="object"}Dz.exports=c0e});var jz=z((aAe,Oz)=>{x();var u0e=Tz(),d0e=Iz(),l0e=Bz(),h0e="[object Object]",p0e=Function.prototype,y0e=Object.prototype,Cz=p0e.toString,m0e=y0e.hasOwnProperty,g0e=Cz.call(Object);function v0e(t){if(!l0e(t)||u0e(t)!=h0e)return!1;var e=d0e(t);if(e===null)return!0;var r=m0e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Cz.call(r)==g0e}Oz.exports=v0e});var Xz=z((MAe,Qz)=>{x();Qz.exports=jm;jm.flatten=jm;jm.unflatten=Jz;function Zz(t){return t&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Yz(t){return t}function jm(t,e){e=e||{};let r=e.delimiter||".",i=e.maxDepth,n=e.transformKey||Yz,o={};function s(f,c,d){d=d||1,Object.keys(f).forEach(function(l){let h=f[l],E=e.safe&&Array.isArray(h),b=Object.prototype.toString.call(h),T=Zz(h),k=b==="[object Object]"||b==="[object Array]",O=c?c+r+n(l):n(l);if(!E&&!T&&k&&Object.keys(h).length&&(!e.maxDepth||d<i))return s(h,O,d+1);o[O]=h})}return s(t),o}function Jz(t,e){e=e||{};let r=e.delimiter||".",i=e.overwrite||!1,n=e.transformKey||Yz,o={};if(Zz(t)||Object.prototype.toString.call(t)!=="[object Object]")return t;function f(l){let h=Number(l);return isNaN(h)||l.indexOf(".")!==-1||e.object?l:h}function c(l,h,E){return Object.keys(E).reduce(function(b,T){return b[l+r+T]=E[T],b},h)}function d(l){let h=Object.prototype.toString.call(l),E=h==="[object Array]",b=h==="[object Object]";if(l){if(E)return!l.length;if(b)return!Object.keys(l).length}else return!0}return t=Object.keys(t).reduce(function(l,h){let E=Object.prototype.toString.call(t[h]);return!(E==="[object Object]"||E==="[object Array]")||d(t[h])?(l[h]=t[h],l):c(h,l,jm(t[h],e))},{}),Object.keys(t).forEach(function(l){let h=l.split(r).map(n),E=f(h.shift()),b=f(h[0]),T=o;for(;b!==void 0;){if(E==="__proto__")return;let k=Object.prototype.toString.call(T[E]),O=k==="[object Object]"||k==="[object Array]";if(!i&&!O&&typeof T[E]<"u")return;(i&&!O||!i&&T[E]==null)&&(T[E]=typeof b=="number"&&!e.object?[]:{}),T=T[E],h.length>0&&(E=f(h.shift()),b=f(h[0]))}T[E]=Jz(t[l],e)}),o}});var a$=z((IAe,s$)=>{x();var Nm=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,U0e=typeof AbortController=="function",u2=U0e?AbortController:class{constructor(){this.signal=new i$}abort(){this.signal.dispatchEvent("abort")}},F0e=typeof AbortSignal=="function",z0e=typeof u2.AbortSignal=="function",i$=F0e?AbortSignal:z0e?u2.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(e){if(e==="abort"){this.aborted=!0;let r={type:e,target:this};this.onabort(r),this._listeners.forEach(i=>i(r),this)}}onabort(){}addEventListener(e,r){e==="abort"&&this._listeners.push(r)}removeEventListener(e,r){e==="abort"&&(this._listeners=this._listeners.filter(i=>i!==r))}},aS=new Set,nS=(t,e)=>{let r=`LRU_CACHE_OPTION_${t}`;d2(r)&&fS(r,`${t} option`,`options.${e}`,mf)},oS=(t,e)=>{let r=`LRU_CACHE_METHOD_${t}`;if(d2(r)){let{prototype:i}=mf,{get:n}=Object.getOwnPropertyDescriptor(i,t);fS(r,`${t} method`,`cache.${e}()`,n)}},$0e=(t,e)=>{let r=`LRU_CACHE_PROPERTY_${t}`;if(d2(r)){let{prototype:i}=mf,{get:n}=Object.getOwnPropertyDescriptor(i,t);fS(r,`${t} property`,`cache.${e}`,n)}},n$=(...t)=>{typeof C.default=="object"&&C.default&&typeof C.default.emitWarning=="function"?C.default.emitWarning(...t):console.error(...t)},d2=t=>!aS.has(t),fS=(t,e,r,i)=>{aS.add(t);let n=`The ${e} is deprecated. Please use ${r} instead.`;n$(n,"DeprecationWarning",t,i)},cl=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),o$=t=>cl(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Ep:null:null,Ep=class extends Array{constructor(e){super(e),this.fill(0)}},sS=class{constructor(e){if(e===0)return[];let r=o$(e);this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},mf=class{constructor(e={}){let{max:r=0,ttl:i,ttlResolution:n=1,ttlAutopurge:o,updateAgeOnGet:s,updateAgeOnHas:f,allowStale:c,dispose:d,disposeAfter:l,noDisposeOnSet:h,noUpdateTTL:E,maxSize:b=0,sizeCalculation:T,fetchMethod:k,fetchContext:O,noDeleteOnFetchRejection:D,noDeleteOnStaleGet:I}=e,{length:L,maxAge:U,stale:$}=e instanceof mf?{}:e;if(r!==0&&!cl(r))throw new TypeError("max option must be a nonnegative integer");let K=r?o$(r):Array;if(!K)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=b,this.sizeCalculation=T||L,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=k||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=O,!this.fetchMethod&&O!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new K(r),this.prev=new K(r),this.head=0,this.tail=0,this.free=new sS(r),this.initialFill=1,this.size=0,typeof d=="function"&&(this.dispose=d),typeof l=="function"?(this.disposeAfter=l,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!h,this.noUpdateTTL=!!E,this.noDeleteOnFetchRejection=!!D,this.maxSize!==0){if(!cl(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!c||!!$,this.noDeleteOnStaleGet=!!I,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!f,this.ttlResolution=cl(n)||n===0?n:1,this.ttlAutopurge=!!o,this.ttl=i||U||0,this.ttl){if(!cl(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let q="LRU_CACHE_UNBOUNDED";d2(q)&&(aS.add(q),n$("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",q,mf))}$&&nS("stale","allowStale"),U&&nS("maxAge","ttl"),L&&nS("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new Ep(this.max),this.starts=new Ep(this.max),this.setItemTTL=(i,n,o=Nm.now())=>{if(this.starts[i]=n!==0?o:0,this.ttls[i]=n,n!==0&&this.ttlAutopurge){let s=setTimeout(()=>{this.isStale(i)&&this.delete(this.keyList[i])},n+1);s.unref&&s.unref()}},this.updateItemAge=i=>{this.starts[i]=this.ttls[i]!==0?Nm.now():0};let e=0,r=()=>{let i=Nm.now();if(this.ttlResolution>0){e=i;let n=setTimeout(()=>e=0,this.ttlResolution);n.unref&&n.unref()}return i};this.getRemainingTTL=i=>{let n=this.keyMap.get(i);return n===void 0?0:this.ttls[n]===0||this.starts[n]===0?1/0:this.starts[n]+this.ttls[n]-(e||r())},this.isStale=i=>this.ttls[i]!==0&&this.starts[i]!==0&&(e||r())-this.starts[i]>this.ttls[i]}updateItemAge(e){}setItemTTL(e,r,i){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new Ep(this.max),this.removeItemSize=e=>this.calculatedSize-=this.sizes[e],this.requireSize=(e,r,i,n)=>{if(!cl(i))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(i=n(r,e),!cl(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return i},this.addItemSize=(e,r,i,n)=>{this.sizes[e]=n;let o=this.maxSize-this.sizes[e];for(;this.calculatedSize>o;)this.evict(!0);this.calculatedSize+=this.sizes[e]}}removeItemSize(e){}addItemSize(e,r,i,n){}requireSize(e,r,i,n){if(i||n)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(e){return this.keyMap.get(this.keyList[e])===e}*entries(){for(let e of this.indexes())yield[this.keyList[e],this.valList[e]]}*rentries(){for(let e of this.rindexes())yield[this.keyList[e],this.valList[e]]}*keys(){for(let e of this.indexes())yield this.keyList[e]}*rkeys(){for(let e of this.rindexes())yield this.keyList[e]}*values(){for(let e of this.indexes())yield this.valList[e]}*rvalues(){for(let e of this.rindexes())yield this.valList[e]}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let i of this.indexes())if(e(this.valList[i],this.keyList[i],this))return this.get(this.keyList[i],r)}forEach(e,r=this){for(let i of this.indexes())e.call(r,this.valList[i],this.keyList[i],this)}rforEach(e,r=this){for(let i of this.rindexes())e.call(r,this.valList[i],this.keyList[i],this)}get prune(){return oS("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),e=!0);return e}dump(){let e=[];for(let r of this.indexes({allowStale:!0})){let i=this.keyList[r],n=this.valList[r],s={value:this.isBackgroundFetch(n)?n.__staleWhileFetching:n};if(this.ttls){s.ttl=this.ttls[r];let f=Nm.now()-this.starts[r];s.start=Math.floor(Date.now()-f)}this.sizes&&(s.size=this.sizes[r]),e.unshift([i,s])}return e}load(e){this.clear();for(let[r,i]of e){if(i.start){let n=Date.now()-i.start;i.start=Nm.now()-n}this.set(r,i.value,i)}}dispose(e,r,i){}set(e,r,{ttl:i=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,size:s=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL}={}){s=this.requireSize(e,r,s,f);let d=this.size===0?void 0:this.keyMap.get(e);if(d===void 0)d=this.newIndex(),this.keyList[d]=e,this.valList[d]=r,this.keyMap.set(e,d),this.next[this.tail]=d,this.prev[d]=this.tail,this.tail=d,this.size++,this.addItemSize(d,r,e,s),c=!1;else{let l=this.valList[d];r!==l&&(this.isBackgroundFetch(l)?l.__abortController.abort():o||(this.dispose(l,e,"set"),this.disposeAfter&&this.disposed.push([l,e,"set"])),this.removeItemSize(d),this.valList[d]=r,this.addItemSize(d,r,e,s)),this.moveToTail(d)}if(i!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),c||this.setItemTTL(d,i,n),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let e=this.valList[this.head];return this.evict(!0),e}}evict(e){let r=this.head,i=this.keyList[r],n=this.valList[r];return this.isBackgroundFetch(n)?n.__abortController.abort():(this.dispose(n,i,"evict"),this.disposeAfter&&this.disposed.push([n,i,"evict"])),this.removeItemSize(r),e&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(i),this.size--,r}has(e,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let i=this.keyMap.get(e);return i!==void 0&&!this.isStale(i)?(r&&this.updateItemAge(i),!0):!1}peek(e,{allowStale:r=this.allowStale}={}){let i=this.keyMap.get(e);if(i!==void 0&&(r||!this.isStale(i)))return this.valList[i]}backgroundFetch(e,r,i,n){let o=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(o))return o;let s=new u2,f={signal:s.signal,options:i,context:n},c=E=>(s.signal.aborted||this.set(e,E,f.options),E),d=E=>{if(this.valList[r]===h&&(!i.noDeleteOnFetchRejection||h.__staleWhileFetching===void 0?this.delete(e):this.valList[r]=h.__staleWhileFetching),h.__returned===h)throw E},l=E=>E(this.fetchMethod(e,o,f)),h=new Promise(l).then(c,d);return h.__abortController=s,h.__staleWhileFetching=o,h.__returned=null,r===void 0?(this.set(e,h,f.options),r=this.keyMap.get(e)):this.valList[r]=h,h}isBackgroundFetch(e){return e&&typeof e=="object"&&typeof e.then=="function"&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||e.__returned===null)}async fetch(e,{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:s=this.noDisposeOnSet,size:f=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:l=this.noDeleteOnFetchRejection,fetchContext:h=this.fetchContext}={}){if(!this.fetchMethod)return this.get(e,{allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:n});let E={allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:s,size:f,sizeCalculation:c,noUpdateTTL:d,noDeleteOnFetchRejection:l},b=this.keyMap.get(e);if(b===void 0){let T=this.backgroundFetch(e,b,E,h);return T.__returned=T}else{let T=this.valList[b];if(this.isBackgroundFetch(T))return r&&T.__staleWhileFetching!==void 0?T.__staleWhileFetching:T.__returned=T;if(!this.isStale(b))return this.moveToTail(b),i&&this.updateItemAge(b),T;let k=this.backgroundFetch(e,b,E,h);return r&&k.__staleWhileFetching!==void 0?k.__staleWhileFetching:k.__returned=k}}get(e,{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet}={}){let o=this.keyMap.get(e);if(o!==void 0){let s=this.valList[o],f=this.isBackgroundFetch(s);return this.isStale(o)?f?r?s.__staleWhileFetching:void 0:(n||this.delete(e),r?s:void 0):f?void 0:(this.moveToTail(o),i&&this.updateItemAge(o),s)}}connect(e,r){this.prev[r]=e,this.next[e]=r}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return oS("del","delete"),this.delete}delete(e){let r=!1;if(this.size!==0){let i=this.keyMap.get(e);if(i!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(i);let n=this.valList[i];this.isBackgroundFetch(n)?n.__abortController.abort():(this.dispose(n,e,"delete"),this.disposeAfter&&this.disposed.push([n,e,"delete"])),this.keyMap.delete(e),this.keyList[i]=null,this.valList[i]=null,i===this.tail?this.tail=this.prev[i]:i===this.head?this.head=this.next[i]:(this.next[this.prev[i]]=this.next[i],this.prev[this.next[i]]=this.prev[i]),this.size--,this.free.push(i)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let e of this.rindexes({allowStale:!0})){let r=this.valList[e];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let i=this.keyList[e];this.dispose(r,i,"delete"),this.disposeAfter&&this.disposed.push([r,i,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return oS("reset","clear"),this.clear}get length(){return $0e("length","size"),this.size}static get AbortController(){return u2}static get AbortSignal(){return i$}};s$.exports=mf});var h$=z((cTe,l$)=>{x();l$.exports=lS;var d$=128,K0e=127,H0e=~K0e,V0e=Math.pow(2,31);function lS(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw lS.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var i=r;t>=V0e;)e[r++]=t&255|d$,t/=128;for(;t&H0e;)e[r++]=t&255|d$,t>>>=7;return e[r]=t|0,lS.bytes=r-i+1,e}});var m$=z((dTe,y$)=>{x();y$.exports=hS;var G0e=128,p$=127;function hS(t,i){var r=0,i=i||0,n=0,o=i,s,f=t.length;do{if(o>=f||n>49)throw hS.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&p$)<<n:(s&p$)*Math.pow(2,n),n+=7}while(s>=G0e);return hS.bytes=o-i,r}});var v$=z((hTe,g$)=>{x();var Z0e=Math.pow(2,7),Y0e=Math.pow(2,14),J0e=Math.pow(2,21),Q0e=Math.pow(2,28),X0e=Math.pow(2,35),eye=Math.pow(2,42),tye=Math.pow(2,49),rye=Math.pow(2,56),iye=Math.pow(2,63);g$.exports=function(t){return t<Z0e?1:t<Y0e?2:t<J0e?3:t<Q0e?4:t<X0e?5:t<eye?6:t<tye?7:t<rye?8:t<iye?9:10}});var w$=z((yTe,b$)=>{x();b$.exports={encode:h$(),decode:m$(),encodingLength:v$()}});var x$=z((bf,E$)=>{x();var _$=typeof self<"u"?self:bf,h2=function(){function t(){this.fetch=!1,this.DOMException=_$.DOMException}return t.prototype=_$,new t}();(function(t){var e=function(r){var i={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function n(B){return B&&DataView.prototype.isPrototypeOf(B)}if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(B){return B&&o.indexOf(Object.prototype.toString.call(B))>-1};function f(B){if(typeof B!="string"&&(B=String(B)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(B))throw new TypeError("Invalid character in header field name");return B.toLowerCase()}function c(B){return typeof B!="string"&&(B=String(B)),B}function d(B){var w={next:function(){var M=B.shift();return{done:M===void 0,value:M}}};return i.iterable&&(w[Symbol.iterator]=function(){return w}),w}function l(B){this.map={},B instanceof l?B.forEach(function(w,M){this.append(M,w)},this):Array.isArray(B)?B.forEach(function(w){this.append(w[0],w[1])},this):B&&Object.getOwnPropertyNames(B).forEach(function(w){this.append(w,B[w])},this)}l.prototype.append=function(B,w){B=f(B),w=c(w);var M=this.map[B];this.map[B]=M?M+", "+w:w},l.prototype.delete=function(B){delete this.map[f(B)]},l.prototype.get=function(B){return B=f(B),this.has(B)?this.map[B]:null},l.prototype.has=function(B){return this.map.hasOwnProperty(f(B))},l.prototype.set=function(B,w){this.map[f(B)]=c(w)},l.prototype.forEach=function(B,w){for(var M in this.map)this.map.hasOwnProperty(M)&&B.call(w,this.map[M],M,this)},l.prototype.keys=function(){var B=[];return this.forEach(function(w,M){B.push(M)}),d(B)},l.prototype.values=function(){var B=[];return this.forEach(function(w){B.push(w)}),d(B)},l.prototype.entries=function(){var B=[];return this.forEach(function(w,M){B.push([M,w])}),d(B)},i.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function h(B){if(B.bodyUsed)return Promise.reject(new TypeError("Already read"));B.bodyUsed=!0}function E(B){return new Promise(function(w,M){B.onload=function(){w(B.result)},B.onerror=function(){M(B.error)}})}function b(B){var w=new FileReader,M=E(w);return w.readAsArrayBuffer(B),M}function T(B){var w=new FileReader,M=E(w);return w.readAsText(B),M}function k(B){for(var w=new Uint8Array(B),M=new Array(w.length),_=0;_<w.length;_++)M[_]=String.fromCharCode(w[_]);return M.join("")}function O(B){if(B.slice)return B.slice(0);var w=new Uint8Array(B.byteLength);return w.set(new Uint8Array(B)),w.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(B){this._bodyInit=B,B?typeof B=="string"?this._bodyText=B:i.blob&&Blob.prototype.isPrototypeOf(B)?this._bodyBlob=B:i.formData&&FormData.prototype.isPrototypeOf(B)?this._bodyFormData=B:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(B)?this._bodyText=B.toString():i.arrayBuffer&&i.blob&&n(B)?(this._bodyArrayBuffer=O(B.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(B)||s(B))?this._bodyArrayBuffer=O(B):this._bodyText=B=Object.prototype.toString.call(B):this._bodyText="",this.headers.get("content-type")||(typeof B=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(B)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var B=h(this);if(B)return B;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var B=h(this);if(B)return B;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(k(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then($)}),this.json=function(){return this.text().then(JSON.parse)},this}var I=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function L(B){var w=B.toUpperCase();return I.indexOf(w)>-1?w:B}function U(B,w){w=w||{};var M=w.body;if(B instanceof U){if(B.bodyUsed)throw new TypeError("Already read");this.url=B.url,this.credentials=B.credentials,w.headers||(this.headers=new l(B.headers)),this.method=B.method,this.mode=B.mode,this.signal=B.signal,!M&&B._bodyInit!=null&&(M=B._bodyInit,B.bodyUsed=!0)}else this.url=String(B);if(this.credentials=w.credentials||this.credentials||"same-origin",(w.headers||!this.headers)&&(this.headers=new l(w.headers)),this.method=L(w.method||this.method||"GET"),this.mode=w.mode||this.mode||null,this.signal=w.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&M)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(M)}U.prototype.clone=function(){return new U(this,{body:this._bodyInit})};function $(B){var w=new FormData;return B.trim().split("&").forEach(function(M){if(M){var _=M.split("="),a=_.shift().replace(/\+/g," "),u=_.join("=").replace(/\+/g," ");w.append(decodeURIComponent(a),decodeURIComponent(u))}}),w}function K(B){var w=new l,M=B.replace(/\r?\n[\t ]+/g," ");return M.split(/\r?\n/).forEach(function(_){var a=_.split(":"),u=a.shift().trim();if(u){var p=a.join(":").trim();w.append(u,p)}}),w}D.call(U.prototype);function q(B,w){w||(w={}),this.type="default",this.status=w.status===void 0?200:w.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in w?w.statusText:"OK",this.headers=new l(w.headers),this.url=w.url||"",this._initBody(B)}D.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},q.error=function(){var B=new q(null,{status:0,statusText:""});return B.type="error",B};var F=[301,302,303,307,308];q.redirect=function(B,w){if(F.indexOf(w)===-1)throw new RangeError("Invalid status code");return new q(null,{status:w,headers:{location:B}})},r.DOMException=t.DOMException;try{new r.DOMException}catch{r.DOMException=function(w,M){this.message=w,this.name=M;var _=Error(w);this.stack=_.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function G(B,w){return new Promise(function(M,_){var a=new U(B,w);if(a.signal&&a.signal.aborted)return _(new r.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function p(){u.abort()}u.onload=function(){var v={status:u.status,statusText:u.statusText,headers:K(u.getAllResponseHeaders()||"")};v.url="responseURL"in u?u.responseURL:v.headers.get("X-Request-URL");var g="response"in u?u.response:u.responseText;M(new q(g,v))},u.onerror=function(){_(new TypeError("Network request failed"))},u.ontimeout=function(){_(new TypeError("Network request failed"))},u.onabort=function(){_(new r.DOMException("Aborted","AbortError"))},u.open(a.method,a.url,!0),a.credentials==="include"?u.withCredentials=!0:a.credentials==="omit"&&(u.withCredentials=!1),"responseType"in u&&i.blob&&(u.responseType="blob"),a.headers.forEach(function(v,g){u.setRequestHeader(g,v)}),a.signal&&(a.signal.addEventListener("abort",p),u.onreadystatechange=function(){u.readyState===4&&a.signal.removeEventListener("abort",p)}),u.send(typeof a._bodyInit>"u"?null:a._bodyInit)})}return G.polyfill=!0,t.fetch||(t.fetch=G,t.Headers=l,t.Request=U,t.Response=q),r.Headers=l,r.Request=U,r.Response=q,r.fetch=G,Object.defineProperty(r,"__esModule",{value:!0}),r}({})})(h2);h2.fetch.ponyfill=!0;delete h2.fetch.polyfill;var Tp=h2;bf=Tp.fetch;bf.default=Tp.fetch;bf.fetch=Tp.fetch;bf.Headers=Tp.Headers;bf.Request=Tp.Request;bf.Response=Tp.Response;E$.exports=bf});var q$=z(Ef=>{"use strict";x();var lye=np().ec,Dp=new lye("secp256k1"),b2=globalThis.crypto||globalThis.msCrypto||{},bS=b2.subtle||b2.webkitSubtle,Bp=jd(),hye=j.Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),pye=j.Buffer.alloc(32,0);function Hr(t,e){if(!t)throw new Error(e||"Assertion failed")}function yye(t){return j.Buffer.isBuffer(t)&&t.length===32}function Cp(t){return yye(t)?t.compare(pye)>0&&t.compare(hye)<0:!1}function mye(t,e){if(t.length!==e.length)return!1;for(var r=0,i=0;i<t.length;i++)r|=t[i]^e[i];return r===0}function $m(t){var e=new Uint8Array(t);return typeof b2.getRandomValues>"u"?j.Buffer.from(Bp.randomBytes(t)):(b2.getRandomValues(e),j.Buffer.from(e))}function O$(t){return new Promise(function(e){var r=Bp.createHash("sha512"),i=r.update(t).digest();e(new Uint8Array(i))})}function j$(t){return function(e,r,i){return new Promise(function(n){if(bS){var o={name:"AES-CBC"},s=bS.importKey("raw",r,o,!1,[t]);return s.then(function(d){var l={name:"AES-CBC",iv:e};return bS[t](l,d,i)}).then(function(d){n(j.Buffer.from(new Uint8Array(d)))})}else if(t==="encrypt"){var f=Bp.createCipheriv("aes-256-cbc",r,e);let d=f.update(i),l=f.final();n(j.Buffer.concat([d,l]))}else if(t==="decrypt"){var c=Bp.createDecipheriv("aes-256-cbc",r,e);let d=c.update(i),l=c.final();n(j.Buffer.concat([d,l]))}})}}var gye=j$("encrypt"),vye=j$("decrypt");function bye(t,e){return new Promise(function(r){var i=Bp.createHmac("sha256",j.Buffer.from(t));i.update(e);var n=i.digest();r(n)})}function wye(t,e,r){return new Promise(function(i){var n=Bp.createHmac("sha256",j.Buffer.from(t));n.update(e);var o=n.digest();i(mye(o,r))})}Ef.generatePrivate=function(){for(var t=$m(32);!Cp(t);)t=$m(32);return t};var _ye=Ef.getPublic=function(t){return Hr(t.length===32,"Bad private key"),Hr(Cp(t),"Bad private key"),j.Buffer.from(Dp.keyFromPrivate(t).getPublic("arr"))},fPe=Ef.getPublicCompressed=function(t){Hr(t.length===32,"Bad private key"),Hr(Cp(t),"Bad private key");let e=!0;return j.Buffer.from(Dp.keyFromPrivate(t).getPublic(e,"arr"))};Ef.sign=function(t,e){return new Promise(function(r){Hr(t.length===32,"Bad private key"),Hr(Cp(t),"Bad private key"),Hr(e.length>0,"Message should not be empty"),Hr(e.length<=32,"Message is too long"),r(j.Buffer.from(Dp.sign(e,t,{canonical:!0}).toDER()))})};Ef.verify=function(t,e,r){return new Promise(function(i,n){Hr(t.length===65||t.length===33,"Bad public key"),t.length===65&&Hr(t[0]===4,"Bad public key"),t.length===33&&Hr(t[0]===2||t[0]===3,"Bad public key"),Hr(e.length>0,"Message should not be empty"),Hr(e.length<=32,"Message is too long"),Dp.verify(e,r,t)?i(null):n(new Error("Bad signature"))})};var N$=Ef.derive=function(t,e){return new Promise(function(r){Hr(j.Buffer.isBuffer(t),"Bad private key"),Hr(j.Buffer.isBuffer(e),"Bad public key"),Hr(t.length===32,"Bad private key"),Hr(Cp(t),"Bad private key"),Hr(e.length===65||e.length===33,"Bad public key"),e.length===65&&Hr(e[0]===4,"Bad public key"),e.length===33&&Hr(e[0]===2||e[0]===3,"Bad public key");var i=Dp.keyFromPrivate(t),n=Dp.keyFromPublic(e),o=i.derive(n.getPublic());r(j.Buffer.from(o.toArray()))})};Ef.encrypt=function(t,e,r){r=r||{};var i,n,o,s;return new Promise(function(f){for(var c=r.ephemPrivateKey||$m(32);!Cp(c);)c=r.ephemPrivateKey||$m(32);n=_ye(c),f(N$(c,t))}).then(function(f){return O$(f)}).then(function(f){i=r.iv||$m(16);var c=f.slice(0,32);return s=f.slice(32),gye(i,c,e)}).then(function(f){o=f;var c=j.Buffer.concat([i,n,o]);return bye(s,c)}).then(function(f){return{iv:i,ephemPublicKey:n,ciphertext:o,mac:f}})};Ef.decrypt=function(t,e){var r;return N$(t,e.ephemPublicKey).then(function(i){return O$(i)}).then(function(i){r=i.slice(0,32);var n=i.slice(32),o=j.Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]);return wye(n,o,e.mac)}).then(function(i){return Hr(i,"Bad MAC"),vye(e.iv,r,e.ciphertext)}).then(function(i){return j.Buffer.from(new Uint8Array(i))})}});x();x();var Op=class{async isTenant(e){return!0}};x();var Lf={};li(Lf,{code:()=>Ml,decode:()=>n_,encode:()=>HK,name:()=>KK});x();x();x();x();var SW=["string","number","bigint","symbol"],MW=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function $S(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(SW.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(AW(t))return"Buffer";let r=TW(t);return r||"Object"}function AW(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function TW(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(MW.includes(e))return e}x();var X=class{constructor(e,r,i){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=i}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};X.uint=new X(0,"uint",!0);X.negint=new X(1,"negint",!0);X.bytes=new X(2,"bytes",!0);X.string=new X(3,"string",!0);X.array=new X(4,"array",!1);X.map=new X(5,"map",!1);X.tag=new X(6,"tag",!1);X.float=new X(7,"float",!0);X.false=new X(7,"false",!0);X.true=new X(7,"true",!0);X.null=new X(7,"null",!0);X.undefined=new X(7,"undefined",!0);X.break=new X(7,"break",!0);var de=class{constructor(e,r,i){this.type=e,this.value=r,this.encodedLength=i,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};x();x();var pl=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",RW=new TextDecoder,PW=new TextEncoder;function Qm(t){return pl&&globalThis.Buffer.isBuffer(t)}function N2(t){return t instanceof Uint8Array?Qm(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var VS=pl?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):KS(t,e,r):(t,e,r)=>r-e>64?RW.decode(t.subarray(e,r)):KS(t,e,r),GS=pl?t=>t.length>64?globalThis.Buffer.from(t):WS(t):t=>t.length>64?PW.encode(t):WS(t),Ds=t=>Uint8Array.from(t),yl=pl?(t,e,r)=>Qm(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),ZS=pl?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),N2(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),i=0;for(let n of t)i+n.length>r.length&&(n=n.subarray(0,r.length-i)),r.set(n,i),i+=n.length;return r},YS=pl?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function JS(t,e){if(Qm(t)&&Qm(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function WS(t,e=1/0){let r,i=t.length,n=null,o=[];for(let s=0;s<i;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function KS(t,e,r){let i=[];for(;e<r;){let n=t[e],o=null,s=n>239?4:n>223?3:n>191?2:1;if(e+s<=r){let f,c,d,l;switch(s){case 1:n<128&&(o=n);break;case 2:f=t[e+1],(f&192)===128&&(l=(n&31)<<6|f&63,l>127&&(o=l));break;case 3:f=t[e+1],c=t[e+2],(f&192)===128&&(c&192)===128&&(l=(n&15)<<12|(f&63)<<6|c&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:f=t[e+1],c=t[e+2],d=t[e+3],(f&192)===128&&(c&192)===128&&(d&192)===128&&(l=(n&15)<<18|(f&63)<<12|(c&63)<<6|d&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),e+=s}return kW(i)}var HS=4096;function kW(t){let e=t.length;if(e<=HS)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=HS));return r}var IW=256,jp=class{constructor(e=IW){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let n=r.length-(this.maxCursor-this.cursor)-1;r.set(e,n)}else{if(r){let n=r.length-(this.maxCursor-this.cursor)-1;n<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,n),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=YS(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let i=this.chunks[0];e&&this.cursor>i.length/2?(r=this.cursor===i.length?i:i.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=yl(i,0,this.cursor)}else r=ZS(this.chunks,this.cursor);return e&&this.reset(),r}};x();var pt="CBOR decode error:",q2="CBOR encode error:",Np=[];Np[23]=1;Np[24]=2;Np[25]=3;Np[26]=5;Np[27]=9;function Ma(t,e,r){if(t.length-e<r)throw new Error(`${pt} not enough data for type`)}x();x();var pi=[24,256,65536,4294967296,BigInt("18446744073709551616")];function An(t,e,r){Ma(t,e,1);let i=t[e];if(r.strict===!0&&i<pi[0])throw new Error(`${pt} integer encoded in more bytes than necessary (strict decode)`);return i}function Tn(t,e,r){Ma(t,e,2);let i=t[e]<<8|t[e+1];if(r.strict===!0&&i<pi[1])throw new Error(`${pt} integer encoded in more bytes than necessary (strict decode)`);return i}function Rn(t,e,r){Ma(t,e,4);let i=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&i<pi[2])throw new Error(`${pt} integer encoded in more bytes than necessary (strict decode)`);return i}function Pn(t,e,r){Ma(t,e,8);let i=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],n=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],o=(BigInt(i)<<BigInt(32))+BigInt(n);if(r.strict===!0&&o<pi[3])throw new Error(`${pt} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(r.allowBigInt===!0)return o;throw new Error(`${pt} integers outside of the safe integer range are not supported`)}function QS(t,e,r,i){return new de(X.uint,An(t,e+1,i),2)}function XS(t,e,r,i){return new de(X.uint,Tn(t,e+1,i),3)}function e9(t,e,r,i){return new de(X.uint,Rn(t,e+1,i),5)}function t9(t,e,r,i){return new de(X.uint,Pn(t,e+1,i),9)}function Xn(t,e){return Si(t,0,e.value)}function Si(t,e,r){if(r<pi[0]){let i=Number(r);t.push([e|i])}else if(r<pi[1]){let i=Number(r);t.push([e|24,i])}else if(r<pi[2]){let i=Number(r);t.push([e|25,i>>>8,i&255])}else if(r<pi[3]){let i=Number(r);t.push([e|26,i>>>24&255,i>>>16&255,i>>>8&255,i&255])}else{let i=BigInt(r);if(i<pi[4]){let n=[e|27,0,0,0,0,0,0,0],o=Number(i&BigInt(4294967295)),s=Number(i>>BigInt(32)&BigInt(4294967295));n[8]=o&255,o=o>>8,n[7]=o&255,o=o>>8,n[6]=o&255,o=o>>8,n[5]=o&255,n[4]=s&255,s=s>>8,n[3]=s&255,s=s>>8,n[2]=s&255,s=s>>8,n[1]=s&255,t.push(n)}else throw new Error(`${pt} encountered BigInt larger than allowable range`)}}Xn.encodedSize=function(e){return Si.encodedSize(e.value)};Si.encodedSize=function(e){return e<pi[0]?1:e<pi[1]?2:e<pi[2]?3:e<pi[3]?5:9};Xn.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};x();function r9(t,e,r,i){return new de(X.negint,-1-An(t,e+1,i),2)}function i9(t,e,r,i){return new de(X.negint,-1-Tn(t,e+1,i),3)}function n9(t,e,r,i){return new de(X.negint,-1-Rn(t,e+1,i),5)}var L2=BigInt(-1),o9=BigInt(1);function s9(t,e,r,i){let n=Pn(t,e+1,i);if(typeof n!="bigint"){let o=-1-n;if(o>=Number.MIN_SAFE_INTEGER)return new de(X.negint,o,9)}if(i.allowBigInt!==!0)throw new Error(`${pt} integers outside of the safe integer range are not supported`);return new de(X.negint,L2-BigInt(n),9)}function Xm(t,e){let r=e.value,i=typeof r=="bigint"?r*L2-o9:r*-1-1;Si(t,e.type.majorEncoded,i)}Xm.encodedSize=function(e){let r=e.value,i=typeof r=="bigint"?r*L2-o9:r*-1-1;return i<pi[0]?1:i<pi[1]?2:i<pi[2]?3:i<pi[3]?5:9};Xm.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};x();function qp(t,e,r,i){Ma(t,e,r+i);let n=yl(t,e+r,e+r+i);return new de(X.bytes,n,r+i)}function a9(t,e,r,i){return qp(t,e,1,r)}function f9(t,e,r,i){return qp(t,e,2,An(t,e+1,i))}function c9(t,e,r,i){return qp(t,e,3,Tn(t,e+1,i))}function u9(t,e,r,i){return qp(t,e,5,Rn(t,e+1,i))}function d9(t,e,r,i){let n=Pn(t,e+1,i);if(typeof n=="bigint")throw new Error(`${pt} 64-bit integer bytes lengths not supported`);return qp(t,e,9,n)}function eg(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===X.string?GS(t.value):t.value),t.encodedBytes}function ml(t,e){let r=eg(e);Si(t,e.type.majorEncoded,r.length),t.push(r)}ml.encodedSize=function(e){let r=eg(e);return Si.encodedSize(r.length)+r.length};ml.compareTokens=function(e,r){return BW(eg(e),eg(r))};function BW(t,e){return t.length<e.length?-1:t.length>e.length?1:JS(t,e)}x();function Lp(t,e,r,i,n){let o=r+i;Ma(t,e,o);let s=new de(X.string,VS(t,e+r,e+o),o);return n.retainStringBytes===!0&&(s.byteValue=yl(t,e+r,e+o)),s}function l9(t,e,r,i){return Lp(t,e,1,r,i)}function h9(t,e,r,i){return Lp(t,e,2,An(t,e+1,i),i)}function p9(t,e,r,i){return Lp(t,e,3,Tn(t,e+1,i),i)}function y9(t,e,r,i){return Lp(t,e,5,Rn(t,e+1,i),i)}function m9(t,e,r,i){let n=Pn(t,e+1,i);if(typeof n=="bigint")throw new Error(`${pt} 64-bit integer string lengths not supported`);return Lp(t,e,9,n,i)}var g9=ml;x();function gl(t,e,r,i){return new de(X.array,i,r)}function v9(t,e,r,i){return gl(t,e,1,r)}function b9(t,e,r,i){return gl(t,e,2,An(t,e+1,i))}function w9(t,e,r,i){return gl(t,e,3,Tn(t,e+1,i))}function _9(t,e,r,i){return gl(t,e,5,Rn(t,e+1,i))}function E9(t,e,r,i){let n=Pn(t,e+1,i);if(typeof n=="bigint")throw new Error(`${pt} 64-bit integer array lengths not supported`);return gl(t,e,9,n)}function x9(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${pt} indefinite length items not allowed`);return gl(t,e,1,1/0)}function tg(t,e){Si(t,X.array.majorEncoded,e.value)}tg.compareTokens=Xn.compareTokens;tg.encodedSize=function(e){return Si.encodedSize(e.value)};x();function vl(t,e,r,i){return new de(X.map,i,r)}function S9(t,e,r,i){return vl(t,e,1,r)}function M9(t,e,r,i){return vl(t,e,2,An(t,e+1,i))}function A9(t,e,r,i){return vl(t,e,3,Tn(t,e+1,i))}function T9(t,e,r,i){return vl(t,e,5,Rn(t,e+1,i))}function R9(t,e,r,i){let n=Pn(t,e+1,i);if(typeof n=="bigint")throw new Error(`${pt} 64-bit integer map lengths not supported`);return vl(t,e,9,n)}function P9(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${pt} indefinite length items not allowed`);return vl(t,e,1,1/0)}function rg(t,e){Si(t,X.map.majorEncoded,e.value)}rg.compareTokens=Xn.compareTokens;rg.encodedSize=function(e){return Si.encodedSize(e.value)};x();function k9(t,e,r,i){return new de(X.tag,r,1)}function I9(t,e,r,i){return new de(X.tag,An(t,e+1,i),2)}function D9(t,e,r,i){return new de(X.tag,Tn(t,e+1,i),3)}function B9(t,e,r,i){return new de(X.tag,Rn(t,e+1,i),5)}function C9(t,e,r,i){return new de(X.tag,Pn(t,e+1,i),9)}function ig(t,e){Si(t,X.tag.majorEncoded,e.value)}ig.compareTokens=Xn.compareTokens;ig.encodedSize=function(e){return Si.encodedSize(e.value)};x();var LW=20,UW=21,FW=22,zW=23;function O9(t,e,r,i){if(i.allowUndefined===!1)throw new Error(`${pt} undefined values are not supported`);return i.coerceUndefinedToNull===!0?new de(X.null,null,1):new de(X.undefined,void 0,1)}function j9(t,e,r,i){if(i.allowIndefinite===!1)throw new Error(`${pt} indefinite length items not allowed`);return new de(X.break,void 0,1)}function U2(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${pt} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${pt} Infinity values are not supported`)}return new de(X.float,t,e)}function N9(t,e,r,i){return U2(F2(t,e+1),3,i)}function q9(t,e,r,i){return U2(z2(t,e+1),5,i)}function L9(t,e,r,i){return U2($9(t,e+1),9,i)}function ng(t,e,r){let i=e.value;if(i===!1)t.push([X.float.majorEncoded|LW]);else if(i===!0)t.push([X.float.majorEncoded|UW]);else if(i===null)t.push([X.float.majorEncoded|FW]);else if(i===void 0)t.push([X.float.majorEncoded|zW]);else{let n,o=!1;(!r||r.float64!==!0)&&(F9(i),n=F2(Go,1),i===n||Number.isNaN(i)?(Go[0]=249,t.push(Go.slice(0,3)),o=!0):(z9(i),n=z2(Go,1),i===n&&(Go[0]=250,t.push(Go.slice(0,5)),o=!0))),o||($W(i),n=$9(Go,1),Go[0]=251,t.push(Go.slice(0,9)))}}ng.encodedSize=function(e,r){let i=e.value;if(i===!1||i===!0||i===null||i===void 0)return 1;if(!r||r.float64!==!0){F9(i);let n=F2(Go,1);if(i===n||Number.isNaN(i))return 3;if(z9(i),n=z2(Go,1),i===n)return 5}return 9};var U9=new ArrayBuffer(9),eo=new DataView(U9,1),Go=new Uint8Array(U9,0);function F9(t){if(t===1/0)eo.setUint16(0,31744,!1);else if(t===-1/0)eo.setUint16(0,64512,!1);else if(Number.isNaN(t))eo.setUint16(0,32256,!1);else{eo.setFloat32(0,t);let e=eo.getUint32(0),r=(e&2139095040)>>23,i=e&8388607;if(r===255)eo.setUint16(0,31744,!1);else if(r===0)eo.setUint16(0,(t&2147483648)>>16|i>>13,!1);else{let n=r-127;n<-24?eo.setUint16(0,0):n<-14?eo.setUint16(0,(e&2147483648)>>16|1<<24+n,!1):eo.setUint16(0,(e&2147483648)>>16|n+15<<10|i>>13,!1)}}}function F2(t,e){if(t.length-e<2)throw new Error(`${pt} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let i=r>>10&31,n=r&1023,o;return i===0?o=n*2**-24:i!==31?o=(n+1024)*2**(i-25):o=n===0?1/0:NaN,r&32768?-o:o}function z9(t){eo.setFloat32(0,t,!1)}function z2(t,e){if(t.length-e<4)throw new Error(`${pt} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function $W(t){eo.setFloat64(0,t,!1)}function $9(t,e){if(t.length-e<8)throw new Error(`${pt} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}ng.compareTokens=Xn.compareTokens;function Qt(t,e,r){throw new Error(`${pt} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function og(t){return()=>{throw new Error(`${pt} ${t}`)}}var se=[];for(let t=0;t<=23;t++)se[t]=Qt;se[24]=QS;se[25]=XS;se[26]=e9;se[27]=t9;se[28]=Qt;se[29]=Qt;se[30]=Qt;se[31]=Qt;for(let t=32;t<=55;t++)se[t]=Qt;se[56]=r9;se[57]=i9;se[58]=n9;se[59]=s9;se[60]=Qt;se[61]=Qt;se[62]=Qt;se[63]=Qt;for(let t=64;t<=87;t++)se[t]=a9;se[88]=f9;se[89]=c9;se[90]=u9;se[91]=d9;se[92]=Qt;se[93]=Qt;se[94]=Qt;se[95]=og("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)se[t]=l9;se[120]=h9;se[121]=p9;se[122]=y9;se[123]=m9;se[124]=Qt;se[125]=Qt;se[126]=Qt;se[127]=og("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)se[t]=v9;se[152]=b9;se[153]=w9;se[154]=_9;se[155]=E9;se[156]=Qt;se[157]=Qt;se[158]=Qt;se[159]=x9;for(let t=160;t<=183;t++)se[t]=S9;se[184]=M9;se[185]=A9;se[186]=T9;se[187]=R9;se[188]=Qt;se[189]=Qt;se[190]=Qt;se[191]=P9;for(let t=192;t<=215;t++)se[t]=k9;se[216]=I9;se[217]=D9;se[218]=B9;se[219]=C9;se[220]=Qt;se[221]=Qt;se[222]=Qt;se[223]=Qt;for(let t=224;t<=243;t++)se[t]=og("simple values are not supported");se[244]=Qt;se[245]=Qt;se[246]=Qt;se[247]=O9;se[248]=og("simple values are not supported");se[249]=N9;se[250]=q9;se[251]=L9;se[252]=Qt;se[253]=Qt;se[254]=Qt;se[255]=j9;var Zo=[];for(let t=0;t<24;t++)Zo[t]=new de(X.uint,t,1);for(let t=-1;t>=-24;t--)Zo[31-t]=new de(X.negint,t,1);Zo[64]=new de(X.bytes,new Uint8Array(0),1);Zo[96]=new de(X.string,"",1);Zo[128]=new de(X.array,0,1);Zo[160]=new de(X.map,0,1);Zo[244]=new de(X.false,!1,1);Zo[245]=new de(X.true,!0,1);Zo[246]=new de(X.null,null,1);function W9(t){switch(t.type){case X.false:return Ds([244]);case X.true:return Ds([245]);case X.null:return Ds([246]);case X.bytes:return t.value.length?void 0:Ds([64]);case X.string:return t.value===""?Ds([96]):void 0;case X.array:return t.value===0?Ds([128]):void 0;case X.map:return t.value===0?Ds([160]):void 0;case X.uint:return t.value<24?Ds([Number(t.value)]):void 0;case X.negint:if(t.value>=-24)return Ds([31-Number(t.value)])}}var KW={float64:!1,mapSorter:GW,quickEncodeToken:W9};function HW(){let t=[];return t[X.uint.major]=Xn,t[X.negint.major]=Xm,t[X.bytes.major]=ml,t[X.string.major]=g9,t[X.array.major]=tg,t[X.map.major]=rg,t[X.tag.major]=ig,t[X.float.major]=ng,t}var K9=HW(),$2=new jp,bl=class{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${q2} object contains circular references`);return new bl(r,e)}},jf={null:new de(X.null,null),undefined:new de(X.undefined,void 0),true:new de(X.true,!0),false:new de(X.false,!1),emptyArray:new de(X.array,0),emptyMap:new de(X.map,0)},Nf={number(t,e,r,i){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new de(X.float,t):t>=0?new de(X.uint,t):new de(X.negint,t)},bigint(t,e,r,i){return t>=BigInt(0)?new de(X.uint,t):new de(X.negint,t)},Uint8Array(t,e,r,i){return new de(X.bytes,t)},string(t,e,r,i){return new de(X.string,t)},boolean(t,e,r,i){return t?jf.true:jf.false},null(t,e,r,i){return jf.null},undefined(t,e,r,i){return jf.undefined},ArrayBuffer(t,e,r,i){return new de(X.bytes,new Uint8Array(t))},DataView(t,e,r,i){return new de(X.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,i){if(!t.length)return r.addBreakTokens===!0?[jf.emptyArray,new de(X.break)]:jf.emptyArray;i=bl.createCheck(i,t);let n=[],o=0;for(let s of t)n[o++]=sg(s,r,i);return r.addBreakTokens?[new de(X.array,t.length),n,new de(X.break)]:[new de(X.array,t.length),n]},Object(t,e,r,i){let n=e!=="Object",o=n?t.keys():Object.keys(t),s=n?t.size:o.length;if(!s)return r.addBreakTokens===!0?[jf.emptyMap,new de(X.break)]:jf.emptyMap;i=bl.createCheck(i,t);let f=[],c=0;for(let d of o)f[c++]=[sg(d,r,i),sg(n?t.get(d):t[d],r,i)];return VW(f,r),r.addBreakTokens?[new de(X.map,s),f,new de(X.break)]:[new de(X.map,s),f]}};Nf.Map=Nf.Object;Nf.Buffer=Nf.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Nf[`${t}Array`]=Nf.DataView;function sg(t,e={},r){let i=$S(t),n=e&&e.typeEncoders&&e.typeEncoders[i]||Nf[i];if(typeof n=="function"){let s=n(t,i,e,r);if(s!=null)return s}let o=Nf[i];if(!o)throw new Error(`${q2} unsupported type: ${i}`);return o(t,i,e,r)}function VW(t,e){e.mapSorter&&t.sort(e.mapSorter)}function GW(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],i=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==i.type)return r.type.compare(i.type);let n=r.type.major,o=K9[n].compareTokens(r,i);return o===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o}function H9(t,e,r,i){if(Array.isArray(e))for(let n of e)H9(t,n,r,i);else r[e.type.major](t,e,i)}function ZW(t,e,r){let i=sg(t,r);if(!Array.isArray(i)&&r.quickEncodeToken){let n=r.quickEncodeToken(i);if(n)return n;let o=e[i.type.major];if(o.encodedSize){let s=o.encodedSize(i,r),f=new jp(s);if(o(f,i,r),f.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return N2(f.chunks[0])}}return $2.reset(),H9($2,i,e,r),$2.toBytes(!0)}function W2(t,e){return e=Object.assign({},KW,e),ZW(t,K9,e)}x();var YW={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},K2=class{constructor(e,r={}){this.pos=0,this.data=e,this.options=r}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],r=Zo[e];if(r===void 0){let i=se[e];if(!i)throw new Error(`${pt} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=e&31;r=i(this.data,this.pos,n,this.options)}return this.pos+=r.encodedLength,r}},Up=Symbol.for("DONE"),ag=Symbol.for("BREAK");function JW(t,e,r){let i=[];for(let n=0;n<t.value;n++){let o=Fp(e,r);if(o===ag){if(t.value===1/0)break;throw new Error(`${pt} got unexpected break to lengthed array`)}if(o===Up)throw new Error(`${pt} found array but not enough entries (got ${n}, expected ${t.value})`);i[n]=o}return i}function QW(t,e,r){let i=r.useMaps===!0,n=i?void 0:{},o=i?new Map:void 0;for(let s=0;s<t.value;s++){let f=Fp(e,r);if(f===ag){if(t.value===1/0)break;throw new Error(`${pt} got unexpected break to lengthed map`)}if(f===Up)throw new Error(`${pt} found map but not enough entries (got ${s} [no key], expected ${t.value})`);if(i!==!0&&typeof f!="string")throw new Error(`${pt} non-string keys not supported (got ${typeof f})`);if(r.rejectDuplicateMapKeys===!0&&(i&&o.has(f)||!i&&f in n))throw new Error(`${pt} found repeat map key "${f}"`);let c=Fp(e,r);if(c===Up)throw new Error(`${pt} found map but not enough entries (got ${s} [no value], expected ${t.value})`);i?o.set(f,c):n[f]=c}return i?o:n}function Fp(t,e){if(t.done())return Up;let r=t.next();if(r.type===X.break)return ag;if(r.type.terminal)return r.value;if(r.type===X.array)return JW(r,t,e);if(r.type===X.map)return QW(r,t,e);if(r.type===X.tag){if(e.tags&&typeof e.tags[r.value]=="function"){let i=Fp(t,e);return e.tags[r.value](i)}throw new Error(`${pt} tag not supported (${r.value})`)}throw new Error("unsupported")}function H2(t,e){if(!(t instanceof Uint8Array))throw new Error(`${pt} data to decode must be a Uint8Array`);e=Object.assign({},YW,e);let r=e.tokenizer||new K2(t,e),i=Fp(r,e);if(i===Up)throw new Error(`${pt} did not find any content to decode`);if(i===ag)throw new Error(`${pt} got unexpected break`);if(!r.done())throw new Error(`${pt} too many terminals, data makes no sense`);return i}x();x();x();var eK=Z9,V9=128,tK=127,rK=~tK,iK=Math.pow(2,31);function Z9(t,e,r){e=e||[],r=r||0;for(var i=r;t>=iK;)e[r++]=t&255|V9,t/=128;for(;t&rK;)e[r++]=t&255|V9,t>>>=7;return e[r]=t|0,Z9.bytes=r-i+1,e}var nK=V2,oK=128,G9=127;function V2(t,i){var r=0,i=i||0,n=0,o=i,s,f=t.length;do{if(o>=f)throw V2.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=n<28?(s&G9)<<n:(s&G9)*Math.pow(2,n),n+=7}while(s>=oK);return V2.bytes=o-i,r}var sK=Math.pow(2,7),aK=Math.pow(2,14),fK=Math.pow(2,21),cK=Math.pow(2,28),uK=Math.pow(2,35),dK=Math.pow(2,42),lK=Math.pow(2,49),hK=Math.pow(2,56),pK=Math.pow(2,63),yK=function(t){return t<sK?1:t<aK?2:t<fK?3:t<cK?4:t<uK?5:t<dK?6:t<lK?7:t<hK?8:t<pK?9:10},mK={encode:eK,decode:nK,encodingLength:yK},gK=mK,zp=gK;var $p=(t,e=0)=>[zp.decode(t,e),zp.decode.bytes],wl=(t,e,r=0)=>(zp.encode(t,e,r),e),_l=t=>zp.encodingLength(t);x();var cu={};li(cu,{coerce:()=>to,empty:()=>Y9,equals:()=>G2,fromHex:()=>bK,fromString:()=>Z2,isBinary:()=>wK,toHex:()=>vK,toString:()=>Y2});x();var Y9=new Uint8Array(0),vK=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),bK=t=>{let e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):Y9},G2=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},to=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},wK=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),Z2=t=>new TextEncoder().encode(t),Y2=t=>new TextDecoder().decode(t);var uu=(t,e)=>{let r=e.byteLength,i=_l(t),n=i+_l(r),o=new Uint8Array(n+r);return wl(t,o,0),wl(r,o,i),o.set(e,n),new El(t,r,e,o)},xl=t=>{let e=to(t),[r,i]=$p(e),[n,o]=$p(e.subarray(i)),s=e.subarray(i+o);if(s.byteLength!==n)throw new Error("Incorrect length");return new El(r,n,s,e)},J9=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&G2(t.bytes,r.bytes)}},El=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}};var t_={};li(t_,{base58btc:()=>kn,base58flickr:()=>AK});x();x();x();function _K(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=n}var f=t.length,c=t.charAt(0),d=Math.log(f)/Math.log(256),l=Math.log(256)/Math.log(f);function h(T){if(T instanceof Uint8Array||(ArrayBuffer.isView(T)?T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength):Array.isArray(T)&&(T=Uint8Array.from(T))),!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(T.length===0)return"";for(var k=0,O=0,D=0,I=T.length;D!==I&&T[D]===0;)D++,k++;for(var L=(I-D)*l+1>>>0,U=new Uint8Array(L);D!==I;){for(var $=T[D],K=0,q=L-1;($!==0||K<O)&&q!==-1;q--,K++)$+=256*U[q]>>>0,U[q]=$%f>>>0,$=$/f>>>0;if($!==0)throw new Error("Non-zero carry");O=K,D++}for(var F=L-O;F!==L&&U[F]===0;)F++;for(var G=c.repeat(k);F<L;++F)G+=t.charAt(U[F]);return G}function E(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return new Uint8Array;var k=0;if(T[k]!==" "){for(var O=0,D=0;T[k]===c;)O++,k++;for(var I=(T.length-k)*d+1>>>0,L=new Uint8Array(I);T[k];){var U=r[T.charCodeAt(k)];if(U===255)return;for(var $=0,K=I-1;(U!==0||$<D)&&K!==-1;K--,$++)U+=f*L[K]>>>0,L[K]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");D=$,k++}if(T[k]!==" "){for(var q=I-D;q!==I&&L[q]===0;)q++;for(var F=new Uint8Array(O+(I-q)),G=O;q!==I;)F[G++]=L[q++];return F}}}function b(T){var k=E(T);if(k)return k;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:E,decode:b}}var EK=_K,xK=EK,Q9=xK;x();var J2=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Q2=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return X9(this,e)}},X2=class{constructor(e){this.decoders=e}or(e){return X9(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},X9=(t,e)=>new X2({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),e_=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new J2(e,r,i),this.decoder=new Q2(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Sl=({name:t,prefix:e,encode:r,decode:i})=>new e_(t,e,r,i),qf=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=Q9(r,e);return Sl({prefix:t,name:e,encode:i,decode:o=>to(n(o))})},SK=(t,e,r,i)=>{let n={};for(let l=0;l<e.length;++l)n[e[l]]=l;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),f=0,c=0,d=0;for(let l=0;l<o;++l){let h=n[t[l]];if(h===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<r|h,f+=r,f>=8&&(f-=8,s[d++]=255&c>>f)}if(f>=r||255&c<<8-f)throw new SyntaxError("Unexpected end of data");return s},MK=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,o="",s=0,f=0;for(let c=0;c<t.length;++c)for(f=f<<8|t[c],s+=8;s>r;)s-=r,o+=e[n&f>>s];if(s&&(o+=e[n&f<<r-s]),i)for(;o.length*r&7;)o+="=";return o},Ar=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>Sl({prefix:e,name:t,encode(n){return MK(n,i,r)},decode(n){return SK(n,i,r,t)}});var kn=qf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),AK=qf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var r_={};li(r_,{base32:()=>ro,base32hex:()=>kK,base32hexpad:()=>DK,base32hexpadupper:()=>BK,base32hexupper:()=>IK,base32pad:()=>RK,base32padupper:()=>PK,base32upper:()=>TK,base32z:()=>CK});x();var ro=Ar({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),TK=Ar({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),RK=Ar({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),PK=Ar({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),kK=Ar({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),IK=Ar({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),DK=Ar({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),BK=Ar({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),CK=Ar({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});x();var eM=(t,e)=>{let{bytes:r,version:i}=t;switch(i){case 0:return jK(r,i_(t),e||kn.encoder);default:return NK(r,i_(t),e||ro.encoder)}};var tM=new WeakMap,i_=t=>{let e=tM.get(t);if(e==null){let r=new Map;return tM.set(t,r),r}return e},He=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==Wp)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==qK)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return He.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=uu(e,r);return He.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return He.equals(this,e)}static equals(e,r){let i=r;return i&&e.code===i.code&&e.version===i.version&&J9(e.multihash,i.multihash)}toString(e){return eM(this,e)}toJSON(){return{"/":eM(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof He)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:i,code:n,multihash:o,bytes:s}=r;return new He(i,n,o,s||rM(i,n,o.bytes))}else if(r[LK]===!0){let{version:i,multihash:n,code:o}=r,s=xl(n);return He.create(i,o,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Wp)throw new Error(`Version 0 CID must use dag-pb (code: ${Wp}) block encoding`);return new He(e,r,i,i.bytes)}case 1:{let n=rM(e,r,i.bytes);return new He(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return He.create(0,Wp,e)}static createV1(e,r){return He.create(1,e,r)}static decode(e){let[r,i]=He.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=He.inspectBytes(e),i=r.size-r.multihashSize,n=to(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=n.subarray(r.multihashSize-r.digestSize),s=new El(r.multihashCode,r.digestSize,o,n);return[r.version===0?He.createV0(s):He.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[h,E]=$p(e.subarray(r));return r+=E,h},n=i(),o=Wp;if(n===18?(n=0,r=0):o=i(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=r,f=i(),c=i(),d=r+c,l=d-s;return{version:n,codec:o,multihashCode:f,digestSize:c,multihashSize:l,size:d}}static parse(e,r){let[i,n]=OK(e,r),o=He.decode(n);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return i_(o).set(i,e),o}},OK=(t,e)=>{switch(t[0]){case"Q":{let r=e||kn;return[kn.prefix,r.decode(`${kn.prefix}${t}`)]}case kn.prefix:{let r=e||kn;return[kn.prefix,r.decode(t)]}case ro.prefix:{let r=e||ro;return[ro.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},jK=(t,e,r)=>{let{prefix:i}=r;if(i!==kn.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let o=r.encode(t).slice(1);return e.set(i,o),o}else return n},NK=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let o=r.encode(t);return e.set(i,o),o}else return n},Wp=112,qK=18,rM=(t,e,r)=>{let i=_l(t),n=i+_l(e),o=new Uint8Array(n+r.byteLength);return wl(t,o,0),wl(e,o,i),o.set(r,n),o},LK=Symbol.for("@ipld/js-cid/CID");var iM=42;function UK(t){if(t.asCID!==t&&t["/"]!==t.bytes)return null;let e=He.asCID(t);if(!e)return null;let r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new de(X.tag,iM),new de(X.bytes,r)]}function FK(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function zK(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var $K={float64:!0,typeEncoders:{Object:UK,undefined:FK,number:zK}};function WK(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return He.decode(t.subarray(1))}var nM={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};nM.tags[iM]=WK;var KK="dag-cbor",Ml=113,HK=t=>W2(t,$K),n_=t=>H2(t,nM);x();x();x();function VK(t){return t[Symbol.asyncIterator]!=null}function GK(t,e=1){return e=Number(e),VK(t)?async function*(){let r=[];if(e<1&&(e=1),e!==Math.round(e))throw new Error("Batch size must be an integer");for await(let i of t)for(r.push(i);r.length>=e;)yield r.slice(0,e),r=r.slice(e);for(;r.length>0;)yield r.slice(0,e),r=r.slice(e)}():function*(){let r=[];if(e<1&&(e=1),e!==Math.round(e))throw new Error("Batch size must be an integer");for(let i of t)for(r.push(i);r.length>=e;)yield r.slice(0,e),r=r.slice(e);for(;r.length>0;)yield r.slice(0,e),r=r.slice(e)}()}var Kp=GK;async function*Hp(t,e=1){for await(let r of Kp(t,e)){let i=r.map(async n=>n().then(o=>({ok:!0,value:o}),o=>({ok:!1,err:o})));for(let n=0;n<i.length;n++){let o=await i[n];if(o.ok)yield o.value;else throw o.err}}}x();x();x();var E_=bt(hn(),1);x();x();x();x();var g_=bt(c_(),1),VM=bt(LM(),1),GM=bt(hu(),1),v_=bt(m_(),1),ZM=bt(HM(),1);function nH(){GM.default._configure(),g_.default._configure(VM.default),v_.default._configure(ZM.default)}nH();var YM=["uint64","int64","sint64","fixed64","sfixed64"];function oH(t){for(let e of YM){if(t[e]==null)continue;let r=t[e];t[e]=function(){return BigInt(r.call(this).toString())}}return t}function b_(t){return oH(new g_.default(t))}function sH(t){for(let e of YM){if(t[e]==null)continue;let r=t[e];t[e]=function(i){return r.call(this,i.toString())}}return t}function w_(){return sH(v_.default.create())}function Zp(t,e){let r=b_(t instanceof Uint8Array?t:t.subarray());return e.decode(r)}x();function Yp(t,e){let r=w_();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}x();x();var Tl;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(Tl||(Tl={}));function hg(t,e,r,i){return{name:t,type:e,encode:r,decode:i}}function __(t){function e(n){if(t[n.toString()]==null)throw new Error("Invalid enum value");return t[n]}let r=function(o,s){let f=e(o);s.int32(f)},i=function(o){let s=o.int32();return e(s)};return hg("enum",Tl.VARINT,r,i)}x();function Jp(t,e){return hg("message",Tl.LENGTH_DELIMITED,t,e)}var Qo;(function(t){let e;(function(n){n.Raw="Raw",n.Directory="Directory",n.File="File",n.Metadata="Metadata",n.Symlink="Symlink",n.HAMTShard="HAMTShard"})(e=t.DataType||(t.DataType={}));let r;(function(n){n[n.Raw=0]="Raw",n[n.Directory=1]="Directory",n[n.File=2]="File",n[n.Metadata=3]="Metadata",n[n.Symlink=4]="Symlink",n[n.HAMTShard=5]="HAMTShard"})(r||(r={})),function(n){n.codec=()=>__(r)}(e=t.DataType||(t.DataType={}));let i;t.codec=()=>(i==null&&(i=Jp((n,o,s={})=>{if(s.lengthDelimited!==!1&&o.fork(),n.Type!=null&&(o.uint32(8),t.DataType.codec().encode(n.Type,o)),n.Data!=null&&(o.uint32(18),o.bytes(n.Data)),n.filesize!=null&&(o.uint32(24),o.uint64(n.filesize)),n.blocksizes!=null)for(let f of n.blocksizes)o.uint32(32),o.uint64(f);n.hashType!=null&&(o.uint32(40),o.uint64(n.hashType)),n.fanout!=null&&(o.uint32(48),o.uint64(n.fanout)),n.mode!=null&&(o.uint32(56),o.uint32(n.mode)),n.mtime!=null&&(o.uint32(66),pg.codec().encode(n.mtime,o)),s.lengthDelimited!==!1&&o.ldelim()},(n,o)=>{let s={blocksizes:[]},f=o==null?n.len:n.pos+o;for(;n.pos<f;){let c=n.uint32();switch(c>>>3){case 1:s.Type=t.DataType.codec().decode(n);break;case 2:s.Data=n.bytes();break;case 3:s.filesize=n.uint64();break;case 4:s.blocksizes.push(n.uint64());break;case 5:s.hashType=n.uint64();break;case 6:s.fanout=n.uint64();break;case 7:s.mode=n.uint32();break;case 8:s.mtime=pg.codec().decode(n,n.uint32());break;default:n.skipType(c&7);break}}return s})),i),t.encode=n=>Yp(n,t.codec()),t.decode=n=>Zp(n,t.codec())})(Qo||(Qo={}));var pg;(function(t){let e;t.codec=()=>(e==null&&(e=Jp((r,i,n={})=>{n.lengthDelimited!==!1&&i.fork(),r.Seconds!=null&&(i.uint32(8),i.int64(r.Seconds)),r.FractionalNanoseconds!=null&&(i.uint32(21),i.fixed32(r.FractionalNanoseconds)),n.lengthDelimited!==!1&&i.ldelim()},(r,i)=>{let n={},o=i==null?r.len:r.pos+i;for(;r.pos<o;){let s=r.uint32();switch(s>>>3){case 1:n.Seconds=r.int64();break;case 2:n.FractionalNanoseconds=r.fixed32();break;default:r.skipType(s&7);break}}return n})),e),t.encode=r=>Yp(r,t.codec()),t.decode=r=>Zp(r,t.codec())})(pg||(pg={}));var JM;(function(t){let e;t.codec=()=>(e==null&&(e=Jp((r,i,n={})=>{n.lengthDelimited!==!1&&i.fork(),r.MimeType!=null&&(i.uint32(10),i.string(r.MimeType)),n.lengthDelimited!==!1&&i.ldelim()},(r,i)=>{let n={},o=i==null?r.len:r.pos+i;for(;r.pos<o;){let s=r.uint32();switch(s>>>3){case 1:n.MimeType=r.string();break;default:r.skipType(s&7);break}}return n})),e),t.encode=r=>Yp(r,t.codec()),t.decode=r=>Zp(r,t.codec())})(JM||(JM={}));var QM={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},aH=["directory","hamt-sharded-directory"],XM=parseInt("0644",8),e7=parseInt("0755",8),Vr=class{static unmarshal(e){let r=Qo.decode(e),i=new Vr({type:QM[r.Type!=null?r.Type.toString():"File"],data:r.Data,blockSizes:r.blocksizes,mode:r.mode,mtime:r.mtime!=null?{secs:r.mtime.Seconds??0n,nsecs:r.mtime.FractionalNanoseconds}:void 0});return i._originalMode=r.mode??0,i}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(e={type:"file"}){let{type:r,data:i,blockSizes:n,hashType:o,fanout:s,mtime:f,mode:c}=e;if(r!=null&&!Object.values(QM).includes(r))throw(0,E_.default)(new Error("Type: "+r+" is not valid"),"ERR_INVALID_TYPE");this.type=r??"file",this.data=i,this.hashType=o,this.fanout=s,this.blockSizes=n??[],this._originalMode=0,this.mode=c,this.mtime=f}set mode(e){e==null?this._mode=this.isDirectory()?e7:XM:this._mode=e&4095}get mode(){return this._mode}isDirectory(){return aH.includes(this.type)}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0n;let e=0n;return this.blockSizes.forEach(r=>{e+=r}),this.data!=null&&(e+=BigInt(this.data.length)),e}marshal(){let e;switch(this.type){case"raw":e=Qo.DataType.Raw;break;case"directory":e=Qo.DataType.Directory;break;case"file":e=Qo.DataType.File;break;case"metadata":e=Qo.DataType.Metadata;break;case"symlink":e=Qo.DataType.Symlink;break;case"hamt-sharded-directory":e=Qo.DataType.HAMTShard;break;default:throw(0,E_.default)(new Error(`Type: ${e} is not valid`),"ERR_INVALID_TYPE")}let r=this.data;(this.data==null||this.data.length===0)&&(r=void 0);let i;this.mode!=null&&(i=this._originalMode&4294963200|(this.mode??0),i===XM&&!this.isDirectory()&&(i=void 0),i===e7&&this.isDirectory()&&(i=void 0));let n;return this.mtime!=null&&(n={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),Qo.encode({Type:e,Data:r,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:n})}};x();var yu={};li(yu,{code:()=>Xp,createLink:()=>u7,createNode:()=>c7,decode:()=>Aa,encode:()=>Dn,name:()=>vH,prepare:()=>In,validate:()=>M_});x();x();var fH=new TextDecoder;function x_(t,e){let r=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(e>=t.length)throw new Error("protobuf: unexpected end of data");let n=t[e++];if(r+=i<28?(n&127)<<i:(n&127)*2**i,n<128)break}return[r,e]}function yg(t,e){let r;[r,e]=x_(t,e);let i=e+r;if(r<0||i<0)throw new Error("protobuf: invalid length");if(i>t.length)throw new Error("protobuf: unexpected end of data");return[t.subarray(e,i),i]}function t7(t,e){let r;return[r,e]=x_(t,e),[r&7,r>>3,e]}function cH(t){let e={},r=t.length,i=0;for(;i<r;){let n,o;if([n,o,i]=t7(t,i),o===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,i]=yg(t,i)}else if(o===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(n!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let s;[s,i]=yg(t,i),e.Name=fH.decode(s)}else if(o===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(n!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Tsize`);[e.Tsize,i]=x_(t,i)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${o}`)}if(i>r)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function r7(t){let e=t.length,r=0,i,n=!1,o;for(;r<e;){let f,c;if([f,c,r]=t7(t,r),f!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${f}`);if(c===1){if(o)throw new Error("protobuf: (PBNode) duplicate Data section");[o,r]=yg(t,r),i&&(n=!0)}else if(c===2){if(n)throw new Error("protobuf: (PBNode) duplicate Links section");i||(i=[]);let d;[d,r]=yg(t,r),i.push(cH(d))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${c}`)}if(r>e)throw new Error("protobuf: (PBNode) unexpected end of data");let s={};return o&&(s.Data=o),s.Links=i||[],s}x();var n7=new TextEncoder,i7=2**32,uH=2**31;function dH(t,e){let r=e.length;if(typeof t.Tsize=="number"){if(t.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(t.Tsize))throw new Error("Tsize too large for encoding");r=Qp(e,r,t.Tsize)-1,e[r]=24}if(typeof t.Name=="string"){let i=n7.encode(t.Name);r-=i.length,e.set(i,r),r=Qp(e,r,i.length)-1,e[r]=18}return t.Hash&&(r-=t.Hash.length,e.set(t.Hash,r),r=Qp(e,r,t.Hash.length)-1,e[r]=10),e.length-r}function o7(t){let e=hH(t),r=new Uint8Array(e),i=e;if(t.Data&&(i-=t.Data.length,r.set(t.Data,i),i=Qp(r,i,t.Data.length)-1,r[i]=10),t.Links)for(let n=t.Links.length-1;n>=0;n--){let o=dH(t.Links[n],r.subarray(0,i));i-=o,i=Qp(r,i,o)-1,r[i]=18}return r}function lH(t){let e=0;if(t.Hash){let r=t.Hash.length;e+=1+r+Rl(r)}if(typeof t.Name=="string"){let r=n7.encode(t.Name).length;e+=1+r+Rl(r)}return typeof t.Tsize=="number"&&(e+=1+Rl(t.Tsize)),e}function hH(t){let e=0;if(t.Data){let r=t.Data.length;e+=1+r+Rl(r)}if(t.Links)for(let r of t.Links){let i=lH(r);e+=1+i+Rl(i)}return e}function Qp(t,e,r){e-=Rl(r);let i=e;for(;r>=uH;)t[e++]=r&127|128,r/=128;for(;r>=128;)t[e++]=r&127|128,r>>>=7;return t[e]=r,i}function Rl(t){return t%2===0&&t++,Math.floor((pH(t)+6)/7)}function pH(t){let e=0;return t>=i7&&(t=Math.floor(t/i7),e=32),t>=1<<16&&(t>>>=16,e+=16),t>=1<<8&&(t>>>=8,e+=8),e+yH[t]}var yH=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];x();var mH=["Data","Links"],gH=["Hash","Name","Tsize"],S_=new TextEncoder;function a7(t,e){if(t===e)return 0;let r=t.Name?S_.encode(t.Name):[],i=e.Name?S_.encode(e.Name):[],n=r.length,o=i.length;for(let s=0,f=Math.min(n,o);s<f;++s)if(r[s]!==i[s]){n=r[s],o=i[s];break}return n<o?-1:o<n?1:0}function s7(t,e){return!Object.keys(t).some(r=>!e.includes(r))}function f7(t){if(typeof t.asCID=="object"){let r=He.asCID(t);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");let e={};if(t.Hash){let r=He.asCID(t.Hash);try{r||(typeof t.Hash=="string"?r=He.parse(t.Hash):t.Hash instanceof Uint8Array&&(r=He.decode(t.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}r&&(e.Hash=r)}if(!e.Hash)throw new TypeError("Invalid DAG-PB form");return typeof t.Name=="string"&&(e.Name=t.Name),typeof t.Tsize=="number"&&(e.Tsize=t.Tsize),e}function In(t){if((t instanceof Uint8Array||typeof t=="string")&&(t={Data:t}),typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");let e={};if(t.Data!==void 0)if(typeof t.Data=="string")e.Data=S_.encode(t.Data);else if(t.Data instanceof Uint8Array)e.Data=t.Data;else throw new TypeError("Invalid DAG-PB form");if(t.Links!==void 0)if(Array.isArray(t.Links))e.Links=t.Links.map(f7),e.Links.sort(a7);else throw new TypeError("Invalid DAG-PB form");else e.Links=[];return e}function M_(t){if(!t||typeof t!="object"||Array.isArray(t)||t instanceof Uint8Array||t["/"]&&t["/"]===t.bytes)throw new TypeError("Invalid DAG-PB form");if(!s7(t,mH))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(t.Data!==void 0&&!(t.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(t.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let e=0;e<t.Links.length;e++){let r=t.Links[e];if(!r||typeof r!="object"||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!s7(r,gH))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(r.Hash===void 0)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash==null||!r.Hash["/"]||r.Hash["/"]!==r.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0){if(typeof r.Tsize!="number"||r.Tsize%1!==0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(r.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(e>0&&a7(r,t.Links[e-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function c7(t,e=[]){return In({Data:t,Links:e})}function u7(t,e,r){return f7({Hash:r,Name:t,Tsize:e})}var vH="dag-pb",Xp=112;function Dn(t){M_(t);let e={};return t.Links&&(e.Links=t.Links.map(r=>{let i={};return r.Hash&&(i.Hash=r.Hash.bytes),r.Name!==void 0&&(i.Name=r.Name),r.Tsize!==void 0&&(i.Tsize=r.Tsize),i})),t.Data&&(e.Data=t.Data),o7(e)}function Aa(t){let e=r7(t),r={};return e.Data&&(r.Data=e.Data),e.Links&&(r.Links=e.Links.map(i=>{let n={};try{n.Hash=He.decode(i.Hash)}catch{}if(!n.Hash)throw new Error("Invalid Hash field found in link, expected CID");return i.Name!==void 0&&(n.Name=i.Name),i.Tsize!==void 0&&(n.Tsize=i.Tsize),n})),r}var T_={};li(T_,{sha256:()=>Xi,sha512:()=>bH});x();x();var mu=({name:t,code:e,encode:r})=>new A_(t,e,r),A_=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?uu(this.code,r):r.then(i=>uu(this.code,i))}else throw Error("Unknown type, must be binary type")}};var l7=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Xi=mu({name:"sha2-256",code:18,encode:l7("SHA-256")}),bH=mu({name:"sha2-512",code:19,encode:l7("SHA-512")});var Xo=async(t,e,r)=>{r.codec==null&&(r.codec=yu);let i=await Xi.digest(t),n=He.create(r.cidVersion,r.codec.code,i);return await e.put(n,t,r),n};var h7=async(t,e,r)=>{let i=new Vr({type:"directory",mtime:t.mtime,mode:t.mode}),n=Dn(In({Data:i.marshal()})),o=await Xo(n,e,r),s=t.path;return{cid:o,path:s,unixfs:i,size:BigInt(n.length),originalPath:t.originalPath,block:n}};x();var zf={};li(zf,{code:()=>Os,decode:()=>EH,encode:()=>_H,name:()=>wH});x();var wH="raw",Os=85,_H=t=>to(t),EH=t=>to(t);x();var Tr=class extends Event{constructor(e,r){super(e),this.detail=r}};async function*xH(t,e,r){let i=-1,n;for await(let o of Hp(r.bufferImporter(t,e),r.blockWriteConcurrency)){if(i++,i===0){n={...o,single:!0};continue}else i===1&&n!=null&&(yield{...n,block:void 0,single:void 0},n=void 0);yield{...o,block:void 0}}n!=null&&(yield n)}function p7(t){return t.single===!0}var SH=(t,e,r)=>async function(n){if(n.length===1&&p7(n[0])&&r.reduceSingleLeafToSelf){let l=n[0],h=l.block;return p7(l)&&(t.mtime!==void 0||t.mode!==void 0)&&(l.unixfs=new Vr({type:"file",mtime:t.mtime,mode:t.mode,data:l.block}),h={Data:l.unixfs.marshal(),Links:[]},l.block=Dn(In(h)),l.cid=await Xo(l.block,e,{...r,cidVersion:r.cidVersion}),l.size=BigInt(l.block.length)),r.onProgress?.(new Tr("unixfs:importer:progress:file:layout",{cid:l.cid,path:l.originalPath})),{cid:l.cid,path:t.path,unixfs:l.unixfs,size:l.size,originalPath:l.originalPath}}let o=new Vr({type:"file",mtime:t.mtime,mode:t.mode}),s=n.filter(l=>l.cid.code===Os&&l.size>0||l.unixfs!=null&&l.unixfs.data==null&&l.unixfs.fileSize()>0n?!0:Boolean(l.unixfs?.data?.length)).map(l=>l.cid.code===Os?(o.addBlockSize(l.size),{Name:"",Tsize:Number(l.size),Hash:l.cid}):(l.unixfs==null||l.unixfs.data==null?o.addBlockSize(l.unixfs?.fileSize()??0n):o.addBlockSize(BigInt(l.unixfs.data.length)),{Name:"",Tsize:Number(l.size),Hash:l.cid})),f={Data:o.marshal(),Links:s},c=Dn(In(f)),d=await Xo(c,e,r);return r.onProgress?.(new Tr("unixfs:importer:progress:file:layout",{cid:d,path:t.originalPath})),{cid:d,path:t.path,unixfs:o,size:BigInt(c.length+f.Links.reduce((l,h)=>l+(h.Tsize??0),0)),originalPath:t.originalPath,block:c}},y7=async(t,e,r)=>await r.layout(xH(t,e,r),SH(t,e,r));var R_=bt(hn(),1);function MH(t){return Symbol.iterator in t}function AH(t){return Symbol.asyncIterator in t}function TH(t){try{if(t instanceof Uint8Array)return async function*(){yield t}();if(MH(t))return async function*(){yield*t}();if(AH(t))return t}catch{throw(0,R_.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw(0,R_.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function m7(t){return async function*(r,i){for await(let n of r){let o;if(n.path!=null&&(o=n.path,n.path=n.path.split("/").filter(s=>s!=null&&s!==".").join("/")),RH(n)){let s={path:n.path,mtime:n.mtime,mode:n.mode,content:async function*(){let f=0n;for await(let c of t.chunker(t.chunkValidator(TH(n.content)))){let d=BigInt(c.byteLength);f+=d,t.onProgress?.(new Tr("unixfs:importer:progress:file:read",{bytesRead:f,chunkSize:d,path:n.path})),yield c}}(),originalPath:o};yield async()=>await y7(s,i,t)}else if(n.path!=null){let s={path:n.path,mtime:n.mtime,mode:n.mode,originalPath:o};yield async()=>await h7(s,i,t)}else throw new Error("Import candidate must have content or path or both")}}}function RH(t){return t.content!=null}x();x();x();var js=class{constructor(e,r){this.options=r??{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime}},e0=He.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),t0=He.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");var gu=class extends js{constructor(e,r){super(e,r),this._children=new Map}async put(e,r){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,this._children.set(e,r)}async get(e){return await Promise.resolve(this._children.get(e))}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}async*eachChildSeries(){for(let[e,r]of this._children.entries())yield{key:e,child:r}}estimateNodeSize(){if(this.nodeSize!==void 0)return this.nodeSize;this.nodeSize=0;for(let[e,r]of this._children.entries())r.size!=null&&r.cid!=null&&(this.nodeSize+=e.length+(this.options.cidVersion===1?t0.bytes.byteLength:e0.bytes.byteLength));return this.nodeSize}async*flush(e){let r=[];for(let[c,d]of this._children.entries()){let l=d;if(d instanceof js)for await(let h of d.flush(e))l=h,yield h;l.size!=null&&l.cid!=null&&r.push({Name:c,Tsize:Number(l.size),Hash:l.cid})}let i=new Vr({type:"directory",mtime:this.mtime,mode:this.mode}),n={Data:i.marshal(),Links:r},o=Dn(In(n)),s=await Xo(o,e,this.options),f=o.length+n.Links.reduce((c,d)=>c+(d.Tsize==null?0:d.Tsize),0);this.cid=s,this.size=f,yield{cid:s,unixfs:i,path:this.path,size:BigInt(f)}}};x();x();x();x();var A7=bt(b7(),1);x();x();x();var P_={};li(P_,{identity:()=>DH});x();var DH=Sl({prefix:"\0",name:"identity",encode:t=>Y2(t),decode:t=>Z2(t)});var k_={};li(k_,{base2:()=>BH});x();var BH=Ar({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var I_={};li(I_,{base8:()=>CH});x();var CH=Ar({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var D_={};li(D_,{base10:()=>OH});x();var OH=qf({prefix:"9",name:"base10",alphabet:"0123456789"});var B_={};li(B_,{base16:()=>jH,base16upper:()=>NH});x();var jH=Ar({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),NH=Ar({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var C_={};li(C_,{base36:()=>qH,base36upper:()=>LH});x();var qH=qf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),LH=qf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var O_={};li(O_,{base64:()=>UH,base64pad:()=>FH,base64url:()=>Pl,base64urlpad:()=>zH});x();var UH=Ar({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),FH=Ar({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Pl=Ar({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),zH=Ar({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var j_={};li(j_,{base256emoji:()=>VH});x();var w7=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),$H=w7.reduce((t,e,r)=>(t[r]=e,t),[]),WH=w7.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function KH(t){return t.reduce((e,r)=>(e+=$H[r],e),"")}function HH(t){let e=[];for(let r of t){let i=WH[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}var VH=Sl({prefix:"\u{1F680}",name:"base256emoji",encode:KH,decode:HH});var q_={};li(q_,{identity:()=>N_});x();var _7=0,GH="identity",E7=to,ZH=t=>uu(_7,E7(t)),N_={code:_7,name:GH,encode:E7,digest:ZH};x();var Jbe=new TextEncoder,Qbe=new TextDecoder;x();x();var L_={...P_,...k_,...I_,...D_,...B_,...r_,...C_,...t_,...O_,...j_},s1e={...T_,...q_};x();x();function vu(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Ta(t=0){return globalThis.Buffer?.alloc!=null?vu(globalThis.Buffer.alloc(t)):new Uint8Array(t)}function bu(t=0){return globalThis.Buffer?.allocUnsafe!=null?vu(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function S7(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}var x7=S7("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),U_=S7("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=bu(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),JH={utf8:x7,"utf-8":x7,hex:L_.base16,latin1:U_,ascii:U_,binary:U_,...L_},M7=JH;function mg(t,e="utf8"){let r=M7[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?vu(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var mi=class{constructor(e,r,i=0){this._options=e,this._popCount=0,this._parent=r,this._posAtParent=i,this._children=new A7.default,this.key=null}async put(e,r){let i=await this._findNewBucketAndPos(e);await i.bucket._putAt(i,e,r)}async get(e){let r=await this._findChild(e);if(r!=null)return r.value}async del(e){let r=await this._findPlace(e),i=r.bucket._at(r.pos);i!=null&&i.key===e&&r.bucket._delAt(r.pos)}leafCount(){return this._children.compactArray().reduce((r,i)=>i instanceof mi?r+i.leafCount():r+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){let e=this._children.compactArray();for(let r of e)r instanceof mi?yield*r.eachLeafSeries():yield r}serialize(e,r){let i=[];return r(this._children.reduce((n,o,s)=>(o!=null&&(o instanceof mi?n.push(o.serialize(e,r)):n.push(e(o,s))),n),i))}async asyncTransform(e,r){return await T7(this,e,r)}toJSON(){return this.serialize(XH,eV)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){let r=await this._findPlace(e),i=r.bucket._at(r.pos);if(!(i instanceof mi)&&i!=null&&i.key===e)return i}async _findPlace(e){let r=this._options.hash(typeof e=="string"?mg(e):e),i=await r.take(this._options.bits),n=this._children.get(i);return n instanceof mi?await n._findPlace(r):{bucket:this,pos:i,hash:r,existingChild:n}}async _findNewBucketAndPos(e){let r=await this._findPlace(e);if(r.existingChild!=null&&r.existingChild.key!==e){let i=new mi(this._options,r.bucket,r.pos);r.bucket._putObjectAt(r.pos,i);let n=await i._findPlace(r.existingChild.hash);return n.bucket._putAt(n,r.existingChild.key,r.existingChild.value),await i._findNewBucketAndPos(r.hash)}return r}_putAt(e,r,i){this._putObjectAt(e.pos,{key:r,value:i,hash:e.hash})}_putObjectAt(e,r){this._children.get(e)==null&&this._popCount++,this._children.set(e,r)}_delAt(e){if(e===-1)throw new Error("Invalid position");this._children.get(e)!=null&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent!=null&&this._popCount<=1)if(this._popCount===1){let e=this._children.find(QH);if(e!=null&&!(e instanceof mi)){let r=e.hash;r.untake(this._options.bits);let i={pos:this._posAtParent,hash:r,bucket:this._parent};this._parent._putAt(i,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}};function QH(t){return Boolean(t)}function XH(t,e){return t.key}function eV(t){return t}async function T7(t,e,r){let i=[];for(let n of t._children.compactArray())if(n instanceof mi)await T7(n,e,r);else{let o=await e(n);i.push({bitField:t._children.bitField(),children:o})}return await r(i)}x();x();var tV=[255,254,252,248,240,224,192,128],rV=[1,3,7,15,31,63,127,255],gg=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(e){let r=e,i=0;for(;r>0&&this._haveBits();){let n=this._value[this._currentBytePos],o=this._currentBitPos+1,s=Math.min(o,r),f=iV(n,o-s,s);i=(i<<s)+f,r-=s,this._currentBitPos-=s,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function iV(t,e,r){let i=nV(e,r);return(t&i)>>>e}function nV(t,e){return tV[t]&rV[Math.min(e+t-1,7)]}x();function r0(t,e){e==null&&(e=t.reduce((n,o)=>n+o.length,0));let r=bu(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return vu(r)}function R7(t){function e(r){return r instanceof vg?r:new vg(r,t)}return e}var vg=class{constructor(e,r){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=r,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let r=e;for(;this._availableBits<r;)await this._produceMoreBits();let i=0;for(;r>0;){let n=this._buffers[this._currentBufferIndex],o=Math.min(n.availableBits(),r),s=n.take(o);i=(i<<o)+s,r-=o,this._availableBits-=o,n.availableBits()===0&&this._currentBufferIndex++}return i}untake(e){let r=e;for(;r>0;){let i=this._buffers[this._currentBufferIndex],n=Math.min(i.totalBits()-i.availableBits(),r);i.untake(n),r-=n,this._availableBits+=n,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;let e=this._depth>0?r0([this._value,Uint8Array.from([this._depth])]):this._value,r=await this._hashFn(e),i=new gg(r);this._buffers.push(i),this._availableBits+=i.availableBits()}};function bg(t){if(t==null||t.hashFn==null)throw new Error("please define an options.hashFn");let e={bits:t.bits??8,hash:R7(t.hashFn)};return new mi(e)}x();var _g=bt(I7(),1);function oV(t){let e=new Array(4);for(let r=0;r<4;r++)e[r]=t&255,t=t>>8;return new Uint8Array(e)}var W1e=mu({name:"murmur3-32",code:35,encode:t=>oV(_g.default.x86.hash32(t))}),Eg=mu({name:"murmur3-128",code:34,encode:t=>cu.fromHex(_g.default.x64.hash128(t))}),K1e=mu({name:"murmur3-x64-64",code:34,encode:t=>cu.fromHex(_g.default.x64.hash128(t)).subarray(0,8)});async function sV(t){return(await Eg.encode(t)).slice(0,8).reverse()}var D7=BigInt(34),F_=class extends js{constructor(e,r){super(e,r),this._bucket=bg({hashFn:sV,bits:8})}async put(e,r){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,await this._bucket.put(e,r)}async get(e){return await this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(let{key:e,value:r}of this._bucket.eachLeafSeries())yield{key:e,child:r}}estimateNodeSize(){return this.nodeSize!==void 0?this.nodeSize:(this.nodeSize=O7(this._bucket,this,this.options),this.nodeSize)}async*flush(e){for await(let r of C7(this._bucket,e,this,this.options))yield{...r,path:this.path}}},B7=F_;async function*C7(t,e,r,i){let n=t._children,o=[],s=0n;for(let b=0;b<n.length;b++){let T=n.get(b);if(T==null)continue;let k=b.toString(16).toUpperCase().padStart(2,"0");if(T instanceof mi){let O;for await(let D of C7(T,e,null,i))O=D;if(O==null)throw new Error("Could not flush sharded directory, no subshard found");o.push({Name:k,Tsize:Number(O.size),Hash:O.cid}),s+=O.size}else if(aV(T.value)){let O=T.value,D;for await(let L of O.flush(e))D=L,yield D;if(D==null)throw new Error("Did not flush dir");let I=k+T.key;o.push({Name:I,Tsize:Number(D.size),Hash:D.cid}),s+=D.size}else{let O=T.value;if(O.cid==null)continue;let D=k+T.key,I=O.size;o.push({Name:D,Tsize:Number(I),Hash:O.cid}),s+=BigInt(I??0)}}let f=Uint8Array.from(n.bitField().reverse()),c=new Vr({type:"hamt-sharded-directory",data:f,fanout:BigInt(t.tableSize()),hashType:D7,mtime:r?.mtime,mode:r?.mode}),d={Data:c.marshal(),Links:o},l=Dn(In(d)),h=await Xo(l,e,i),E=BigInt(l.byteLength)+s;yield{cid:h,unixfs:c,size:E}}function aV(t){return typeof t.flush=="function"}function O7(t,e,r){let i=t._children,n=[];for(let c=0;c<i.length;c++){let d=i.get(c);if(d==null)continue;let l=c.toString(16).toUpperCase().padStart(2,"0");if(d instanceof mi){let h=O7(d,null,r);n.push({Name:l,Tsize:Number(h),Hash:r.cidVersion===0?e0:t0})}else if(typeof d.value.flush=="function"){let E=d.value.nodeSize();n.push({Name:l+d.key,Tsize:Number(E),Hash:r.cidVersion===0?e0:t0})}else{let h=d.value;if(h.cid==null)continue;let E=l+d.key,b=h.size;n.push({Name:E,Tsize:Number(b),Hash:h.cid})}}let o=Uint8Array.from(i.bitField().reverse()),s=new Vr({type:"hamt-sharded-directory",data:o,fanout:BigInt(t.tableSize()),hashType:D7,mtime:e?.mtime,mode:e?.mode});return Dn(In({Data:s.marshal(),Links:n})).length}async function z_(t,e,r,i){let n=e;e instanceof gu&&e.estimateNodeSize()>r&&(n=await fV(e,i));let o=n.parent;if(o!=null){if(n!==e){if(t!=null&&(t.parent=n),n.parentKey==null)throw new Error("No parent key found");await o.put(n.parentKey,n)}return await z_(n,o,r,i)}return n}async function fV(t,e){let r=new B7({root:t.root,dir:!0,parent:t.parent,parentKey:t.parentKey,path:t.path,dirty:t.dirty,flat:!1,mtime:t.mtime,mode:t.mode},e);for await(let{key:i,child:n}of t.eachChildSeries())await r.put(i,n);return r}x();var j7=(t="")=>(t.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);async function cV(t,e,r){let i=j7(t.path??""),n=i.length-1,o=e,s="";for(let f=0;f<i.length;f++){let c=i[f];s+=`${s!==""?"/":""}${c}`;let d=f===n;if(o.dirty=!0,o.cid=void 0,o.size=void 0,d)await o.put(c,t),e=await z_(null,o,r.shardSplitThresholdBytes,r);else{let l=await o.get(c);(l==null||!(l instanceof js))&&(l=new gu({root:!1,dir:!0,parent:o,parentKey:c,path:s,dirty:!0,flat:!0,mtime:l?.unixfs?.mtime,mode:l?.unixfs?.mode},r)),await o.put(c,l),o=l}}return e}async function*N7(t,e){if(!(t instanceof js)){t.unixfs?.isDirectory()===!0&&(yield t);return}yield*t.flush(e)}function q7(t){return async function*(r,i){let n=new gu({root:!0,dir:!0,path:"",dirty:!0,flat:!0},t),o,s=!1;for await(let f of r){if(f==null)continue;let c=`${f.originalPath??""}`.split("/")[0];c!=null&&c!==""&&(o==null?(o=c,s=!0):o!==c&&(s=!1)),n=await cV(f,n,t),(f.unixfs==null||!f.unixfs.isDirectory())&&(yield f)}if(t.wrapWithDirectory||s&&n.childCount()>1)yield*N7(n,i);else for await(let f of n.eachChildSeries())f!=null&&(yield*N7(f.child,i))}}x();var $_=bt(hn(),1);var L7=()=>async function*(e){for await(let r of e){if(r.length===void 0)throw(0,$_.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof r=="string"||r instanceof String)yield mg(r.toString());else if(Array.isArray(r))yield Uint8Array.from(r);else if(r instanceof Uint8Array)yield r;else throw(0,$_.default)(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}};x();x();x();function U7(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var z7=Symbol.for("@achingbrain/uint8arraylist");function F7(t,e){if(e==null||e<0)throw new RangeError("index is out of bounds");let r=0;for(let i of t){let n=r+i.byteLength;if(e<n)return{buf:i,index:e-r};r=n}throw new RangeError("index is out of bounds")}function xg(t){return Boolean(t?.[z7])}var Ns=class{constructor(...e){Object.defineProperty(this,z7,{value:!0}),this.bufs=[],this.length=0,e.length>0&&this.appendAll(e)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...e){this.appendAll(e)}appendAll(e){let r=0;for(let i of e)if(i instanceof Uint8Array)r+=i.byteLength,this.bufs.push(i);else if(xg(i))r+=i.byteLength,this.bufs.push(...i.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}prepend(...e){this.prependAll(e)}prependAll(e){let r=0;for(let i of e.reverse())if(i instanceof Uint8Array)r+=i.byteLength,this.bufs.unshift(i);else if(xg(i))r+=i.byteLength,this.bufs.unshift(...i.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}get(e){let r=F7(this.bufs,e);return r.buf[r.index]}set(e,r){let i=F7(this.bufs,e);i.buf[i.index]=r}write(e,r=0){if(e instanceof Uint8Array)for(let i=0;i<e.length;i++)this.set(r+i,e[i]);else if(xg(e))for(let i=0;i<e.length;i++)this.set(r+i,e.get(i));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(e){if(e=Math.trunc(e),!(Number.isNaN(e)||e<=0)){if(e===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(e>=this.bufs[0].byteLength)e-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(e),this.length-=e;break}}}slice(e,r){let{bufs:i,length:n}=this._subList(e,r);return r0(i,n)}subarray(e,r){let{bufs:i,length:n}=this._subList(e,r);return i.length===1?i[0]:r0(i,n)}sublist(e,r){let{bufs:i,length:n}=this._subList(e,r),o=new Ns;return o.length=n,o.bufs=i,o}_subList(e,r){if(e=e??0,r=r??this.length,e<0&&(e=this.length+e),r<0&&(r=this.length+r),e<0||r>this.length)throw new RangeError("index is out of bounds");if(e===r)return{bufs:[],length:0};if(e===0&&r===this.length)return{bufs:[...this.bufs],length:this.length};let i=[],n=0;for(let o=0;o<this.bufs.length;o++){let s=this.bufs[o],f=n,c=f+s.byteLength;if(n=c,e>=c)continue;let d=e>=f&&e<c,l=r>f&&r<=c;if(d&&l){if(e===f&&r===c){i.push(s);break}let h=e-f;i.push(s.subarray(h,h+(r-e)));break}if(d){if(e===0){i.push(s);continue}i.push(s.subarray(e-f));continue}if(l){if(r===c){i.push(s);break}i.push(s.subarray(0,r-f));break}i.push(s)}return{bufs:i,length:r-e}}indexOf(e,r=0){if(!xg(e)&&!(e instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');let i=e instanceof Uint8Array?e:e.subarray();if(r=Number(r??0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),e.length===0)return r>this.length?this.length:r;let n=i.byteLength;if(n===0)throw new TypeError("search must be at least 1 byte long");let o=256,s=new Int32Array(o);for(let h=0;h<o;h++)s[h]=-1;for(let h=0;h<n;h++)s[i[h]]=h;let f=s,c=this.byteLength-i.byteLength,d=i.byteLength-1,l;for(let h=r;h<=c;h+=l){l=0;for(let E=d;E>=0;E--){let b=this.get(h+E);if(i[E]!==b){l=Math.max(1,E-f[b]);break}}if(l===0)return h}return-1}getInt8(e){let r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt8(0)}setInt8(e,r){let i=bu(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt8(0,r),this.write(i,e)}getInt16(e,r){let i=this.subarray(e,e+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt16(0,r)}setInt16(e,r,i){let n=Ta(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt16(0,r,i),this.write(n,e)}getInt32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt32(0,r)}setInt32(e,r,i){let n=Ta(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt32(0,r,i),this.write(n,e)}getBigInt64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigInt64(0,r)}setBigInt64(e,r,i){let n=Ta(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigInt64(0,r,i),this.write(n,e)}getUint8(e){let r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint8(0)}setUint8(e,r){let i=bu(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint8(0,r),this.write(i,e)}getUint16(e,r){let i=this.subarray(e,e+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint16(0,r)}setUint16(e,r,i){let n=Ta(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint16(0,r,i),this.write(n,e)}getUint32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint32(0,r)}setUint32(e,r,i){let n=Ta(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,r,i),this.write(n,e)}getBigUint64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigUint64(0,r)}setBigUint64(e,r,i){let n=Ta(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigUint64(0,r,i),this.write(n,e)}getFloat32(e,r){let i=this.subarray(e,e+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat32(0,r)}setFloat32(e,r,i){let n=Ta(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat32(0,r,i),this.write(n,e)}getFloat64(e,r){let i=this.subarray(e,e+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat64(0,r)}setFloat64(e,r,i){let n=Ta(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat64(0,r,i),this.write(n,e)}equals(e){if(e==null||!(e instanceof Ns)||e.bufs.length!==this.bufs.length)return!1;for(let r=0;r<this.bufs.length;r++)if(!U7(this.bufs[r],e.bufs[r]))return!1;return!0}static fromUint8Arrays(e,r){let i=new Ns;return i.bufs=e,r==null&&(r=e.reduce((n,o)=>n+o.byteLength,0)),i.length=r,i}};var uV=262144,$7=(t={})=>{let e=t.chunkSize??uV;return async function*(i){let n=new Ns,o=0,s=!1;for await(let f of i)for(n.append(f),o+=f.length;o>=e;)if(yield n.slice(0,e),s=!0,e===n.length)n=new Ns,o=0;else{let c=new Ns;c.append(n.sublist(e)),n=c,o-=e}(!s||o>0)&&(yield n.subarray(0,o))}};x();x();var dV=174;function W_(t){let e=t?.maxChildrenPerNode??dV;return async function r(i,n){let o=[];for await(let s of Kp(i,e))o.push(await n(s));return o.length>1?await r(o,n):o[0]}}x();x();x();x();function W7(t){return async function*(r,i){let n=0n;for await(let o of r.content)yield async()=>{let s,f={codec:yu,cidVersion:t.cidVersion,onProgress:t.onProgress};t.rawLeaves?(f.codec=zf,f.cidVersion=1):(s=new Vr({type:t.leafType,data:o}),o=Dn({Data:s.marshal(),Links:[]}));let c=await Xo(o,i,f);return n+=BigInt(o.byteLength),t.onProgress?.(new Tr("unixfs:importer:progress:file:write",{bytesWritten:n,cid:c,path:r.path})),{cid:c,unixfs:s,size:BigInt(o.length),block:o}}}}x();var lV=bt(hn(),1);async function*n0(t,e,r={}){let i;Symbol.asyncIterator in t||Symbol.iterator in t?i=t:i=[t];let n=r.wrapWithDirectory??!1,o=r.shardSplitThresholdBytes??262144,s=r.cidVersion??1,f=r.rawLeaves??!0,c=r.leafType??"file",d=r.fileImportConcurrency??50,l=r.blockWriteConcurrency??10,h=r.reduceSingleLeafToSelf??!0,E=r.chunker??$7(),b=r.chunkValidator??L7(),T=r.dagBuilder??m7({chunker:E,chunkValidator:b,wrapWithDirectory:n,layout:r.layout??W_(),bufferImporter:r.bufferImporter??W7({cidVersion:s,rawLeaves:f,leafType:c,onProgress:r.onProgress}),blockWriteConcurrency:l,reduceSingleLeafToSelf:h,cidVersion:s,onProgress:r.onProgress}),k=r.treeBuilder??q7({wrapWithDirectory:n,shardSplitThresholdBytes:o,cidVersion:s,onProgress:r.onProgress});for await(let O of k(Hp(T(i,e),d),e))yield{cid:O.cid,path:O.path,unixfs:O.unixfs,size:O.size}}x();var Sg={};li(Sg,{abortedError:()=>bV,closeFailedError:()=>pV,deleteFailedError:()=>gV,getFailedError:()=>mV,hasFailedError:()=>vV,notFoundError:()=>K_,openFailedError:()=>hV,putFailedError:()=>yV});x();var Ra=bt(hn(),1);function hV(t){return t=t??new Error("Open failed"),(0,Ra.default)(t,"ERR_OPEN_FAILED")}function pV(t){return t=t??new Error("Close failed"),(0,Ra.default)(t,"ERR_CLOSE_FAILED")}function yV(t){return t=t??new Error("Put failed"),(0,Ra.default)(t,"ERR_PUT_FAILED")}function mV(t){return t=t??new Error("Get failed"),(0,Ra.default)(t,"ERR_GET_FAILED")}function gV(t){return t=t??new Error("Delete failed"),(0,Ra.default)(t,"ERR_DELETE_FAILED")}function vV(t){return t=t??new Error("Has failed"),(0,Ra.default)(t,"ERR_HAS_FAILED")}function K_(t){return t=t??new Error("Not Found"),(0,Ra.default)(t,"ERR_NOT_FOUND")}function bV(t){return t=t??new Error("Aborted"),(0,Ra.default)(t,"ERR_ABORTED")}x();var o0=class{has(e,r){return Promise.reject(new Error(".has is not implemented"))}put(e,r,i){return Promise.reject(new Error(".put is not implemented"))}async*putMany(e,r){for await(let{cid:i,block:n}of e)await this.put(i,n,r),yield i}get(e,r){return Promise.reject(new Error(".get is not implemented"))}async*getMany(e,r){for await(let i of e)yield{cid:i,block:await this.get(i,r)}}async delete(e,r){await Promise.reject(new Error(".delete is not implemented"))}async*deleteMany(e,r){for await(let i of e)await this.delete(i,r),yield i}async*getAll(e){throw new Error(".getAll is not implemented")}};x();var kl=class extends o0{constructor(){super(),this.data=new Map}put(e,r){return this.data.set(ro.encode(e.multihash.bytes),r),e}get(e){let r=this.data.get(ro.encode(e.multihash.bytes));if(r==null)throw K_();return r}has(e){return this.data.has(ro.encode(e.multihash.bytes))}async delete(e){this.data.delete(ro.encode(e.multihash.bytes))}async*getAll(){for(let[e,r]of this.data.entries())yield{cid:He.createV1(Os,xl(ro.decode(e))),block:r}}};var v2e={...Sg};var K7={[Xi.code]:Xi},H7={[Ml]:Lf};async function Bn(t,e=Ml,r=Xi.code){let i=H7[e];if(!i)throw new Error(`codec [${e}] not supported`);let n=K7[r];if(!n)throw new Error(`multihash code [${r}] not supported`);let o=i.encode(t),s=await n.digest(o);return(await He.createV1(i.code,s)).toString()}function Mg(t){let e=He.parse(t).toV1();if(!H7[e.code])throw new Error(`codec [${e.code}] not supported`);if(!K7[e.multihash.code])throw new Error(`multihash code [${e.multihash.code}] not supported`);return e}var s0=class{static async computeDagPbCidFromBytes(e){let r=n0([{content:e}],new kl,{cidVersion:1}),i;for await(i of r);return i?i.cid.toString():""}static async computeDagPbCidFromStream(e){let r=n0([{content:e}],new kl,{cidVersion:1}),i;for await(i of r);return i?i.cid.toString():""}};x();x();x();x();x();function wV(t){return new Promise((e,r)=>{if(t.aborted){r(t.reason);return}t.addEventListener("abort",()=>{r(t.reason)})})}async function ri(t,e){return t?Promise.race([e,wV(t)]):e}x();x();var N=bt(V7(),1),e3={};function Ws(t,e){Object.defineProperty(t.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});for(let r of Object.getOwnPropertyNames(t)){let i=Object.getOwnPropertyDescriptor(t,r);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(t,r,i))}for(let r of Object.getOwnPropertyNames(t.prototype)){let i=Object.getOwnPropertyDescriptor(t.prototype,r);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(t.prototype,r,i))}t3(e,t),t3(`${e}.prototype`,t.prototype)}function t3(t,e){let r=`%${t}%`;if(e3[r]!==void 0)throw new Error(`intrinsic ${t} already exists`);e3[r]=e}function Ge(t){return e3[t]}var Ve="slot-epochNanoSeconds",$f="slot-timezone-identifier",ne="slot-year",ae="slot-month",fe="slot-day",Xe="slot-hour",et="slot-minute",tt="slot-second",rt="slot-millisecond",it="slot-microsecond",nt="slot-nanosecond",Y="slot-calendar",vi="slot-cached-instant",Dt="slot-time-zone",Mi="slot-years",Gr="slot-months",zi="slot-weeks",Ai="slot-days",Ti="slot-hours",Ri="slot-minutes",Pi="slot-seconds",ki="slot-milliseconds",Ii="slot-microseconds",Di="slot-nanoseconds",gr="slot-calendar-identifier",MA=new WeakMap;function Ks(t){MA.set(t,Object.create(null))}function k3(t){return MA.get(t)}function Fr(t,...e){if(!t||typeof t!="object")return!1;let r=k3(t);return!!r&&e.reduce((i,n)=>i&&n in r,!0)}function S(t,e){let r=k3(t)[e];if(r===void 0)throw new TypeError(`Missing internal slot ${e}`);return r}function at(t,e,r){k3(t)[e]=r}var G7=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,_V=new RegExp(`(?:(?:${G7.source})(?:\\/(?:${G7.source}))*|Etc/GMT[-+]\\d{1,2}|${/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source})`),Z7=/[A-Za-z0-9]{3,8}/,EV=new RegExp(`(?:${Z7.source}(?:-${Z7.source})*)`),AA=/(?:[+\u2212-]\d{6}|\d{4})/,Dg=/(?:0[1-9]|1[0-2])/,r3=/(?:0[1-9]|[12]\d|3[01])/,xV=new RegExp(`(${AA.source})(?:-(${Dg.source})-(${r3.source})|(${Dg.source})(${r3.source}))`),TA=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,RA=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,PA=new RegExp(`(?:([zZ])|(?:${RA.source})?)(?:\\[(${_V.source})\\])?`),kA=new RegExp(`\\[u-ca=(${EV.source})\\]`),SV=new RegExp(`^${xV.source}(?:(?:T|\\s+)${TA.source})?${PA.source}(?:${kA.source})?$`,"i"),MV=new RegExp(`^T?${TA.source}(?:${PA.source})?(?:${kA.source})?$`,"i"),AV=new RegExp(`^(${AA.source})-?(${Dg.source})$`),TV=new RegExp(`^(?:--)?(${Dg.source})-?(${r3.source})$`),G_=/(\d+)(?:[.,](\d{1,9}))?/,RV=new RegExp(`(?:${G_.source}H)?(?:${G_.source}M)?(?:${G_.source}S)?`),PV=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${RV.source})?$`,"i"),IA=Array.prototype.includes,I3=Array.prototype.push,DA=globalThis.Intl.DateTimeFormat,kV=Math.min,IV=Math.max,wt=Math.abs,Lr=Math.floor,h0=Math.sign,Dl=Math.trunc,A0=Number.isNaN,Yr=Number.isFinite,DV=Number,T0=String,BV=Number.MAX_SAFE_INTEGER,BA=Object.assign,oi=Object.create,CV=Object.getOwnPropertyDescriptor,OV=Object.is,D3=Reflect.apply,vr=N.default.BigInt(0),B3=N.default.BigInt(1),xu=N.default.BigInt(60),Bt=N.default.BigInt(1e3),On=N.default.BigInt(1e6),Da=N.default.BigInt(1e9),jV=N.default.BigInt(-1),Vf=N.default.multiply(N.default.BigInt(86400),Da),p0=N.default.multiply(N.default.BigInt(-86400),N.default.BigInt(1e17)),y0=N.default.multiply(N.default.BigInt(86400),N.default.BigInt(1e17)),CA=N.default.multiply(N.default.BigInt(-388152),N.default.BigInt(1e13)),NV=N.default.multiply(Vf,N.default.BigInt(3660)),OA=N.default.multiply(Vf,N.default.BigInt(366)),jA=N.default.multiply(Vf,N.default.BigInt(14)),qV=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function NA(t){if(typeof t!="number"||!Yr(t))return!1;let e=wt(t);return Lr(e)===e}function tr(t){return typeof t=="object"&&t!==null||typeof t=="function"}function m0(t){if(typeof t=="bigint")throw new TypeError("Cannot convert BigInt to number");return DV(t)}function Ct(t){let e=m0(t);if(A0(e))return 0;let r=Dl(e);return e===0?0:r}function Je(t){if(typeof t=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return T0(t)}function Vt(t){let e=Ct(t);if(!Yr(e))throw new RangeError("infinity is out of range");return e}function g0(t,e){let r=Ct(t);if(!Yr(r))throw new RangeError("infinity is out of range");if(r<1)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return r}function qr(t){let e=m0(t);if(A0(e))return 0;if(!Yr(e))throw new RangeError("infinity is out of range");if(!NA(e))throw new RangeError(`unsupported fractional value ${e}`);return Ct(e)}function Nr(t,e){return{quotient:N.default.divide(t,e),remainder:N.default.remainder(t,e)}}function C3(t){return N.default.lessThan(t,vr)?N.default.multiply(t,jV):t}function i3(t,...e){return I3.apply(t,e),t}var Y7=new Map([["year",Vt],["month",g0],["monthCode",Je],["day",g0],["hour",Vt],["minute",Vt],["second",Vt],["millisecond",Vt],["microsecond",Vt],["nanosecond",Vt],["years",qr],["months",qr],["weeks",qr],["days",qr],["hours",qr],["minutes",qr],["seconds",qr],["milliseconds",qr],["microseconds",qr],["nanoseconds",qr],["era",Je],["eraYear",Ct],["offset",Je]]),LV=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),zl=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],Bg=new Map(zl.map(t=>[t[0],t[1]])),UV=new Map(zl.map(([t,e])=>[e,t])),J7=zl.map(([,t])=>t),Q7=Array.from(Bg.keys()).sort(),X7=new Map;function qA(t){let e=X7.get(t);return e===void 0&&(e=new DA("en-us",{timeZone:T0(t),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),X7.set(t,e)),e}function Rr(t){return Fr(t,Ve)&&!Fr(t,Dt,Y)}function qs(t){return Fr(t,$f)}function mr(t){return Fr(t,gr)}function dr(t){return Fr(t,Mi,Gr,Ai,Ti,Ri,Pi,ki,Ii,Di)}function yt(t){return Fr(t,"slot-date-brand")}function lr(t){return Fr(t,Xe,et,tt,rt,it,nt)&&!Fr(t,ne,ae,fe)}function st(t){return Fr(t,ne,ae,fe,Xe,et,tt,rt,it,nt)}function Mt(t){return Fr(t,"slot-year-month-brand")}function Zr(t){return Fr(t,"slot-month-day-brand")}function le(t){return Fr(t,Ve,Dt,Y)}function $l(t){if(Fr(t,Y)||Fr(t,Dt))throw new TypeError("with() does not support a calendar or timeZone property");if(t.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(t.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function LA(t){let{ianaName:e,offset:r,z:i}=function(o){try{let s=F3(o);if(s)return{ianaName:s.toString()}}catch{}try{let s=Hs(o);if(s.z||s.offset||s.ianaName)return s}catch{}throw new RangeError(`Invalid time zone: ${o}`)}(t);return e||(i?"UTC":r)}function R0(t,e){return e==="never"||e==="auto"&&t==="iso8601"?"":`[u-ca=${t}]`}function Hs(t){let e=SV.exec(t);if(!e)throw new RangeError(`invalid ISO 8601 string: ${t}`);let r=e[1];if(r[0]==="\u2212"&&(r=`-${r.slice(1)}`),r==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);let i=Ct(r),n=Ct(e[2]||e[4]),o=Ct(e[3]||e[5]),s=Ct(e[6]),f=e[6]!==void 0,c=Ct(e[7]||e[10]),d=Ct(e[8]||e[11]);d===60&&(d=59);let l=(e[9]||e[12])+"000000000",h=Ct(l.slice(0,3)),E=Ct(l.slice(3,6)),b=Ct(l.slice(6,9)),T,k=!1;if(e[13])T=void 0,k=!0;else if(e[14]&&e[15]){let I=e[14]==="-"||e[14]==="\u2212"?"-":"+",L=e[15]||"00",U=e[16]||"00",$=e[17]||"00",K=e[18]||"0";if(T=`${I}${L}:${U}`,+K){for(;K.endsWith("0");)K=K.slice(0,-1);T+=`:${$}.${K}`}else+$&&(T+=`:${$}`);T==="-00:00"&&(T="+00:00")}let O=e[19];if(O)try{O=F3(O).toString()}catch{}let D=e[20];return K3(i,n,o,s,c,d,h,E,b),{year:i,month:n,day:o,hasTime:f,hour:s,minute:c,second:d,millisecond:h,microsecond:E,nanosecond:b,ianaName:O,offset:T,z:k,calendar:D}}function UA(t){let e=AV.exec(t),r,i,n,o;if(e){let s=e[1];if(s[0]==="\u2212"&&(s=`-${s.slice(1)}`),s==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);r=Ct(s),i=Ct(e[2]),n=e[3]}else{let s;if({year:r,month:i,calendar:n,day:o,z:s}=Hs(t),s)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:r,month:i,calendar:n,referenceISODay:o}}function FA(t){let e=TV.exec(t),r,i,n,o;if(e)r=Ct(e[1]),i=Ct(e[2]);else{let s;if({month:r,day:i,calendar:n,year:o,z:s}=Hs(t),s)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:r,day:i,calendar:n,referenceISOYear:o}}function FV(t){let e=PV.exec(t);if(!e)throw new RangeError(`invalid duration: ${t}`);if(e.slice(2).every(O=>O===void 0))throw new RangeError(`invalid duration: ${t}`);let r=e[1]==="-"||e[1]==="\u2212"?-1:1,i=Ct(e[2])*r,n=Ct(e[3])*r,o=Ct(e[4])*r,s=Ct(e[5])*r,f=Ct(e[6])*r,c=e[7],d=Ct(e[8])*r,l=e[9],h=Ct(e[10])*r,E=e[11]+"000000000",b=Ct(E.slice(0,3))*r,T=Ct(E.slice(3,6))*r,k=Ct(E.slice(6,9))*r;return c=c?r*Ct(c)/10**c.length:0,l=l?r*Ct(l)/10**l.length:0,{minutes:d,seconds:h,milliseconds:b,microseconds:T,nanoseconds:k}=function(D,I,L,U,$,K,q){let F=D,G=I,B=L,w=U,M=$,_=K,a=q;if(F!==0){[G,B,w,M,_,a].forEach(p=>{if(p!==0)throw new RangeError("only the smallest unit can be fractional")});let u=60*F;G=Dl(u),B=u%1}if(B!==0){[w,M,_,a].forEach(v=>{if(v!==0)throw new RangeError("only the smallest unit can be fractional")});let u=60*B;w=Dl(u);let p=u%1;if(p!==0){let v=1e3*p;M=Dl(v);let g=v%1;if(g!==0){let m=1e3*g;_=Dl(m);let A=m%1;A!==0&&(a=Dl(1e3*A))}}}return{minutes:G,seconds:w,milliseconds:M,microseconds:_,nanoseconds:a}}(c,d,l,h,b,T,k),nv(i,n,o,s,f,d,h,b,T,k),{years:i,months:n,weeks:o,days:s,hours:f,minutes:d,seconds:h,milliseconds:b,microseconds:T,nanoseconds:k}}function zV(t){let{year:e,month:r,day:i,hour:n,minute:o,second:s,millisecond:f,microsecond:c,nanosecond:d,offset:l,z:h}=function(k){let O=Hs(k);if(!O.z&&!O.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return O}(t);if(!h&&!l)throw new RangeError("Temporal.Instant requires a time zone offset");let E=h?0:ku(l);({year:e,month:r,day:i,hour:n,minute:o,second:s,millisecond:f,microsecond:c,nanosecond:d}=$3(e,r,i,n,o,s,f,c,d-E));let b=Yf(e,r,i,n,o,s,f,c,d);if(b===null)throw new RangeError("DateTime outside of supported range");return b}function Cg(t,e,r,i){let n=t,o=e,s=r;switch(i){case"reject":zs(n,o,s);break;case"constrain":({year:n,month:o,day:s}=rT(n,o,s))}return{year:n,month:o,day:s}}function Kg(t,e,r,i,n,o,s){let f=t,c=e,d=r,l=i,h=n,E=o;switch(s){case"reject":iv(f,c,d,l,h,E);break;case"constrain":({hour:f,minute:c,second:d,millisecond:l,microsecond:h,nanosecond:E}=function(T,k,O,D,I,L){let U=rn(T,0,23),$=rn(k,0,59),K=rn(O,0,59),q=rn(D,0,999),F=rn(I,0,999),G=rn(L,0,999);return{hour:U,minute:$,second:K,millisecond:q,microsecond:F,nanosecond:G}}(f,c,d,l,h,E))}return{hour:f,minute:c,second:d,millisecond:l,microsecond:h,nanosecond:E}}function Ou(t){if(!tr(t))return FV(Je(t));if(dr(t))return{years:S(t,Mi),months:S(t,Gr),weeks:S(t,zi),days:S(t,Ai),hours:S(t,Ti),minutes:S(t,Ri),seconds:S(t,Pi),milliseconds:S(t,ki),microseconds:S(t,Ii),nanoseconds:S(t,Di)};let e={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0},r=function(T){if(!tr(T))throw new TypeError("invalid duration-like");let k={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0},O=!1;for(let D of Q7){let I=T[D];I!==void 0&&(O=!0,k[D]=qr(I))}if(!O)throw new TypeError("invalid duration-like");return k}(t);for(let b of Q7){let T=r[b];T!==void 0&&(e[b]=T)}let{years:i,months:n,weeks:o,days:s,hours:f,minutes:c,seconds:d,milliseconds:l,microseconds:h,nanoseconds:E}=e;return nv(i,n,o,s,f,c,d,l,h,E),{years:i,months:n,weeks:o,days:s,hours:f,minutes:c,seconds:d,milliseconds:l,microseconds:h,nanoseconds:E}}function br(t){return t===void 0?"constrain":Qf(t,"overflow",["constrain","reject"],"constrain")}function v0(t){return t===void 0?"compatible":Qf(t,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function $i(t,e){return Qf(t,"roundingMode",["ceil","floor","trunc","halfExpand"],e)}function P0(t){switch(t){case"ceil":return"floor";case"floor":return"ceil";default:return t}}function n3(t,e){return t===void 0?e:Qf(t,"offset",["prefer","use","ignore","reject"],e)}function k0(t){return Qf(t,"calendarName",["auto","always","never"],"auto")}function ja(t,e,r){let i=1/0;e!==void 0&&(i=e),r||e===void 0||(i=e>1?e-1:1);let n=function(s,f,c,d,l){let h=s[f];if(h===void 0)return l;let E=m0(h);if(A0(E)||E<c||E>d)throw new RangeError(`${String(f)} must be between ${c} and ${d}, not ${E}`);return Lr(E)}(t,"roundingIncrement",1,i,1);if(e!==void 0&&e%n!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`);return n}function O3(t,e){return ja(t,{year:void 0,month:void 0,week:void 0,day:void 0,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[e],!1)}function I0(t){let e=Ur(t,"smallestUnit","time",void 0);if(e==="hour"){let n=zl.reduce((o,[s,f,c])=>(c==="time"&&f!=="hour"&&o.push(f,s),o),[]);throw new RangeError(`smallestUnit must be one of ${n.join(", ")}, not ${e}`)}switch(e){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}let r=t.fractionalSecondDigits;if(r===void 0&&(r="auto"),typeof r!="number"){let n=Je(r);if(n==="auto")return{precision:"auto",unit:"nanosecond",increment:1};throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${n}`)}if(A0(r)||r<0||r>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${r}`);let i=Lr(r);switch(i){case 0:return{precision:i,unit:"second",increment:1};case 1:case 2:case 3:return{precision:i,unit:"millisecond",increment:10**(3-i)};case 4:case 5:case 6:return{precision:i,unit:"microsecond",increment:10**(6-i)};case 7:case 8:case 9:return{precision:i,unit:"nanosecond",increment:10**(9-i)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${r}`)}}var Tu=Symbol("~required~");function Ur(t,e,r,i,n=[]){let o=[];for(let[,d,l]of zl)r!=="datetime"&&r!==l||o.push(d);o.push(...n);let s=i;s===Tu?s=void 0:s!==void 0&&o.push(s);let f=[...o];for(let d of o){let l=UV.get(d);l!==void 0&&f.push(l)}let c=Qf(t,e,f,s);if(c===void 0&&i===Tu)throw new RangeError(`${e} is required`);return Bg.has(c)?Bg.get(c):c}function Tg(t){let e=t.relativeTo;if(e===void 0)return e;let r,i,n,o,s,f,c,d,l,h,E,b,T="option",k=!1;if(tr(e)){if(le(e)||yt(e))return e;if(st(e))return Nl(e);h=Wl(e);let O=ut(e,Er(h,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]),D=oi(null);D.overflow="constrain",{year:r,month:i,day:n,hour:o,minute:s,second:f,millisecond:c,microsecond:d,nanosecond:l}=D0(h,O,D),b=e.offset,b===void 0&&(T="wall"),E=e.timeZone}else{let O,D;({year:r,month:i,day:n,hour:o,minute:s,second:f,millisecond:c,microsecond:d,nanosecond:l,calendar:h,ianaName:O,offset:b,z:D}=Hs(Je(e))),O&&(E=O),D?T="exact":b||(T="wall"),h||(h=wr()),h=Jr(h),k=!0}if(E!==void 0){E=Oi(E);let O=0;return T==="option"&&(O=ku(Je(b))),ii(jg(r,i,n,o,s,f,c,d,l,T,O,E,"compatible","reject",k),E,h)}return no(r,i,n,h)}function o3(t,e,r,i,n,o,s,f,c,d){for(let[l,h]of[["years",t],["months",e],["weeks",r],["days",i],["hours",n],["minutes",o],["seconds",s],["milliseconds",f],["microseconds",c],["nanoseconds",d]])if(h!==0)return Bg.get(l);return"nanosecond"}function on(t,e){return J7.indexOf(t)>J7.indexOf(e)?e:t}function Hg(t,e){let r=t;return r===void 0&&(r=oi(null)),BA(oi(null),r,{largestUnit:e})}function ut(t,e,r,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){let n=oi(null),o=!1;for(let s of e){let f=t[s];if(f!==void 0)o=!0,Y7.has(s)&&(f=Y7.get(s)(f)),n[s]=f;else if(r!=="partial"){if(IA.call(r,s))throw new TypeError(`required property '${s}' missing or undefined`);f=LV.get(s),n[s]=f}}if(r==="partial"&&!o)throw new TypeError(i);if(n.era===void 0!=(n.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together");return n}function Og(t,e="complete"){let r=["hour","microsecond","millisecond","minute","nanosecond","second"],i=ut(t,r,"partial",{emptySourceErrorMessage:"invalid time-like"}),n={};for(let o of r){let s=CV(i,o);s!==void 0?n[o]=s.value:e==="complete"&&(n[o]=0)}return n}function Ht(t,e){let r=t;if(tr(r)){if(yt(r))return r;if(le(r)&&(br(e),r=yn(S(r,Dt),S(r,vi),S(r,Y))),st(r))return br(e),no(S(r,ne),S(r,ae),S(r,fe),S(r,Y));let c=Wl(r);return Zf(c,ut(r,Er(c,["day","month","monthCode","year"]),[]),e)}br(e);let{year:i,month:n,day:o,calendar:s,z:f}=function(d){return Hs(d)}(Je(r));if(f)throw new RangeError("Z designator not supported for PlainDate");return new(Ge("%Temporal.PlainDate%"))(i,n,o,s)}function D0(t,e,r){let{hour:i,minute:n,second:o,millisecond:s,microsecond:f,nanosecond:c}=Og(e),d=br(r),l=Zf(t,e,r),h=S(l,ne),E=S(l,ae),b=S(l,fe);return{hour:i,minute:n,second:o,millisecond:s,microsecond:f,nanosecond:c}=Kg(i,n,o,s,f,c,d),{year:h,month:E,day:b,hour:i,minute:n,second:o,millisecond:s,microsecond:f,nanosecond:c}}function Eu(t,e){let r,i,n,o,s,f,c,d,l,h;if(tr(t)){if(st(t))return t;if(le(t))return br(e),yn(S(t,Dt),S(t,vi),S(t,Y));if(yt(t))return br(e),tn(S(t,ne),S(t,ae),S(t,fe),0,0,0,0,0,0,S(t,Y));h=Wl(t);let E=ut(t,Er(h,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:r,month:i,day:n,hour:o,minute:s,second:f,millisecond:c,microsecond:d,nanosecond:l}=D0(h,E,e))}else{let E;if(br(e),{year:r,month:i,day:n,hour:o,minute:s,second:f,millisecond:c,microsecond:d,nanosecond:l,calendar:h,z:E}=function(T){return Hs(T)}(Je(t)),E)throw new RangeError("Z designator not supported for PlainDateTime");K3(r,i,n,o,s,f,c,d,l),h===void 0&&(h=wr()),h=Jr(h)}return tn(r,i,n,o,s,f,c,d,l,h)}function Bl(t){if(dr(t))return t;let{years:e,months:r,weeks:i,days:n,hours:o,minutes:s,seconds:f,milliseconds:c,microseconds:d,nanoseconds:l}=Ou(t);return new(Ge("%Temporal.Duration%"))(e,r,i,n,o,s,f,c,d,l)}function Ls(t){if(Rr(t))return t;if(le(t))return new(Ge("%Temporal.Instant%"))(S(t,Ve));let e=zV(Je(t));return new(Ge("%Temporal.Instant%"))(e)}function eA(t,e){let r=t;if(tr(r)){if(Zr(r))return r;let c,d;if(Fr(r,Y))c=S(r,Y),d=!1;else{let h=r.calendar;d=h===void 0,h===void 0&&(h=wr()),c=Jr(h)}r=r;let l=ut(r,Er(c,["day","month","monthCode","year"]),[]);return d&&l.month!==void 0&&l.monthCode===void 0&&l.year===void 0&&(l.year=1972),jl(c,l,e)}br(e);let{month:i,day:n,referenceISOYear:o,calendar:s}=FA(Je(r)),f=s;return f===void 0&&(f=wr()),f=Jr(f),o===void 0?(zs(1972,i,n),b0(i,n,f)):jl(f,b0(i,n,f,o))}function Ia(t,e="constrain"){let r,i,n,o,s,f,c,d=t;if(tr(d)){if(lr(d))return d;if(le(d)&&(d=yn(S(d,Dt),S(d,vi),S(d,Y))),st(d))return new(Ge("%Temporal.PlainTime%"))(S(d,Xe),S(d,et),S(d,tt),S(d,rt),S(d,it),S(d,nt));if(c=Wl(d),Je(c)!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");({hour:r,minute:i,second:n,millisecond:o,microsecond:s,nanosecond:f}=Og(d)),{hour:r,minute:i,second:n,millisecond:o,microsecond:s,nanosecond:f}=Kg(r,i,n,o,s,f,e)}else if({hour:r,minute:i,second:n,millisecond:o,microsecond:s,nanosecond:f,calendar:c}=function(h){let E=MV.exec(h),b,T,k,O,D,I,L;if(E){b=Ct(E[1]),T=Ct(E[2]||E[5]),k=Ct(E[3]||E[6]),k===60&&(k=59);let U=(E[4]||E[7])+"000000000";O=Ct(U.slice(0,3)),D=Ct(U.slice(3,6)),I=Ct(U.slice(6,9)),L=E[15]}else{let U,$;if({hasTime:$,hour:b,minute:T,second:k,millisecond:O,microsecond:D,nanosecond:I,calendar:L,z:U}=Hs(h),!$)throw new RangeError(`time is missing in string: ${h}`);if(U)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(h))return{hour:b,minute:T,second:k,millisecond:O,microsecond:D,nanosecond:I,calendar:L};try{let{month:U,day:$}=FA(h);zs(1972,U,$)}catch{try{let{year:U,month:$}=UA(h);zs(U,$,1)}catch{return{hour:b,minute:T,second:k,millisecond:O,microsecond:D,nanosecond:I,calendar:L}}}throw new RangeError(`invalid ISO 8601 time-only string ${h}; may need a T prefix`)}(Je(d)),iv(r,i,n,o,s,f),c!==void 0&&c!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");return new(Ge("%Temporal.PlainTime%"))(r,i,n,o,s,f)}function f0(t,e){if(tr(t)){if(Mt(t))return t;let f=Wl(t);return Pu(f,ut(t,Er(f,["month","monthCode","year"]),[]),e)}br(e);let{year:r,month:i,referenceISODay:n,calendar:o}=UA(Je(t)),s=o;return s===void 0&&(s=wr()),s=Jr(s),n===void 0?(zs(r,i,1),w0(r,i,s)):Pu(s,w0(r,i,s,n))}function jg(t,e,r,i,n,o,s,f,c,d,l,h,E,b,T){let k=new(Ge("%Temporal.PlainDateTime%"))(t,e,r,i,n,o,s,f,c);if(d==="wall"||b==="ignore")return S(Ci(h,k,E),Ve);if(d==="exact"||b==="use"){let D=Yf(t,e,r,i,n,o,s,f,c);if(D===null)throw new RangeError("ZonedDateTime outside of supported range");return N.default.subtract(D,N.default.BigInt(l))}let O=Ng(h,k);for(let D of O){let I=es(h,D),L=N.default.toNumber(en(N.default.BigInt(I),6e10,"halfExpand"));if(I===l||T&&L===l)return S(D,Ve)}if(b==="reject"){let D=z3(l),I=qs(h)?S(h,$f):"time zone";throw new RangeError(`Offset ${D} is invalid for ${k.toString()} in ${I}`)}return S(ZA(O,h,k,E),Ve)}function c0(t,e){let r,i,n,o,s,f,c,d,l,h,E,b,T=!1,k="option";if(tr(t)){if(le(t))return t;b=Wl(t);let D=ut(t,i3(Er(b,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),"timeZone","offset"),["timeZone"]);({year:r,month:i,day:n,hour:o,minute:s,second:f,millisecond:c,microsecond:d,nanosecond:l}=D0(b,D,e)),h=Oi(D.timeZone),E=D.offset,E===void 0?k="wall":E=Je(E)}else{let D,I;if(br(e),{year:r,month:i,day:n,hour:o,minute:s,second:f,millisecond:c,microsecond:d,nanosecond:l,ianaName:D,offset:E,z:I,calendar:b}=function(U){let $=Hs(U);if(!$.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return $}(Je(t)),!D)throw new RangeError("time zone ID required in brackets");I?k="exact":E||(k="wall"),h=new(Ge("%Temporal.TimeZone%"))(D),b||(b=wr()),b=Jr(b),T=!0}let O=0;return k==="option"&&(O=ku(E)),ii(jg(r,i,n,o,s,f,c,d,l,k,O,h,v0(e),n3(e,"reject"),T),h,b)}function zA(t,e,r,i,n){zs(e,r,i),iT(e,r,i),Ks(t),at(t,ne,e),at(t,ae,r),at(t,fe,i),at(t,Y,n),at(t,"slot-date-brand",!0)}function no(t,e,r,i=wr()){let n=Ge("%Temporal.PlainDate%"),o=oi(n.prototype);return zA(o,t,e,r,i),o}function $A(t,e,r,i,n,o,s,f,c,d,l){K3(e,r,i,n,o,s,f,c,d),nT(e,r,i,n,o,s,f,c,d),Ks(t),at(t,ne,e),at(t,ae,r),at(t,fe,i),at(t,Xe,n),at(t,et,o),at(t,tt,s),at(t,rt,f),at(t,it,c),at(t,nt,d),at(t,Y,l)}function tn(t,e,r,i,n,o,s,f,c,d=wr()){let l=Ge("%Temporal.PlainDateTime%"),h=oi(l.prototype);return $A(h,t,e,r,i,n,o,s,f,c,d),h}function WA(t,e,r,i,n){zs(n,e,r),iT(n,e,r),Ks(t),at(t,ae,e),at(t,fe,r),at(t,ne,n),at(t,Y,i),at(t,"slot-month-day-brand",!0)}function b0(t,e,r=wr(),i=1972){let n=Ge("%Temporal.PlainMonthDay%"),o=oi(n.prototype);return WA(o,t,e,r,i),o}function KA(t,e,r,i,n){zs(e,r,n),function(s,f){ni(s,-271821,275760),s===-271821?ni(f,4,12):s===275760&&ni(f,1,9)}(e,r),Ks(t),at(t,ne,e),at(t,ae,r),at(t,fe,n),at(t,Y,i),at(t,"slot-year-month-brand",!0)}function w0(t,e,r=wr(),i=1){let n=Ge("%Temporal.PlainYearMonth%"),o=oi(n.prototype);return KA(o,t,e,r,i),o}function HA(t,e,r,i){_u(e),Ks(t),at(t,Ve,e),at(t,Dt,r),at(t,Y,i);let n=new(Ge("%Temporal.Instant%"))(S(t,Ve));at(t,vi,n)}function ii(t,e,r=wr()){let i=Ge("%Temporal.ZonedDateTime%"),n=oi(i.prototype);return HA(n,t,e,r),n}function wr(){return new(Ge("%Temporal.Calendar%"))("iso8601")}function Er(t,e){let r=e;t.fields&&(r=t.fields(r));let i=[];for(let n of r){if(typeof n!="string")throw new TypeError("bad return from calendar.fields()");I3.call(i,n)}return i}function Ru(t,e,r){let i=t.mergeFields;if(!i)return{...e,...r};let n=Reflect.apply(i,t,[e,r]);if(!tr(n))throw new TypeError("bad return from calendar.mergeFields()");return n}function Bi(t,e,r,i,n){let o=n;o===void 0&&(o=t.dateAdd);let s=D3(o,t,[e,r,i]);if(!yt(s))throw new TypeError("invalid result");return s}function Gf(t,e,r,i,n){let o=n;o===void 0&&(o=t.dateUntil);let s=D3(o,t,[e,r,i]);if(!dr(s))throw new TypeError("invalid result");return s}function Vg(t,e){let r=t.year(e);if(r===void 0)throw new RangeError("calendar year result must be an integer");return Vt(r)}function Gg(t,e){let r=t.month(e);if(r===void 0)throw new RangeError("calendar month result must be a positive integer");return g0(r)}function B0(t,e){let r=t.monthCode(e);if(r===void 0)throw new RangeError("calendar monthCode result must be a string");return Je(r)}function Zg(t,e){let r=t.day(e);if(r===void 0)throw new RangeError("calendar day result must be a positive integer");return g0(r)}function Yg(t,e){let r=t.era(e);return r!==void 0&&(r=Je(r)),r}function Jg(t,e){let r=t.eraYear(e);return r!==void 0&&(r=Vt(r)),r}function j3(t,e){return t.dayOfWeek(e)}function N3(t,e){return t.dayOfYear(e)}function q3(t,e){return t.weekOfYear(e)}function L3(t,e){return t.daysInWeek(e)}function C0(t,e){return t.daysInMonth(e)}function Qg(t,e){return t.daysInYear(e)}function Xg(t,e){return t.monthsInYear(e)}function ev(t,e){return t.inLeapYear(e)}function Jr(t){let e=t;if(tr(e)){if(Fr(e,Y))return S(e,Y);if(!("calendar"in e)||(e=e.calendar,tr(e)&&!("calendar"in e)))return e}let r=Je(e),i=Ge("%Temporal.Calendar%");if(uT(r))return new i(r);let n;try{({calendar:n}=Hs(r))}catch{throw new RangeError(`Invalid calendar: ${r}`)}return n||(n="iso8601"),new i(n)}function Wl(t){if(Fr(t,Y))return S(t,Y);let{calendar:e}=t;return e===void 0?wr():Jr(e)}function O0(t,e){return t===e?!0:Je(t)===Je(e)}function VA(t,e){if(t===e)return e;let r=Je(t),i=Je(e);if(r===i||r==="iso8601")return e;if(i==="iso8601")return t;throw new RangeError("irreconcilable calendars")}function Zf(t,e,r){let i=t.dateFromFields(e,r);if(!yt(i))throw new TypeError("invalid result");return i}function Pu(t,e,r){let i=t.yearMonthFromFields(e,r);if(!Mt(i))throw new TypeError("invalid result");return i}function jl(t,e,r){let i=t.monthDayFromFields(e,r);if(!Zr(i))throw new TypeError("invalid result");return i}function Oi(t){let e=t;if(tr(e)){if(le(e))return S(e,Dt);if(!("timeZone"in e)||(e=e.timeZone,tr(e)&&!("timeZone"in e)))return e}let r=LA(Je(e));return new(Ge("%Temporal.TimeZone%"))(r)}function GA(t,e){return t===e?!0:Je(t)===Je(e)}function Nl(t){return no(S(t,ne),S(t,ae),S(t,fe),S(t,Y))}function U3(t){return new(Ge("%Temporal.PlainTime%"))(S(t,Xe),S(t,et),S(t,tt),S(t,rt),S(t,it),S(t,nt))}function es(t,e){let r=t.getOffsetNanosecondsFor;if(typeof r!="function")throw new TypeError("getOffsetNanosecondsFor not callable");let i=Reflect.apply(r,t,[e]);if(typeof i!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!NA(i)||wt(i)>864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function s3(t,e){return z3(es(t,e))}function yn(t,e,r){let i=S(e,Ve),n=es(t,e),{year:o,month:s,day:f,hour:c,minute:d,second:l,millisecond:h,microsecond:E,nanosecond:b}=JA(i);return{year:o,month:s,day:f,hour:c,minute:d,second:l,millisecond:h,microsecond:E,nanosecond:b}=$3(o,s,f,c,d,l,h,E,b+n),tn(o,s,f,c,d,l,h,E,b,r)}function Ci(t,e,r){return ZA(Ng(t,e),t,e,r)}function ZA(t,e,r,i){let n=Ge("%Temporal.Instant%"),o=t.length;if(o===1)return t[0];if(o)switch(i){case"compatible":case"earlier":return t[0];case"later":return t[o-1];case"reject":throw new RangeError("multiple instants found")}let s=S(r,ne),f=S(r,ae),c=S(r,fe),d=S(r,Xe),l=S(r,et),h=S(r,tt),E=S(r,rt),b=S(r,it),T=S(r,nt),k=Yf(s,f,c,d,l,h,E,b,T);if(k===null)throw new RangeError("DateTime outside of supported range");let O=new n(N.default.subtract(k,Vf)),D=new n(N.default.add(k,Vf)),I=es(e,O),L=es(e,D)-I;switch(i){case"earlier":{let U=S(r,Y),$=Ge("%Temporal.PlainDateTime%"),K=f3(s,f,c,d,l,h,E,b,T,U,0,0,0,0,0,0,0,0,0,-L,void 0);return Ng(e,new $(K.year,K.month,K.day,K.hour,K.minute,K.second,K.millisecond,K.microsecond,K.nanosecond,U))[0]}case"compatible":case"later":{let U=S(r,Y),$=Ge("%Temporal.PlainDateTime%"),K=f3(s,f,c,d,l,h,E,b,T,U,0,0,0,0,0,0,0,0,0,L,void 0),q=Ng(e,new $(K.year,K.month,K.day,K.hour,K.minute,K.second,K.millisecond,K.microsecond,K.nanosecond,U));return q[q.length-1]}case"reject":throw new RangeError("no such instant found")}}function Ng(t,e){let r=t.getPossibleInstantsFor(e),i=[];for(let n of r){if(!Rr(n))throw new TypeError("bad return from getPossibleInstantsFor");I3.call(i,n)}return i}function ju(t){let e;return t<0||t>9999?e=(t<0?"-":"+")+`000000${wt(t)}`.slice(-6):e=`0000${t}`.slice(-4),e}function sr(t){return`00${t}`.slice(-2)}function tv(t,e,r,i,n){if(n==="minute")return"";let o=`:${sr(t)}`,s,f=1e6*e+1e3*r+i;if(n==="auto"){if(f===0)return o;for(s=`${f}`.padStart(9,"0");s[s.length-1]==="0";)s=s.slice(0,-1)}else{if(n===0)return o;s=`${f}`.padStart(9,"0").slice(0,n)}return`${o}.${s}`}function tA(t,e,r){let i=e;i===void 0&&(i=new(Ge("%Temporal.TimeZone%"))("UTC"));let n=yn(i,t,wr()),o=ju(S(n,ne)),s=sr(S(n,ae)),f=sr(S(n,fe)),c=sr(S(n,Xe)),d=sr(S(n,et)),l=tv(S(n,tt),S(n,rt),S(n,it),S(n,nt),r),h="Z";return e!==void 0&&(h=YA(es(i,t))),`${o}-${s}-${f}T${c}:${d}${l}${h}`}function Z_(t,e="auto",r){function i(G){return G<=BV?G.toString(10):N.default.BigInt(G).toString(10)}let n=S(t,Mi),o=S(t,Gr),s=S(t,zi),f=S(t,Ai),c=S(t,Ti),d=S(t,Ri),l=S(t,Pi),h=S(t,ki),E=S(t,Ii),b=S(t,Di),T=Fs(n,o,s,f,c,d,l,h,E,b);if(r){let{unit:G,increment:B,roundingMode:w}=r;({seconds:l,milliseconds:h,microseconds:E,nanoseconds:b}=Jf(0,0,0,0,0,0,l,h,E,b,B,G,w))}let k=[];n&&k.push(`${i(wt(n))}Y`),o&&k.push(`${i(wt(o))}M`),s&&k.push(`${i(wt(s))}W`),f&&k.push(`${i(wt(f))}D`);let O=[];c&&O.push(`${i(wt(c))}H`),d&&O.push(`${i(wt(d))}M`);let D=[],I,L,U,$,K=ql(0,0,0,l,h,E,b,0);({quotient:K,remainder:I}=Nr(K,Bt)),{quotient:K,remainder:L}=Nr(K,Bt),{quotient:$,remainder:U}=Nr(K,Bt);let q=1e6*wt(N.default.toNumber(U))+1e3*wt(N.default.toNumber(L))+wt(N.default.toNumber(I)),F;if(e==="auto"){if(q!==0)for(F=`${q}`.padStart(9,"0");F[F.length-1]==="0";)F=F.slice(0,-1)}else e!==0&&(F=`${q}`.padStart(9,"0").slice(0,e));return F&&D.unshift(".",F),N.default.equal($,vr)&&!D.length&&e==="auto"||D.unshift(C3($).toString()),D.length&&O.push(`${D.join("")}S`),O.length&&O.unshift("T"),k.length||O.length?`${T<0?"-":""}P${k.join("")}${O.join("")}`:"PT0S"}function rA(t,e="auto"){return`${ju(S(t,ne))}-${sr(S(t,ae))}-${sr(S(t,fe))}${R0(Je(S(t,Y)),e)}`}function iA(t,e,r="auto",i){let n=S(t,ne),o=S(t,ae),s=S(t,fe),f=S(t,Xe),c=S(t,et),d=S(t,tt),l=S(t,rt),h=S(t,it),E=S(t,nt);if(i){let{unit:b,increment:T,roundingMode:k}=i;({year:n,month:o,day:s,hour:f,minute:c,second:d,millisecond:l,microsecond:h,nanosecond:E}=Z3(n,o,s,f,c,d,l,h,E,T,b,k))}return`${ju(n)}-${sr(o)}-${sr(s)}T${sr(f)}:${sr(c)}${tv(d,l,h,E,e)}${R0(Je(S(t,Y)),r)}`}function nA(t,e="auto"){let r=`${sr(S(t,ae))}-${sr(S(t,fe))}`,i=Je(S(t,Y));(e==="always"||i!=="iso8601")&&(r=`${ju(S(t,ne))}-${r}`);let n=R0(i,e);return n&&(r+=n),r}function oA(t,e="auto"){let r=`${ju(S(t,ne))}-${sr(S(t,ae))}`,i=Je(S(t,Y));(e==="always"||i!=="iso8601")&&(r+=`-${sr(S(t,fe))}`);let n=R0(i,e);return n&&(r+=n),r}function sA(t,e,r="auto",i="auto",n="auto",o){let s=S(t,vi);if(o){let{unit:l,increment:h,roundingMode:E}=o,b=Lg(S(t,Ve),h,l,E);s=new(Ge("%Temporal.Instant%"))(b)}let f=S(t,Dt),c=yn(f,s,wr()),d=`${ju(S(c,ne))}-${sr(S(c,ae))}-${sr(S(c,fe))}T${sr(S(c,Xe))}:${sr(S(c,et))}${tv(S(c,tt),S(c,rt),S(c,it),S(c,nt),e)}`;return n!=="never"&&(d+=YA(es(f,s))),i!=="never"&&(d+=`[${f}]`),d+=R0(Je(S(t,Y)),r),d}function u0(t){return dT.test(T0(t))}function ku(t){let e=dT.exec(T0(t));if(!e)throw new RangeError(`invalid time zone offset: ${t}`);return(e[1]==="-"||e[1]==="\u2212"?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}function F3(t){return u0(t)?z3(ku(t)):qA(T0(t)).resolvedOptions().timeZone}function Pa(t,e){let{year:r,month:i,day:n,hour:o,minute:s,second:f,millisecond:c,microsecond:d,nanosecond:l}=QA(t,e),h=Yf(r,i,n,o,s,f,c,d,l);if(h===null)throw new RangeError("Date outside of supported range");return N.default.toNumber(N.default.subtract(h,t))}function z3(t){let e=t<0?"-":"+",r=wt(t),i=r%1e9,n=Lr(r/1e9)%60,o=Lr(r/6e10)%60,s=sr(Lr(r/36e11)),f=sr(o),c=sr(n),d="";if(i){let l=`${i}`.padStart(9,"0");for(;l[l.length-1]==="0";)l=l.slice(0,-1);d=`:${c}.${l}`}else n&&(d=`:${c}`);return`${e}${s}:${f}${d}`}function YA(t){let e=N.default.toNumber(en(N.default.BigInt(t),6e10,"halfExpand")),r=e<0?"-":"+";e=wt(e);let i=e/6e10%60;return`${r}${sr(Lr(e/36e11))}:${sr(i)}`}function Yf(t,e,r,i,n,o,s,f,c){let d=new Date;d.setUTCHours(i,n,o,s),d.setUTCFullYear(t,e-1,r);let l=d.getTime();if(A0(l))return null;let h=N.default.multiply(N.default.BigInt(l),On);return h=N.default.add(h,N.default.multiply(N.default.BigInt(f),Bt)),h=N.default.add(h,N.default.BigInt(c)),N.default.lessThan(h,p0)||N.default.greaterThan(h,y0)?null:h}function JA(t){let{quotient:e,remainder:r}=Nr(t,On),i=N.default.toNumber(e),n=N.default.toNumber(r);n<0&&(n+=1e6,i-=1);let o=Lr(n/1e3)%1e3,s=n%1e3,f=new Date(i);return{epochMilliseconds:i,year:f.getUTCFullYear(),month:f.getUTCMonth()+1,day:f.getUTCDate(),hour:f.getUTCHours(),minute:f.getUTCMinutes(),second:f.getUTCSeconds(),millisecond:f.getUTCMilliseconds(),microsecond:o,nanosecond:s}}function QA(t,e){let{epochMilliseconds:r,millisecond:i,microsecond:n,nanosecond:o}=JA(t),{year:s,month:f,day:c,hour:d,minute:l,second:h}=function(b,T){let k=qA(b);return function(D){let I=D.split(/[^\w]+/);if(I.length!==7)throw new RangeError(`expected 7 parts in "${D}`);let L=+I[0],U=+I[1],$=+I[2],K=I[3].toUpperCase();if(K==="B"||K==="BC")$=1-$;else if(K!=="A"&&K!=="AD")throw new RangeError(`Unknown era ${K} in "${D}`);let q=+I[4];q===24&&(q=0);let F=+I[5],G=+I[6];if(!(Yr($)&&Yr(L)&&Yr(U)&&Yr(q)&&Yr(F)&&Yr(G)))throw new RangeError(`Invalid number in "${D}`);return{year:$,month:L,day:U,hour:q,minute:F,second:G}}(k.format(new Date(T)))}(e,r);return $3(s,f,c,d,l,h,i,n,o)}function aA(t,e){return N.default.lessThan(t,e)?e:t}function XA(){return N.default.add(J3(),NV)}function eT(t,e){let r=XA(),i=N.default.greaterThan(t,r),n=i?N.default.subtract(t,OA):CA,o=N.default.subtract(t,B3),s=Pa(o,e),f=o,c=s;for(;s===c&&N.default.greaterThan(o,n);)f=N.default.subtract(o,jA),c=Pa(f,e),s===c&&(o=f);return s===c?i?eT(N.default.subtract(r,Vf),e):null:lT(d=>Pa(d,e),f,o,c,s)}function Kf(t){return t===void 0?!1:t%4==0&&(t%100!=0||t%400==0)}function Ba(t,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[Kf(t)?"leapyear":"standard"][e-1]}function Y_(t,e,r){let i=e+(e<3?10:-2),n=t-(e<3?1:0),o=Lr(n/100),s=n-100*o,f=(r+Lr(2.6*i-.2)+(s+Lr(s/4))+(Lr(o/4)-2*o))%7;return f+(f<=0?7:0)}function qg(t,e,r){let i=r;for(let n=e-1;n>0;n--)i+=Ba(t,n);return i}function Fs(t,e,r,i,n,o,s,f,c,d){for(let l of[t,e,r,i,n,o,s,f,c,d])if(l!==0)return l<0?-1:1;return 0}function Rg(t,e){let r=t,i=e;if(!Yr(r)||!Yr(i))throw new RangeError("infinity is out of range");return i-=1,r+=Lr(i/12),i%=12,i<0&&(i+=12),i+=1,{year:r,month:i}}function rv(t,e,r){let i=t,n=e,o=r;if(!Yr(o))throw new RangeError("infinity is out of range");({year:i,month:n}=Rg(i,n));let s=0,f=n>2?i:i-1;for(;s=Kf(f)?366:365,o<-s;)i-=1,f-=1,o+=s;for(f+=1;s=Kf(f)?366:365,o>s;)i+=1,f+=1,o-=s;for(;o<1;)({year:i,month:n}=Rg(i,n-1)),o+=Ba(i,n);for(;o>Ba(i,n);)o-=Ba(i,n),{year:i,month:n}=Rg(i,n+1);return{year:i,month:n,day:o}}function $3(t,e,r,i,n,o,s,f,c){let{deltaDays:d,hour:l,minute:h,second:E,millisecond:b,microsecond:T,nanosecond:k}=ka(i,n,o,s,f,c),{year:O,month:D,day:I}=rv(t,e,r+d);return{year:O,month:D,day:I,hour:l,minute:h,second:E,millisecond:b,microsecond:T,nanosecond:k}}function ka(t,e,r,i,n,o){let s=t,f=e,c=r,d=i,l=n,h=o;if(!(Yr(s)&&Yr(f)&&Yr(c)&&Yr(d)&&Yr(l)&&Yr(h)))throw new RangeError("infinity is out of range");l+=Lr(h/1e3),h=Il(h,1e3),d+=Lr(l/1e3),l=Il(l,1e3),c+=Lr(d/1e3),d=Il(d,1e3),f+=Lr(c/60),c=Il(c,60),s+=Lr(f/60),f=Il(f,60);let E=Lr(s/24);return s=Il(s,24),{deltaDays:E,hour:s,minute:f,second:c,millisecond:d,microsecond:l,nanosecond:h}}function ql(t,e,r,i,n,o,s,f){let c=N.default.BigInt(t),d=N.default.BigInt(s);t!==0&&(d=N.default.subtract(N.default.BigInt(s),N.default.BigInt(f)));let l=N.default.add(N.default.BigInt(e),N.default.multiply(c,N.default.BigInt(24))),h=N.default.add(N.default.BigInt(r),N.default.multiply(l,xu)),E=N.default.add(N.default.BigInt(i),N.default.multiply(h,xu)),b=N.default.add(N.default.BigInt(n),N.default.multiply(E,Bt)),T=N.default.add(N.default.BigInt(o),N.default.multiply(b,Bt));return N.default.add(N.default.BigInt(d),N.default.multiply(T,Bt))}function W3(t,e){let r=Ge("%Temporal.Instant%"),i=h0(N.default.toNumber(t)),n=N.default.BigInt(t),o=864e11;if(i===0)return{days:0,nanoseconds:vr,dayLengthNs:o};if(!le(e)){let I;return{quotient:I,remainder:n}=Nr(n,N.default.BigInt(o)),{days:N.default.toNumber(I),nanoseconds:n,dayLengthNs:o}}let s=S(e,Ve),f=S(e,vi),c=N.default.add(s,n),d=new r(c),l=S(e,Dt),h=S(e,Y),E=yn(l,f,h),b=yn(l,d,h),{days:T}=G3(S(E,ne),S(E,ae),S(E,fe),S(E,Xe),S(E,et),S(E,tt),S(E,rt),S(E,it),S(E,nt),S(b,ne),S(b,ae),S(b,fe),S(b,Xe),S(b,et),S(b,tt),S(b,rt),S(b,it),S(b,nt),h,"day",oi(null)),k=jn(f,l,h,0,0,0,T,0,0,0,0,0,0);if(i===1)for(;T>0&&N.default.greaterThan(k,c);)--T,k=jn(f,l,h,0,0,0,T,0,0,0,0,0,0);n=N.default.subtract(c,k);let O=!1,D=new r(k);do{let I=jn(D,l,h,0,0,0,i,0,0,0,0,0,0),L=S(D,Ve);o=N.default.toNumber(N.default.subtract(I,L)),O=N.default.greaterThan(N.default.multiply(N.default.subtract(n,N.default.BigInt(o)),N.default.BigInt(i)),vr),O&&(n=N.default.subtract(n,N.default.BigInt(o)),D=new r(I),T+=i)}while(O);return{days:T,nanoseconds:n,dayLengthNs:wt(o)}}function nn(t,e,r,i,n,o,s,f,c){let d,l,h,E,b,T,k=t;if(le(c)){let D=jn(S(c,vi),S(c,Dt),S(c,Y),0,0,0,k,e,r,i,n,o,s),I=S(c,Ve);d=N.default.subtract(D,I)}else d=ql(k,e,r,i,n,o,s,0);f==="year"||f==="month"||f==="week"||f==="day"?{days:k,nanoseconds:d}=W3(d,c):k=0;let O=N.default.lessThan(d,vr)?-1:1;switch(d=C3(d),l=h=E=b=T=vr,f){case"year":case"month":case"week":case"day":case"hour":({quotient:l,remainder:d}=Nr(d,Bt)),{quotient:h,remainder:l}=Nr(l,Bt),{quotient:E,remainder:h}=Nr(h,Bt),{quotient:b,remainder:E}=Nr(E,xu),{quotient:T,remainder:b}=Nr(b,xu);break;case"minute":({quotient:l,remainder:d}=Nr(d,Bt)),{quotient:h,remainder:l}=Nr(l,Bt),{quotient:E,remainder:h}=Nr(h,Bt),{quotient:b,remainder:E}=Nr(E,xu);break;case"second":({quotient:l,remainder:d}=Nr(d,Bt)),{quotient:h,remainder:l}=Nr(l,Bt),{quotient:E,remainder:h}=Nr(h,Bt);break;case"millisecond":({quotient:l,remainder:d}=Nr(d,Bt)),{quotient:h,remainder:l}=Nr(l,Bt);break;case"microsecond":({quotient:l,remainder:d}=Nr(d,Bt));break;case"nanosecond":break;default:throw new Error("assert not reached")}return{days:k,hours:N.default.toNumber(T)*O,minutes:N.default.toNumber(b)*O,seconds:N.default.toNumber(E)*O,milliseconds:N.default.toNumber(h)*O,microseconds:N.default.toNumber(l)*O,nanoseconds:N.default.toNumber(d)*O}}function Ag(t,e,r,i,n,o){let s=t,f=e,c=r,d=i,l=Ge("%Temporal.Duration%"),h=Fs(s,f,c,d,0,0,0,0,0,0),E,b;o&&(b=Ht(o),E=S(b,Y));let T=new l(h),k=new l(0,h),O=new l(0,0,h);switch(n){case"year":break;case"month":{if(!E)throw new RangeError("a starting point is required for months balancing");let D=E.dateAdd,I=E.dateUntil,L=b;for(;wt(s)>0;){let U=Bi(E,L,T,void 0,D),$=oi(null);$.largestUnit="month";let K=S(Gf(E,L,U,$,I),Gr);L=U,f+=K,s-=h}}break;case"week":if(!E)throw new RangeError("a starting point is required for weeks balancing");for(;wt(s)>0;){let D;({relativeTo:b,days:D}=gi(E,b,T)),d+=D,s-=h}for(;wt(f)>0;){let D;({relativeTo:b,days:D}=gi(E,b,k)),d+=D,f-=h}break;default:for(;wt(s)>0;){if(!E)throw new RangeError("a starting point is required for balancing calendar units");let D;({relativeTo:b,days:D}=gi(E,b,T)),d+=D,s-=h}for(;wt(f)>0;){if(!E)throw new RangeError("a starting point is required for balancing calendar units");let D;({relativeTo:b,days:D}=gi(E,b,k)),d+=D,f-=h}for(;wt(c)>0;){if(!E)throw new RangeError("a starting point is required for balancing calendar units");let D;({relativeTo:b,days:D}=gi(E,b,O)),d+=D,c-=h}}return{years:s,months:f,weeks:c,days:d}}function fA(t,e,r,i,n){if(le(t)){let o=S(t,vi),s=S(t,Dt),f=S(t,Y),c=es(s,o),d=jn(o,s,f,e,r,i,n,0,0,0,0,0,0);return es(s,new(Ge("%Temporal.Instant%"))(d))-c}return 0}function tT(t){return new(Ge("%Temporal.Duration%"))(-S(t,Mi),-S(t,Gr),-S(t,zi),-S(t,Ai),-S(t,Ti),-S(t,Ri),-S(t,Pi),-S(t,ki),-S(t,Ii),-S(t,Di))}function rn(t,e,r){return kV(r,IV(e,t))}function rT(t,e,r){let i=rn(e,1,12);return{year:t,month:i,day:rn(r,1,Ba(t,i))}}function ni(t,e,r){if(t<e||t>r)throw new RangeError(`value out of range: ${e} <= ${t} <= ${r}`)}function zs(t,e,r){ni(e,1,12),ni(r,1,Ba(t,e))}function iT(t,e,r){nT(t,e,r,12,0,0,0,0,0)}function iv(t,e,r,i,n,o){ni(t,0,23),ni(e,0,59),ni(r,0,59),ni(i,0,999),ni(n,0,999),ni(o,0,999)}function K3(t,e,r,i,n,o,s,f,c){zs(t,e,r),iv(i,n,o,s,f,c)}function nT(t,e,r,i,n,o,s,f,c){if(ni(t,-271821,275760),t===-271821&&Yf(t,e,r+1,i,n,o,s,f,c-1)==null||t===275760&&Yf(t,e,r-1,i,n,o,s,f,c+1)==null)throw new RangeError("DateTime outside of supported range")}function _u(t){if(N.default.lessThan(t,p0)||N.default.greaterThan(t,y0))throw new RangeError("Instant outside of supported range")}function nv(t,e,r,i,n,o,s,f,c,d){let l=Fs(t,e,r,i,n,o,s,f,c,d);for(let h of[t,e,r,i,n,o,s,f,c,d]){if(!Yr(h))throw new RangeError("infinite values not allowed as duration fields");let E=h0(h);if(E!==0&&E!==l)throw new RangeError("mixed-sign values not allowed as duration fields")}}function H3(t,e,r,i,n,o,s){switch(s){case"year":case"month":{let f=-Hf(t,e,r,i,n,o);if(f===0)return{years:0,months:0,weeks:0,days:0};let c={year:t,month:e,day:r},d={year:i,month:n,day:o},l=d.year-c.year,h=Su(t,e,r,l,0,0,0,"constrain"),E=-Hf(h.year,h.month,h.day,i,n,o);if(E===0)return s==="year"?{years:l,months:0,weeks:0,days:0}:{years:0,months:12*l,weeks:0,days:0};let b=d.month-c.month;if(E!==f&&(l-=f,b+=12*f),h=Su(t,e,r,l,b,0,0,"constrain"),E=-Hf(h.year,h.month,h.day,i,n,o),E===0)return s==="year"?{years:l,months:b,weeks:0,days:0}:{years:0,months:b+12*l,weeks:0,days:0};E!==f&&(b-=f,b===-f&&(l-=f,b=11*f),h=Su(t,e,r,l,b,0,0,"constrain"));let T=0;return T=h.month===d.month?d.day-h.day:f<0?-h.day-(Ba(d.year,d.month)-d.day):d.day+(Ba(h.year,h.month)-h.day),s==="month"&&(b+=12*l,l=0),{years:l,months:b,weeks:0,days:T}}case"week":case"day":{let f,c,d;Hf(t,e,r,i,n,o)<0?(c={year:t,month:e,day:r},f={year:i,month:n,day:o},d=1):(c={year:i,month:n,day:o},f={year:t,month:e,day:r},d=-1);let l=qg(f.year,f.month,f.day)-qg(c.year,c.month,c.day);for(let E=c.year;E<f.year;++E)l+=Kf(E)?366:365;let h=0;return s==="week"&&(h=Lr(l/7),l%=7),h*=d,l*=d,{years:0,months:0,weeks:h,days:l}}default:throw new Error("assert not reached")}}function oT(t,e,r,i,n,o,s,f,c,d,l,h){let E=s-t,b=f-e,T=c-r,k=d-i,O=l-n,D=h-o,I=Fs(0,0,0,0,E,b,T,k,O,D);E*=I,b*=I,T*=I,k*=I,O*=I,D*=I;let L=0;if({deltaDays:L,hour:E,minute:b,second:T,millisecond:k,microsecond:O,nanosecond:D}=ka(E,b,T,k,O,D),L!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return E*=I,b*=I,T*=I,k*=I,O*=I,D*=I,{hours:E,minutes:b,seconds:T,milliseconds:k,microseconds:O,nanoseconds:D}}function V3(t,e,r,i,n){let o=N.default.subtract(e,t),s=N.default.remainder(o,N.default.BigInt(864e11)),f=N.default.subtract(o,s),c=en(s,Q3[i]*r,n),d=N.default.add(f,c),l=N.default.toNumber(N.default.remainder(d,Bt)),h=N.default.toNumber(N.default.remainder(N.default.divide(d,Bt),Bt)),E=N.default.toNumber(N.default.remainder(N.default.divide(d,On),Bt));return{seconds:N.default.toNumber(N.default.divide(d,Da)),milliseconds:E,microseconds:h,nanoseconds:l}}function G3(t,e,r,i,n,o,s,f,c,d,l,h,E,b,T,k,O,D,I,L,U){let $=t,K=e,q=r,{hours:F,minutes:G,seconds:B,milliseconds:w,microseconds:M,nanoseconds:_}=oT(i,n,o,s,f,c,E,b,T,k,O,D),a=Fs(0,0,0,0,F,G,B,w,M,_);Hf(d,l,h,$,K,q)===-a&&({year:$,month:K,day:q}=rv($,K,q-a),{hours:F,minutes:G,seconds:B,milliseconds:w,microseconds:M,nanoseconds:_}=nn(-a,F,G,B,w,M,_,L));let u=no($,K,q,I),p=no(d,l,h,I),v=Hg(U,on("day",L)),{years:g,months:m,weeks:A,days:R}=Gf(I,u,p,v);return{days:R,hours:F,minutes:G,seconds:B,milliseconds:w,microseconds:M,nanoseconds:_}=nn(R,F,G,B,w,M,_,L),{years:g,months:m,weeks:A,days:R,hours:F,minutes:G,seconds:B,milliseconds:w,microseconds:M,nanoseconds:_}}function sT(t,e,r,i,n,o){let s=N.default.subtract(e,t);if(N.default.equal(s,vr))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let f=Ge("%Temporal.Instant%"),c=new f(t),d=new f(e),l=yn(r,c,i),h=yn(r,d,i),{years:E,months:b,weeks:T,days:k}=G3(S(l,ne),S(l,ae),S(l,fe),S(l,Xe),S(l,et),S(l,tt),S(l,rt),S(l,it),S(l,nt),S(h,ne),S(h,ae),S(h,fe),S(h,Xe),S(h,et),S(h,tt),S(h,rt),S(h,it),S(h,nt),i,n,o),O=jn(c,r,i,E,b,T,0,0,0,0,0,0,0),D=N.default.subtract(e,O),I=ii(O,r,i);({nanoseconds:D,days:k}=W3(D,I));let{hours:L,minutes:U,seconds:$,milliseconds:K,microseconds:q,nanoseconds:F}=nn(0,0,0,0,0,0,N.default.toNumber(D),"hour");return{years:E,months:b,weeks:T,days:k,hours:L,minutes:U,seconds:$,milliseconds:K,microseconds:q,nanoseconds:F}}function cA(t,e,r,i){let n=Ls(r),o,s;[o,s]=t==="until"?[e,n]:[n,e];let f=dt(i),c=Ur(f,"smallestUnit","time","nanosecond"),d=on("second",c),l=Ur(f,"largestUnit","time","auto");if(l==="auto"&&(l=d),on(l,c)!==l)throw new RangeError(`largestUnit ${l} cannot be smaller than smallestUnit ${c}`);let h=$i(f,"trunc"),E=ja(f,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[c],!1),b=S(o,Ve),T=S(s,Ve),k,O,{seconds:D,milliseconds:I,microseconds:L,nanoseconds:U}=V3(b,T,E,c,h);return{hours:k,minutes:O,seconds:D,milliseconds:I,microseconds:L,nanoseconds:U}=nn(0,0,0,D,I,L,U,l),new(Ge("%Temporal.Duration%"))(0,0,0,0,k,O,D,I,L,U)}function uA(t,e,r,i){let n=t==="since"?-1:1,o=Ht(r),s=S(e,Y),f=S(o,Y),c=Je(s),d=Je(f);if(c!==d)throw new RangeError(`cannot compute difference between dates of ${c} and ${d} calendars`);let l=dt(i),h=Ur(l,"smallestUnit","date","day"),E=on("day",h),b=Ur(l,"largestUnit","date","auto");if(b==="auto"&&(b=E),on(b,h)!==b)throw new RangeError(`largestUnit ${b} cannot be smaller than smallestUnit ${h}`);let T=$i(l,"trunc");t==="since"&&(T=P0(T));let k=ja(l,void 0,!1),O=Hg(l,b),{years:D,months:I,weeks:L,days:U}=Gf(s,e,o,O);return h==="day"&&k===1||({years:D,months:I,weeks:L,days:U}=Jf(D,I,L,U,0,0,0,0,0,0,k,h,T,e)),new(Ge("%Temporal.Duration%"))(n*D,n*I,n*L,n*U,0,0,0,0,0,0)}function dA(t,e,r,i){let n=t==="since"?-1:1,o=Eu(r),s=S(e,Y),f=S(o,Y),c=Je(s),d=Je(f);if(c!==d)throw new RangeError(`cannot compute difference between dates of ${c} and ${d} calendars`);let l=dt(i),h=Ur(l,"smallestUnit","datetime","nanosecond"),E=on("day",h),b=Ur(l,"largestUnit","datetime","auto");if(b==="auto"&&(b=E),on(b,h)!==b)throw new RangeError(`largestUnit ${b} cannot be smaller than smallestUnit ${h}`);let T=$i(l,"trunc");t==="since"&&(T=P0(T));let k=O3(l,h),{years:O,months:D,weeks:I,days:L,hours:U,minutes:$,seconds:K,milliseconds:q,microseconds:F,nanoseconds:G}=G3(S(e,ne),S(e,ae),S(e,fe),S(e,Xe),S(e,et),S(e,tt),S(e,rt),S(e,it),S(e,nt),S(o,ne),S(o,ae),S(o,fe),S(o,Xe),S(o,et),S(o,tt),S(o,rt),S(o,it),S(o,nt),s,b,l),B=Nl(e);return{years:O,months:D,weeks:I,days:L,hours:U,minutes:$,seconds:K,milliseconds:q,microseconds:F,nanoseconds:G}=Jf(O,D,I,L,U,$,K,q,F,G,k,h,T,B),{days:L,hours:U,minutes:$,seconds:K,milliseconds:q,microseconds:F,nanoseconds:G}=nn(L,U,$,K,q,F,G,b),new(Ge("%Temporal.Duration%"))(n*O,n*D,n*I,n*L,n*U,n*$,n*K,n*q,n*F,n*G)}function lA(t,e,r,i){let n=t==="since"?-1:1,o=Ia(r),s=dt(i),f=Ur(s,"largestUnit","time","auto");f==="auto"&&(f="hour");let c=Ur(s,"smallestUnit","time","nanosecond");if(on(f,c)!==f)throw new RangeError(`largestUnit ${f} cannot be smaller than smallestUnit ${c}`);let d=$i(s,"trunc");t==="since"&&(d=P0(d));let l=ja(s,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[c],!1),{hours:h,minutes:E,seconds:b,milliseconds:T,microseconds:k,nanoseconds:O}=oT(S(e,Xe),S(e,et),S(e,tt),S(e,rt),S(e,it),S(e,nt),S(o,Xe),S(o,et),S(o,tt),S(o,rt),S(o,it),S(o,nt));return{hours:h,minutes:E,seconds:b,milliseconds:T,microseconds:k,nanoseconds:O}=Jf(0,0,0,0,h,E,b,T,k,O,l,c,d),{hours:h,minutes:E,seconds:b,milliseconds:T,microseconds:k,nanoseconds:O}=nn(0,h,E,b,T,k,O,f),new(Ge("%Temporal.Duration%"))(0,0,0,0,n*h,n*E,n*b,n*T,n*k,n*O)}function hA(t,e,r,i){let n=t==="since"?-1:1,o=f0(r),s=S(e,Y),f=S(o,Y),c=Je(s),d=Je(f);if(c!==d)throw new RangeError(`cannot compute difference between months of ${c} and ${d} calendars`);let l=dt(i),h=zl.reduce((F,[G,B,w])=>(w==="date"&&B!=="week"&&B!=="day"&&F.push(B,G),F),[]),E=Ur(l,"smallestUnit","date","month");if(E==="week"||E==="day")throw new RangeError(`smallestUnit must be one of ${h.join(", ")}, not ${E}`);let b=Ur(l,"largestUnit","date","auto");if(b==="week"||b==="day")throw new RangeError(`largestUnit must be one of ${h.join(", ")}, not ${b}`);if(b==="auto"&&(b="year"),on(b,E)!==b)throw new RangeError(`largestUnit ${b} cannot be smaller than smallestUnit ${E}`);let T=$i(l,"trunc");t==="since"&&(T=P0(T));let k=ja(l,void 0,!1),O=Er(s,["monthCode","year"]),D=ut(o,O,[]);D.day=1;let I=ut(e,O,[]);I.day=1;let L=Zf(s,D),U=Zf(s,I),$=Hg(l,b),{years:K,months:q}=Gf(s,U,L,$);return E==="month"&&k===1||({years:K,months:q}=Jf(K,q,0,0,0,0,0,0,0,0,k,E,T,U)),new(Ge("%Temporal.Duration%"))(n*K,n*q,0,0,0,0,0,0,0,0)}function pA(t,e,r,i){let n=t==="since"?-1:1,o=c0(r),s=S(e,Y),f=S(o,Y),c=Je(s),d=Je(f);if(c!==d)throw new RangeError(`cannot compute difference between dates of ${c} and ${d} calendars`);let l=dt(i),h=Ur(l,"smallestUnit","datetime","nanosecond"),E=on("hour",h),b=Ur(l,"largestUnit","datetime","auto");if(b==="auto"&&(b=E),on(b,h)!==b)throw new RangeError(`largestUnit ${b} cannot be smaller than smallestUnit ${h}`);let T=$i(l,"trunc");t==="since"&&(T=P0(T));let k=O3(l,h),O=S(e,Ve),D=S(o,Ve),I,L,U,$,K,q,F,G,B,w;if(b!=="year"&&b!=="month"&&b!=="week"&&b!=="day")I=0,L=0,U=0,$=0,{seconds:F,milliseconds:G,microseconds:B,nanoseconds:w}=V3(O,D,k,h,T),{hours:K,minutes:q,seconds:F,milliseconds:G,microseconds:B,nanoseconds:w}=nn(0,0,0,F,G,B,w,b);else{let M=S(e,Dt);if(!GA(M,S(o,Dt)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");let _=Hg(l,b);({years:I,months:L,weeks:U,days:$,hours:K,minutes:q,seconds:F,milliseconds:G,microseconds:B,nanoseconds:w}=sT(O,D,M,s,b,_)),{years:I,months:L,weeks:U,days:$,hours:K,minutes:q,seconds:F,milliseconds:G,microseconds:B,nanoseconds:w}=Jf(I,L,U,$,K,q,F,G,B,w,k,h,T,e),{years:I,months:L,weeks:U,days:$,hours:K,minutes:q,seconds:F,milliseconds:G,microseconds:B,nanoseconds:w}=cT(I,L,U,$,K,q,F,G,B,w,k,h,T,e)}return new(Ge("%Temporal.Duration%"))(n*I,n*L,n*U,n*$,n*K,n*q,n*F,n*G,n*B,n*w)}function Su(t,e,r,i,n,o,s,f){let c=t,d=e,l=r,h=o,E=s;return c+=i,d+=n,{year:c,month:d}=Rg(c,d),{year:c,month:d,day:l}=Cg(c,d,l,f),E+=7*h,l+=E,{year:c,month:d,day:l}=rv(c,d,l),{year:c,month:d,day:l}}function aT(t,e,r,i,n,o,s,f,c,d,l,h){let E=t,b=e,T=r,k=i,O=n,D=o;E+=s,b+=f,T+=c,k+=d,O+=l,D+=h;let I=0;return{deltaDays:I,hour:E,minute:b,second:T,millisecond:k,microsecond:O,nanosecond:D}=ka(E,b,T,k,O,D),{deltaDays:I,hour:E,minute:b,second:T,millisecond:k,microsecond:O,nanosecond:D}}function fT(t,e,r,i,n,o,s,f,c,d,l,h,E,b,T,k,O,D,I,L,U){let $=on(o3(t,e,r,i,n,o,s,f,c,d),o3(l,h,E,b,T,k,O,D,I,L)),K,q,F,G,B,w,M,_,a,u;if(U)if(yt(U)){let p=Ge("%Temporal.Duration%"),v=S(U,Y),g=new p(t,e,r,i,0,0,0,0,0,0),m=new p(l,h,E,b,0,0,0,0,0,0),A=v.dateAdd,R=Bi(v,U,g,void 0,A),y=Bi(v,R,m,void 0,A),P=on("day",$),W=oi(null);W.largestUnit=P,{years:K,months:q,weeks:F,days:G}=Gf(v,U,y,W),{days:G,hours:B,minutes:w,seconds:M,milliseconds:_,microseconds:a,nanoseconds:u}=nn(G,n+T,o+k,s+O,f+D,c+I,d+L,$)}else{let p=Ge("%Temporal.Instant%"),v=S(U,Dt),g=S(U,Y),m=jn(S(U,vi),v,g,t,e,r,i,n,o,s,f,c,d),A=jn(new p(m),v,g,l,h,E,b,T,k,O,D,I,L);$!=="year"&&$!=="month"&&$!=="week"&&$!=="day"?(K=0,q=0,F=0,G=0,{seconds:M,milliseconds:_,microseconds:a,nanoseconds:u}=V3(S(U,Ve),A,1,"nanosecond","halfExpand"),{hours:B,minutes:w,seconds:M,milliseconds:_,microseconds:a,nanoseconds:u}=nn(0,0,0,M,_,a,u,$)):{years:K,months:q,weeks:F,days:G,hours:B,minutes:w,seconds:M,milliseconds:_,microseconds:a,nanoseconds:u}=sT(S(U,Ve),A,v,g,$,oi(null))}else{if($==="year"||$==="month"||$==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");K=q=F=0,{days:G,hours:B,minutes:w,seconds:M,milliseconds:_,microseconds:a,nanoseconds:u}=nn(i+b,n+T,o+k,s+O,f+D,c+I,d+L,$)}return nv(K,q,F,G,B,w,M,_,a,u),{years:K,months:q,weeks:F,days:G,hours:B,minutes:w,seconds:M,milliseconds:_,microseconds:a,nanoseconds:u}}function a3(t,e,r,i,n,o,s){let f=vr;f=N.default.add(f,N.default.BigInt(s)),f=N.default.add(f,N.default.multiply(N.default.BigInt(o),Bt)),f=N.default.add(f,N.default.multiply(N.default.BigInt(n),On)),f=N.default.add(f,N.default.multiply(N.default.BigInt(i),Da)),f=N.default.add(f,N.default.multiply(N.default.BigInt(r),N.default.BigInt(6e10))),f=N.default.add(f,N.default.multiply(N.default.BigInt(e),N.default.BigInt(36e11)));let c=N.default.add(t,f);return _u(c),c}function f3(t,e,r,i,n,o,s,f,c,d,l,h,E,b,T,k,O,D,I,L,U){let $=b,{deltaDays:K,hour:q,minute:F,second:G,millisecond:B,microsecond:w,nanosecond:M}=aT(i,n,o,s,f,c,T,k,O,D,I,L);$+=K;let _=Ge("%Temporal.Duration%"),a=Bi(d,no(t,e,r,d),new _(l,h,E,$,0,0,0,0,0,0),U);return{year:S(a,ne),month:S(a,ae),day:S(a,fe),hour:q,minute:F,second:G,millisecond:B,microsecond:w,nanosecond:M}}function jn(t,e,r,i,n,o,s,f,c,d,l,h,E,b){let T=Ge("%Temporal.Duration%");if(Fs(i,n,o,s,0,0,0,0,0,0)===0)return a3(S(t,Ve),f,c,d,l,h,E);let k=yn(e,t,r),O=Bi(r,no(S(k,ne),S(k,ae),S(k,fe),r),new T(i,n,o,s,0,0,0,0,0,0),b),D=tn(S(O,ne),S(O,ae),S(O,fe),S(k,Xe),S(k,et),S(k,tt),S(k,rt),S(k,it),S(k,nt),r);return a3(S(Ci(e,D,"compatible"),Ve),f,c,d,l,h,E)}function yA(t,e,r,i){let n=t==="subtract"?-1:1,{years:o,months:s,weeks:f,days:c,hours:d,minutes:l,seconds:h,milliseconds:E,microseconds:b,nanoseconds:T}=Ou(r),k=Tg(dt(i));return{years:o,months:s,weeks:f,days:c,hours:d,minutes:l,seconds:h,milliseconds:E,microseconds:b,nanoseconds:T}=fT(S(e,Mi),S(e,Gr),S(e,zi),S(e,Ai),S(e,Ti),S(e,Ri),S(e,Pi),S(e,ki),S(e,Ii),S(e,Di),n*o,n*s,n*f,n*c,n*d,n*l,n*h,n*E,n*b,n*T,k),new(Ge("%Temporal.Duration%"))(o,s,f,c,d,l,h,E,b,T)}function mA(t,e,r){let i=t==="subtract"?-1:1,{hours:n,minutes:o,seconds:s,milliseconds:f,microseconds:c,nanoseconds:d}=function(E,b){let T=Ou(E);for(let k of b)if(T[k]!==0)throw new RangeError(`Duration field ${k} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return T}(r,["years","months","weeks","days"]),l=a3(S(e,Ve),i*n,i*o,i*s,i*f,i*c,i*d);return new(Ge("%Temporal.Instant%"))(l)}function gA(t,e,r,i){let n=t==="subtract"?-1:1,{years:o,months:s,weeks:f,days:c,hours:d,minutes:l,seconds:h,milliseconds:E,microseconds:b,nanoseconds:T}=Ou(r),k=dt(i),O=S(e,Y),{year:D,month:I,day:L,hour:U,minute:$,second:K,millisecond:q,microsecond:F,nanosecond:G}=f3(S(e,ne),S(e,ae),S(e,fe),S(e,Xe),S(e,et),S(e,tt),S(e,rt),S(e,it),S(e,nt),O,n*o,n*s,n*f,n*c,n*d,n*l,n*h,n*E,n*b,n*T,k);return tn(D,I,L,U,$,K,q,F,G,O)}function vA(t,e,r){let i=t==="subtract"?-1:1,{hours:n,minutes:o,seconds:s,milliseconds:f,microseconds:c,nanoseconds:d}=Ou(r),{hour:l,minute:h,second:E,millisecond:b,microsecond:T,nanosecond:k}=aT(S(e,Xe),S(e,et),S(e,tt),S(e,rt),S(e,it),S(e,nt),i*n,i*o,i*s,i*f,i*c,i*d);return{hour:l,minute:h,second:E,millisecond:b,microsecond:T,nanosecond:k}=Kg(l,h,E,b,T,k,"reject"),new(Ge("%Temporal.PlainTime%"))(l,h,E,b,T,k)}function bA(t,e,r,i){let n=Ou(r);t==="subtract"&&(n={years:-n.years,months:-n.months,weeks:-n.weeks,days:-n.days,hours:-n.hours,minutes:-n.minutes,seconds:-n.seconds,milliseconds:-n.milliseconds,microseconds:-n.microseconds,nanoseconds:-n.nanoseconds});let{years:o,months:s,weeks:f,days:c,hours:d,minutes:l,seconds:h,milliseconds:E,microseconds:b,nanoseconds:T}=n;({days:c}=nn(c,d,l,h,E,b,T,"day"));let k=dt(i),O=S(e,Y),D=Er(O,["monthCode","year"]),I=ut(e,D,[]),L=Fs(o,s,f,c,0,0,0,0,0,0);I.day=L<0?g0(C0(O,e)):1;let U=Zf(O,I),$=new(Ge("%Temporal.Duration%"))(o,s,f,c,0,0,0,0,0,0),K=BA(oi(null),k);return Pu(O,ut(Bi(O,U,$,k),D,[]),K)}function wA(t,e,r,i){let n=t==="subtract"?-1:1,{years:o,months:s,weeks:f,days:c,hours:d,minutes:l,seconds:h,milliseconds:E,microseconds:b,nanoseconds:T}=Ou(r),k=dt(i),O=S(e,Dt),D=S(e,Y);return ii(jn(S(e,vi),O,D,n*o,n*s,n*f,n*c,n*d,n*l,n*h,n*E,n*b,n*T,k),O,D)}function en(t,e,r){if(e===1)return t;let{quotient:i,remainder:n}=Nr(t,N.default.BigInt(e));if(N.default.equal(n,vr))return t;let o=N.default.lessThan(n,vr)?-1:1;switch(r){case"ceil":o>0&&(i=N.default.add(i,N.default.BigInt(o)));break;case"floor":o<0&&(i=N.default.add(i,N.default.BigInt(o)));break;case"trunc":break;case"halfExpand":N.default.toNumber(C3(N.default.multiply(n,N.default.BigInt(2))))>=e&&(i=N.default.add(i,N.default.BigInt(o)))}return N.default.multiply(i,N.default.BigInt(e))}function Lg(t,e,r,i){let n=N.default.remainder(t,N.default.BigInt(864e11));N.default.lessThan(n,vr)&&(n=N.default.add(n,N.default.BigInt(864e11)));let o=N.default.subtract(t,n),s=en(n,Q3[r]*e,i);return N.default.add(o,s)}function Z3(t,e,r,i,n,o,s,f,c,d,l,h,E=864e11){let{deltaDays:b,hour:T,minute:k,second:O,millisecond:D,microsecond:I,nanosecond:L}=Y3(i,n,o,s,f,c,d,l,h,E),{year:U,month:$,day:K}=rv(t,e,r+b);return{year:U,month:$,day:K,hour:T,minute:k,second:O,millisecond:D,microsecond:I,nanosecond:L}}function Y3(t,e,r,i,n,o,s,f,c,d=864e11){let l=vr;switch(f){case"day":case"hour":l=N.default.BigInt(t);case"minute":l=N.default.add(N.default.multiply(l,xu),N.default.BigInt(e));case"second":l=N.default.add(N.default.multiply(l,xu),N.default.BigInt(r));case"millisecond":l=N.default.add(N.default.multiply(l,Bt),N.default.BigInt(i));case"microsecond":l=N.default.add(N.default.multiply(l,Bt),N.default.BigInt(n));case"nanosecond":l=N.default.add(N.default.multiply(l,Bt),N.default.BigInt(o))}let h=f==="day"?d:Q3[f],E=en(l,h*s,c),b=N.default.toNumber(N.default.divide(E,N.default.BigInt(h)));switch(f){case"day":return{deltaDays:b,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return ka(b,0,0,0,0,0);case"minute":return ka(t,b,0,0,0,0);case"second":return ka(t,e,b,0,0,0);case"millisecond":return ka(t,e,r,b,0,0);case"microsecond":return ka(t,e,r,i,b,0);case"nanosecond":return ka(t,e,r,i,n,b);default:throw new Error(`Invalid unit ${f}`)}}function Pg(t,e){return H3(S(t,ne),S(t,ae),S(t,fe),S(e,ne),S(e,ae),S(e,fe),"day").days}function gi(t,e,r){let i=Bi(t,e,r,void 0);return{relativeTo:i,days:Pg(e,i)}}function c3(t,e,r,i,n){let o=S(t,Dt),s=S(t,Y);return ii(jn(S(t,vi),o,s,e,r,i,n,0,0,0,0,0,0),o,s)}function cT(t,e,r,i,n,o,s,f,c,d,l,h,E,b){let T=t,k=e,O=r,D=i,I=n,L=o,U=s,$=f,K=c,q=d;if(!le(b)||h==="year"||h==="month"||h==="week"||h==="day"||h==="nanosecond"&&l===1)return{years:T,months:k,weeks:O,days:D,hours:I,minutes:L,seconds:U,milliseconds:$,microseconds:K,nanoseconds:q};let F=ql(0,I,L,U,$,K,q,0),G=h0(N.default.toNumber(F)),B=S(b,Dt),w=S(b,Y),M=jn(S(b,vi),B,w,T,k,O,D,0,0,0,0,0,0),_=jn(new(Ge("%Temporal.Instant%"))(M),B,w,0,0,0,G,0,0,0,0,0,0),a=N.default.subtract(_,M);return N.default.greaterThanOrEqual(N.default.multiply(N.default.subtract(F,a),N.default.BigInt(G)),vr)&&({years:T,months:k,weeks:O,days:D}=fT(T,k,O,D,0,0,0,0,0,0,0,0,0,G,0,0,0,0,0,0,b),F=Lg(N.default.subtract(F,a),l,h,E),{hours:I,minutes:L,seconds:U,milliseconds:$,microseconds:K,nanoseconds:q}=nn(0,0,0,0,0,0,N.default.toNumber(F),"hour")),{years:T,months:k,weeks:O,days:D,hours:I,minutes:L,seconds:U,milliseconds:$,microseconds:K,nanoseconds:q}}function Jf(t,e,r,i,n,o,s,f,c,d,l,h,E,b){let T=t,k=e,O=r,D=i,I=n,L=o,U=s,$=f,K=c,q=N.default.BigInt(d),F=Ge("%Temporal.Duration%"),G,B,w,M,_=b;if(_){if(le(_))B=_,_=Ht(_);else if(!yt(_))throw new TypeError("starting point must be PlainDate or ZonedDateTime");G=S(_,Y)}if(h==="year"||h==="month"||h==="week"||h==="day"){let a,u,p;q=ql(0,I,L,U,$,K,d,0),B&&(a=c3(B,T,k,O,D)),{days:u,nanoseconds:q,dayLengthNs:p}=W3(q,a),w=N.default.BigInt(p),D+=u,I=L=U=$=K=0}switch(h){case"year":{if(!G)throw new RangeError("A starting point is required for years rounding");let a=new F(T),u=G.dateAdd,p=Bi(G,_,a,void 0,u),v=Bi(G,_,new F(T,k,O),void 0,u);_=p,D+=Pg(p,v);let g=Bi(G,_,{days:D},void 0,u),m=oi(null);m.largestUnit="year";let A=Gf(G,_,g,m).years;T+=A;let R=_;_=Bi(G,_,{years:A},void 0,u),D-=Pg(R,_);let y=new F(D<0?-1:1),{days:P}=gi(G,_,y);P=wt(P);let W=N.default.multiply(N.default.BigInt(P),w);q=N.default.add(N.default.add(N.default.multiply(W,N.default.BigInt(T)),N.default.multiply(N.default.BigInt(D),w)),q);let H=en(q,N.default.toNumber(N.default.multiply(W,N.default.BigInt(l))),E);M=N.default.toNumber(q)/N.default.toNumber(W),T=N.default.toNumber(N.default.divide(H,W)),q=vr,k=O=D=0;break}case"month":{if(!G)throw new RangeError("A starting point is required for months rounding");let a=new F(T,k),u=G.dateAdd,p=Bi(G,_,a,void 0,u),v=Bi(G,_,new F(T,k,O),void 0,u);_=p,D+=Pg(p,v);let g=h0(D),m=new F(0,D<0?-1:1),A;for({relativeTo:_,days:A}=gi(G,_,m);wt(D)>=wt(A);)k+=g,D-=A,{relativeTo:_,days:A}=gi(G,_,m);A=wt(A);let R=N.default.multiply(N.default.BigInt(A),w);q=N.default.add(N.default.add(N.default.multiply(R,N.default.BigInt(k)),N.default.multiply(N.default.BigInt(D),w)),q);let y=en(q,N.default.toNumber(N.default.multiply(R,N.default.BigInt(l))),E);M=N.default.toNumber(q)/N.default.toNumber(R),k=N.default.toNumber(N.default.divide(y,R)),q=vr,O=D=0;break}case"week":{if(!G)throw new RangeError("A starting point is required for weeks rounding");let a=h0(D),u=new F(0,0,D<0?-1:1),p;for({relativeTo:_,days:p}=gi(G,_,u);wt(D)>=wt(p);)O+=a,D-=p,{relativeTo:_,days:p}=gi(G,_,u);p=wt(p);let v=N.default.multiply(N.default.BigInt(p),w);q=N.default.add(N.default.add(N.default.multiply(v,N.default.BigInt(O)),N.default.multiply(N.default.BigInt(D),w)),q);let g=en(q,N.default.toNumber(N.default.multiply(v,N.default.BigInt(l))),E);M=N.default.toNumber(q)/N.default.toNumber(v),O=N.default.toNumber(N.default.divide(g,v)),q=vr,D=0;break}case"day":{let a=w;q=N.default.add(N.default.multiply(a,N.default.BigInt(D)),q);let u=en(q,N.default.toNumber(N.default.multiply(a,N.default.BigInt(l))),E);M=N.default.toNumber(q)/N.default.toNumber(a),D=N.default.toNumber(N.default.divide(u,a)),q=vr;break}case"hour":{let u=N.default.multiply(N.default.BigInt(I),N.default.BigInt(36e11));u=N.default.add(u,N.default.multiply(N.default.BigInt(L),N.default.BigInt(6e10))),u=N.default.add(u,N.default.multiply(N.default.BigInt(U),Da)),u=N.default.add(u,N.default.multiply(N.default.BigInt($),On)),u=N.default.add(u,N.default.multiply(N.default.BigInt(K),Bt)),u=N.default.add(u,q),M=N.default.toNumber(u)/36e11;let p=en(u,36e11*l,E);I=N.default.toNumber(N.default.divide(p,N.default.BigInt(36e11))),q=vr,L=U=$=K=0;break}case"minute":{let u=N.default.multiply(N.default.BigInt(L),N.default.BigInt(6e10));u=N.default.add(u,N.default.multiply(N.default.BigInt(U),Da)),u=N.default.add(u,N.default.multiply(N.default.BigInt($),On)),u=N.default.add(u,N.default.multiply(N.default.BigInt(K),Bt)),u=N.default.add(u,q),M=N.default.toNumber(u)/6e10;let p=en(u,6e10*l,E);L=N.default.toNumber(N.default.divide(p,N.default.BigInt(6e10))),q=vr,U=$=K=0;break}case"second":{let u=N.default.multiply(N.default.BigInt(U),Da);u=N.default.add(u,N.default.multiply(N.default.BigInt($),On)),u=N.default.add(u,N.default.multiply(N.default.BigInt(K),Bt)),u=N.default.add(u,q),M=N.default.toNumber(u)/1e9;let p=en(u,1e9*l,E);U=N.default.toNumber(N.default.divide(p,N.default.BigInt(1e9))),q=vr,$=K=0;break}case"millisecond":{let u=N.default.multiply(N.default.BigInt($),On);u=N.default.add(u,N.default.multiply(N.default.BigInt(K),Bt)),u=N.default.add(u,q),M=N.default.toNumber(u)/1e6;let p=en(u,1e6*l,E);$=N.default.toNumber(N.default.divide(p,N.default.BigInt(1e6))),q=vr,K=0;break}case"microsecond":{let u=N.default.multiply(N.default.BigInt(K),Bt);u=N.default.add(u,q),M=N.default.toNumber(u)/1e3;let p=en(u,1e3*l,E);K=N.default.toNumber(N.default.divide(p,N.default.BigInt(1e3))),q=vr;break}case"nanosecond":M=N.default.toNumber(q),q=en(q,l,E)}return{years:T,months:k,weeks:O,days:D,hours:I,minutes:L,seconds:U,milliseconds:$,microseconds:K,nanoseconds:N.default.toNumber(q),total:M}}function Hf(t,e,r,i,n,o){for(let[s,f]of[[t,i],[e,n],[r,o]])if(s!==f)return Mu(s-f);return 0}function Il(t,e){let r=t%e;return OV(r,-0)?0:(r<0&&(r+=e),r)}function Ug(t){let e=d0(t);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function d0(t){if(t instanceof N.default)return t;let e=t;if(typeof t=="object"){let r=t[Symbol.toPrimitive];r&&typeof r=="function"&&(e=D3(r,t,["number"]))}switch(typeof e){case"undefined":case"object":case"number":case"symbol":default:throw new TypeError(`cannot convert ${typeof t} to bigint`);case"string":if(!e.match(/^\s*(?:[+-]?\d+\s*)?$/))throw new SyntaxError("invalid BigInt syntax");case"bigint":try{return N.default.BigInt(e.toString())}catch(r){throw r instanceof Error&&r.message.startsWith("Invalid integer")?new SyntaxError(r.message):r}case"boolean":return e?B3:vr}}var J3=(()=>{let t=N.default.BigInt(Date.now()%1e6);return()=>{let e=N.default.BigInt(Date.now()),r=N.default.add(N.default.multiply(e,On),t);return t=N.default.remainder(e,On),N.default.greaterThan(r,y0)?y0:N.default.lessThan(r,p0)?p0:r}})();function Mu(t){return t<0?-1:t>0?1:t}function dt(t){if(t===void 0)return oi(null);if(tr(t)&&t!==null)return t;throw new TypeError("Options parameter must be an object, not "+(t===null?"null":typeof t))}function Ll(t,e){let r=oi(null);return r[t]=e,r}function Qf(t,e,r,i){let n=t[e];if(n!==void 0){if(n=Je(n),!r.includes(n))throw new RangeError(`${e} must be one of ${r.join(", ")}, not ${n}`);return n}return i}function uT(t){return IA.call(qV,t)}var dT=new RegExp(`^${RA.source}$`);function lT(t,e,r,i=t(e),n=t(r)){let o=N.default.BigInt(e),s=N.default.BigInt(r),f=i,c=n;for(;N.default.greaterThan(N.default.subtract(s,o),B3);){let d=N.default.divide(N.default.add(o,s),N.default.BigInt(2)),l=t(d);if(l===f)o=d,f=l;else{if(l!==c)throw new Error(`invalid state in bisection ${f} - ${l} - ${c}`);s=d,c=l}}return s}var Q3={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},hT=Symbol("date"),pT=Symbol("ym"),yT=Symbol("md"),mT=Symbol("time"),gT=Symbol("datetime"),vT=Symbol("zoneddatetime"),bT=Symbol("instant"),Cl=Symbol("original"),u3=Symbol("timezone"),kg=Symbol("timezone-id-given"),pn=Symbol("calendar-id"),wT=Symbol("locale"),d3=Symbol("options"),l0=t=>({value:t,enumerable:!0,writable:!1,configurable:!0}),Au=globalThis.Intl.DateTimeFormat,$s=Object.assign,$V=Object.prototype.hasOwnProperty,WV=Reflect.apply;function wu(t,e){let r=t[e];return typeof r=="function"&&(r=new Au(t[wT],r(t[d3])),t[e]=r),r}function a0(t){let e=t[u3];return typeof e=="string"&&(e=Oi(e),t[u3]=e),e}function Iu(t,e={}){if(!(this instanceof Iu))return new Iu(t,e);let r=e!==void 0,i=r?$s({},e):{},n=new Au(t,i),o=n.resolvedOptions();if(r){let s=$s({},o);for(let f in s)WV($V,i,[f])||delete s[f];this[d3]=s}else this[d3]=i;this[kg]=i.timeZone?i.timeZone:null,this[wT]=o.locale,this[Cl]=n,this[u3]=o.timeZone,this[pn]=o.calendar,this[hT]=GV,this[pT]=HV,this[yT]=VV,this[mT]=KV,this[gT]=ZV,this[vT]=YV,this[bT]=JV}Object.defineProperty(Iu,"name",{writable:!0,value:"DateTimeFormat"}),Iu.supportedLocalesOf=function(t,e){return Au.supportedLocalesOf(t,e)};var J_={resolvedOptions:l0(function(){return this[Cl].resolvedOptions()}),format:l0(function(e,...r){let{instant:i,formatter:n,timeZone:o}=Ol(e,this);return i&&n?(n=Fg(n,o),n.format(i.epochMilliseconds)):this[Cl].format(e,...r)}),formatRange:l0(function(e,r){if(Ul(e)||Ul(r)){if(!_T(e,r))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");let{instant:i,formatter:n,timeZone:o}=Ol(e,this),{instant:s,formatter:f,timeZone:c}=Ol(r,this);if(o&&c&&o!==c)throw new RangeError("cannot format range between different time zones");if(i&&s&&n&&f&&n===f)return Fg(n,o).formatRange(i.epochMilliseconds,s.epochMilliseconds)}return this[Cl].formatRange(e,r)})};"formatToParts"in Au.prototype&&(J_.formatToParts=l0(function(e,...r){let{instant:i,formatter:n,timeZone:o}=Ol(e,this);return i&&n?(n=Fg(n,o),n.formatToParts(i.epochMilliseconds)):this[Cl].formatToParts(e,...r)})),"formatRangeToParts"in Au.prototype&&(J_.formatRangeToParts=l0(function(e,r){if(Ul(e)||Ul(r)){if(!_T(e,r))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");let{instant:i,formatter:n,timeZone:o}=Ol(e,this),{instant:s,formatter:f,timeZone:c}=Ol(r,this);if(o&&c&&o!==c)throw new RangeError("cannot format range between different time zones");if(i&&s&&n&&f&&n===f)return Fg(n,o).formatRangeToParts(i.epochMilliseconds,s.epochMilliseconds)}return this[Cl].formatRangeToParts(e,r)})),Iu.prototype=Object.create(Au.prototype,J_),Object.defineProperty(Iu,"prototype",{writable:!1,enumerable:!1,configurable:!1});var tc=Iu;function Fg(t,e){if(!e)return t;let r=t.resolvedOptions();return r.timeZone===e?t:((r.dateStyle||r.timeStyle)&&(delete r.weekday,delete r.era,delete r.year,delete r.month,delete r.day,delete r.hour,delete r.minute,delete r.second,delete r.timeZoneName,delete r.hourCycle,delete r.hour12,delete r.dayPeriod),new Au(r.locale,{...r,timeZone:e}))}function j0(t={},e={}){let r=$s({},t);for(let i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])r[i]=i in e?e[i]:r[i],r[i]!==!1&&r[i]!==void 0||delete r[i];return r}function KV(t){let e=j0(t,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return sv(e)||(e=$s({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function HV(t){let e=j0(t,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=$s(e,{year:"numeric",month:"numeric"})),e}function VV(t){let e=j0(t,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=$s({},e,{month:"numeric",day:"numeric"})),e}function GV(t){let e=j0(t,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return ov(e)||(e=$s({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function ZV(t){let e=j0(t,{timeZoneName:!1});return sv(e)||ov(e)||(e=$s({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function YV(t){let e=t;return sv(e)||ov(e)||(e=$s({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),e.timeZoneName===void 0&&(e.timeZoneName="short")),e}function JV(t){let e=t;return sv(e)||ov(e)||(e=$s({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function ov(t){return"year"in t||"month"in t||"day"in t||"weekday"in t||"dateStyle"in t}function sv(t){return"hour"in t||"minute"in t||"second"in t||"timeStyle"in t||"dayPeriod"in t}function Ul(t){return yt(t)||lr(t)||st(t)||le(t)||Mt(t)||Zr(t)||Rr(t)}function _T(t,e){return!(!Ul(t)||!Ul(e))&&!(lr(t)&&!lr(e))&&!(yt(t)&&!yt(e))&&!(st(t)&&!st(e))&&!(le(t)&&!le(e))&&!(Mt(t)&&!Mt(e))&&!(Zr(t)&&!Zr(e))&&!(Rr(t)&&!Rr(e))}function Ol(t,e){let r=Ge("%Temporal.PlainDateTime%");if(lr(t)){let i=new r(1970,1,1,S(t,Xe),S(t,et),S(t,tt),S(t,rt),S(t,it),S(t,nt),e[pn]);return{instant:Ci(a0(e),i,"compatible"),formatter:wu(e,mT)}}if(Mt(t)){let i=S(t,ne),n=S(t,ae),o=S(t,fe),s=Je(S(t,Y));if(s!==e[pn])throw new RangeError(`cannot format PlainYearMonth with calendar ${s} in locale with calendar ${e[pn]}`);let f=new r(i,n,o,12,0,0,0,0,0,s);return{instant:Ci(a0(e),f,"compatible"),formatter:wu(e,pT)}}if(Zr(t)){let i=S(t,ne),n=S(t,ae),o=S(t,fe),s=Je(S(t,Y));if(s!==e[pn])throw new RangeError(`cannot format PlainMonthDay with calendar ${s} in locale with calendar ${e[pn]}`);let f=new r(i,n,o,12,0,0,0,0,0,s);return{instant:Ci(a0(e),f,"compatible"),formatter:wu(e,yT)}}if(yt(t)){let i=S(t,ne),n=S(t,ae),o=S(t,fe),s=Je(S(t,Y));if(s!=="iso8601"&&s!==e[pn])throw new RangeError(`cannot format PlainDate with calendar ${s} in locale with calendar ${e[pn]}`);let f=new r(i,n,o,12,0,0,0,0,0,e[pn]);return{instant:Ci(a0(e),f,"compatible"),formatter:wu(e,hT)}}if(st(t)){let i=S(t,ne),n=S(t,ae),o=S(t,fe),s=S(t,Xe),f=S(t,et),c=S(t,tt),d=S(t,rt),l=S(t,it),h=S(t,nt),E=Je(S(t,Y));if(E!=="iso8601"&&E!==e[pn])throw new RangeError(`cannot format PlainDateTime with calendar ${E} in locale with calendar ${e[pn]}`);let b=t;return E==="iso8601"&&(b=new r(i,n,o,s,f,c,d,l,h,e[pn])),{instant:Ci(a0(e),b,"compatible"),formatter:wu(e,gT)}}if(le(t)){let i=Je(S(t,Y));if(i!=="iso8601"&&i!==e[pn])throw new RangeError(`cannot format ZonedDateTime with calendar ${i} in locale with calendar ${e[pn]}`);let n=Je(S(t,Dt));if(e[kg]&&e[kg]!==n)throw new RangeError(`timeZone option ${e[kg]} doesn't match actual time zone ${n}`);return{instant:S(t,vi),formatter:wu(e,vT),timeZone:n}}return Rr(t)?{instant:t,formatter:wu(e,bT)}:{}}var B2e=Object.freeze({__proto__:null,DateTimeFormat:tc}),Cn=class{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");let r=d0(e);_u(r),Ks(this),at(this,Ve,r)}get epochSeconds(){if(!Rr(this))throw new TypeError("invalid receiver");let e=S(this,Ve);return N.default.toNumber(N.default.divide(e,Da))}get epochMilliseconds(){if(!Rr(this))throw new TypeError("invalid receiver");let e=N.default.BigInt(S(this,Ve));return N.default.toNumber(N.default.divide(e,On))}get epochMicroseconds(){if(!Rr(this))throw new TypeError("invalid receiver");let e=N.default.BigInt(S(this,Ve));return Ug(N.default.divide(e,Bt))}get epochNanoseconds(){if(!Rr(this))throw new TypeError("invalid receiver");return Ug(N.default.BigInt(S(this,Ve)))}add(e){if(!Rr(this))throw new TypeError("invalid receiver");return mA("add",this,e)}subtract(e){if(!Rr(this))throw new TypeError("invalid receiver");return mA("subtract",this,e)}until(e,r){if(!Rr(this))throw new TypeError("invalid receiver");return cA("until",this,e,r)}since(e,r){if(!Rr(this))throw new TypeError("invalid receiver");return cA("since",this,e,r)}round(e){if(!Rr(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?Ll("smallestUnit",e):dt(e),i=Ur(r,"smallestUnit","time",Tu),n=$i(r,"halfExpand"),o=ja(r,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[i],!0),s=Lg(S(this,Ve),o,i,n);return new Cn(s)}equals(e){if(!Rr(this))throw new TypeError("invalid receiver");let r=Ls(e),i=S(this,Ve),n=S(r,Ve);return N.default.equal(N.default.BigInt(i),N.default.BigInt(n))}toString(e){if(!Rr(this))throw new TypeError("invalid receiver");let r=dt(e),i=r.timeZone;i!==void 0&&(i=Oi(i));let{precision:n,unit:o,increment:s}=I0(r),f=$i(r,"trunc"),c=Lg(S(this,Ve),s,o,f);return tA(new Cn(c),i,n)}toJSON(){if(!Rr(this))throw new TypeError("invalid receiver");return tA(this,void 0,"auto")}toLocaleString(e,r){if(!Rr(this))throw new TypeError("invalid receiver");return new tc(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!Rr(this))throw new TypeError("invalid receiver");if(!tr(e))throw new TypeError("invalid argument in toZonedDateTime");let r=e.calendar;if(r===void 0)throw new TypeError("missing calendar property in toZonedDateTime");let i=Jr(r),n=e.timeZone;if(n===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");let o=Oi(n);return ii(S(this,Ve),o,i)}toZonedDateTimeISO(e){let r=e;if(!Rr(this))throw new TypeError("invalid receiver");if(tr(r)){let o=r.timeZone;o!==void 0&&(r=o)}let i=Oi(r),n=wr();return ii(S(this,Ve),i,n)}static fromEpochSeconds(e){let r=m0(e),i=N.default.multiply(N.default.BigInt(r),Da);return _u(i),new Cn(i)}static fromEpochMilliseconds(e){let r=m0(e),i=N.default.multiply(N.default.BigInt(r),On);return _u(i),new Cn(i)}static fromEpochMicroseconds(e){let r=d0(e),i=N.default.multiply(r,Bt);return _u(i),new Cn(i)}static fromEpochNanoseconds(e){let r=d0(e);return _u(r),new Cn(r)}static from(e){return Rr(e)?new Cn(S(e,Ve)):Ls(e)}static compare(e,r){let i=Ls(e),n=Ls(r),o=S(i,Ve),s=S(n,Ve);return N.default.lessThan(o,s)?-1:N.default.greaterThan(o,s)?1:0}};Ws(Cn,"Temporal.Instant");var zg=Array.prototype.includes,QV=Array.prototype.push,XV=globalThis.Intl.DateTimeFormat,eG=Array.prototype.sort,tG=Math.abs,rG=Math.floor,l3=Object.entries,_A=Object.keys,hr={},Fl=class{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");let r=Je(e);if(!uT(r))throw new RangeError(`invalid calendar identifier ${r}`);Ks(this),at(this,gr,r)}get id(){if(!mr(this))throw new TypeError("invalid receiver");return Je(this)}dateFromFields(e,r){if(!mr(this))throw new TypeError("invalid receiver");if(!tr(e))throw new TypeError("invalid fields");let i=dt(r);return hr[S(this,gr)].dateFromFields(e,i,this)}yearMonthFromFields(e,r){if(!mr(this))throw new TypeError("invalid receiver");if(!tr(e))throw new TypeError("invalid fields");let i=dt(r);return hr[S(this,gr)].yearMonthFromFields(e,i,this)}monthDayFromFields(e,r){if(!mr(this))throw new TypeError("invalid receiver");if(!tr(e))throw new TypeError("invalid fields");let i=dt(r);return hr[S(this,gr)].monthDayFromFields(e,i,this)}fields(e){if(!mr(this))throw new TypeError("invalid receiver");let r=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(let n of e){if(typeof n!="string")throw new TypeError("invalid fields");if(!i.has(n))throw new RangeError(`invalid field name ${n}`);i.delete(n),QV.call(r,n)}return hr[S(this,gr)].fields(r)}mergeFields(e,r){if(!mr(this))throw new TypeError("invalid receiver");return hr[S(this,gr)].mergeFields(e,r)}dateAdd(e,r,i){if(!mr(this))throw new TypeError("invalid receiver");let n=Ht(e),o=Bl(r),s=br(dt(i)),{days:f}=nn(S(o,Ai),S(o,Ti),S(o,Ri),S(o,Pi),S(o,ki),S(o,Ii),S(o,Di),"day");return hr[S(this,gr)].dateAdd(n,S(o,Mi),S(o,Gr),S(o,zi),f,s,this)}dateUntil(e,r,i){if(!mr(this))throw new TypeError("invalid receiver");let n=Ht(e),o=Ht(r),s=Ur(dt(i),"largestUnit","date","auto");s==="auto"&&(s="day");let{years:f,months:c,weeks:d,days:l}=hr[S(this,gr)].dateUntil(n,o,s);return new(Ge("%Temporal.Duration%"))(f,c,d,l,0,0,0,0,0,0)}year(e){let r=e;if(!mr(this))throw new TypeError("invalid receiver");return Mt(r)||(r=Ht(r)),hr[S(this,gr)].year(r)}month(e){let r=e;if(!mr(this))throw new TypeError("invalid receiver");if(Zr(r))throw new TypeError("use monthCode on PlainMonthDay instead");return Mt(r)||(r=Ht(r)),hr[S(this,gr)].month(r)}monthCode(e){let r=e;if(!mr(this))throw new TypeError("invalid receiver");return Mt(r)||Zr(r)||(r=Ht(r)),hr[S(this,gr)].monthCode(r)}day(e){let r=e;if(!mr(this))throw new TypeError("invalid receiver");return Zr(r)||(r=Ht(r)),hr[S(this,gr)].day(r)}era(e){let r=e;if(!mr(this))throw new TypeError("invalid receiver");return Mt(r)||(r=Ht(r)),hr[S(this,gr)].era(r)}eraYear(e){let r=e;if(!mr(this))throw new TypeError("invalid receiver");return Mt(r)||(r=Ht(r)),hr[S(this,gr)].eraYear(r)}dayOfWeek(e){if(!mr(this))throw new TypeError("invalid receiver");let r=Ht(e);return hr[S(this,gr)].dayOfWeek(r)}dayOfYear(e){if(!mr(this))throw new TypeError("invalid receiver");let r=Ht(e);return hr[S(this,gr)].dayOfYear(r)}weekOfYear(e){if(!mr(this))throw new TypeError("invalid receiver");let r=Ht(e);return hr[S(this,gr)].weekOfYear(r)}daysInWeek(e){if(!mr(this))throw new TypeError("invalid receiver");let r=Ht(e);return hr[S(this,gr)].daysInWeek(r)}daysInMonth(e){let r=e;if(!mr(this))throw new TypeError("invalid receiver");return Mt(r)||(r=Ht(r)),hr[S(this,gr)].daysInMonth(r)}daysInYear(e){let r=e;if(!mr(this))throw new TypeError("invalid receiver");return Mt(r)||(r=Ht(r)),hr[S(this,gr)].daysInYear(r)}monthsInYear(e){let r=e;if(!mr(this))throw new TypeError("invalid receiver");return Mt(r)||(r=Ht(r)),hr[S(this,gr)].monthsInYear(r)}inLeapYear(e){let r=e;if(!mr(this))throw new TypeError("invalid receiver");return Mt(r)||(r=Ht(r)),hr[S(this,gr)].inLeapYear(r)}toString(){if(!mr(this))throw new TypeError("invalid receiver");return S(this,gr)}toJSON(){if(!mr(this))throw new TypeError("invalid receiver");return Je(this)}static from(e){return Jr(e)}};function X3(t){if(!t.startsWith("M"))throw new RangeError(`Invalid month code: ${t}.  Month codes must start with M.`);let e=+t.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${t}`);return e}function Ca(t,e=!1){return`M${t.toString().padStart(2,"0")}${e?"L":""}`}function Ig(t,e,r=12){let{month:i,monthCode:n}=t;if(n===void 0){if(i===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&ni(i,1,r),e==="constrain"&&(i=rn(i,1,r)),n=Ca(i)}else{let o=X3(n);if(i!==void 0&&i!==o)throw new RangeError(`monthCode ${n} and month ${i} must match if both are present`);if(n!==Ca(o))throw new RangeError(`Invalid month code: ${n}`);if(i=o,i<1||i>r)throw new RangeError(`Invalid monthCode: ${n}`)}return{...t,month:i,monthCode:n}}Ws(Fl,"Temporal.Calendar"),t3("Temporal.Calendar.from",Fl.from),hr.iso8601={dateFromFields(t,e,r){let i=br(e),n=ut(t,["day","month","monthCode","year"],["year","day"]);n=Ig(n);let{year:o,month:s,day:f}=n;return{year:o,month:s,day:f}=Cg(o,s,f,i),no(o,s,f,r)},yearMonthFromFields(t,e,r){let i=br(e),n=ut(t,["month","monthCode","year"],["year"]);n=Ig(n);let{year:o,month:s}=n;return{year:o,month:s}=function(c,d,l){let h=c,E=d;switch(l){case"reject":zs(h,E,1);break;case"constrain":({year:h,month:E}=rT(h,E))}return{year:h,month:E}}(o,s,i),w0(o,s,r,1)},monthDayFromFields(t,e,r){let i=br(e),n=ut(t,["day","month","monthCode","year"],["day"]);if(n.month!==void 0&&n.year===void 0&&n.monthCode===void 0)throw new TypeError("either year or monthCode required with month");let o=n.monthCode===void 0;n=Ig(n);let{month:s,day:f,year:c}=n;return{month:s,day:f}=Cg(o?c:1972,s,f,i),b0(s,f,r,1972)},fields:t=>t,mergeFields(t,e){let r={};for(let n of _A(t))n!=="month"&&n!=="monthCode"&&(r[n]=t[n]);let i=_A(e);for(let n of i)r[n]=e[n];if(!zg.call(i,"month")&&!zg.call(i,"monthCode")){let{month:n,monthCode:o}=t;n!==void 0&&(r.month=n),o!==void 0&&(r.monthCode=o)}return r},dateAdd(t,e,r,i,n,o,s){let f=S(t,ne),c=S(t,ae),d=S(t,fe);return{year:f,month:c,day:d}=Su(f,c,d,e,r,i,n,o),no(f,c,d,s)},dateUntil:(t,e,r)=>H3(S(t,ne),S(t,ae),S(t,fe),S(e,ne),S(e,ae),S(e,fe),r),year:t=>S(t,ne),era(){},eraYear(){},month:t=>S(t,ae),monthCode:t=>Ca(S(t,ae)),day:t=>S(t,fe),dayOfWeek:t=>Y_(S(t,ne),S(t,ae),S(t,fe)),dayOfYear:t=>qg(S(t,ne),S(t,ae),S(t,fe)),weekOfYear:t=>function(r,i,n){let o=qg(r,i,n),s=Y_(r,i,n)||7,f=Y_(r,1,1),c=Lr((o-s+10)/7);return c<1?f===5||f===6&&Kf(r-1)?53:52:c===53&&(Kf(r)?366:365)-o<4-s?1:c}(S(t,ne),S(t,ae),S(t,fe)),daysInWeek:()=>7,daysInMonth:t=>Ba(S(t,ne),S(t,ae)),daysInYear(t){let e=t;return Fr(e,ne)||(e=Ht(e)),Kf(S(e,ne))?366:365},monthsInYear:()=>12,inLeapYear(t){let e=t;return Fr(e,ne)||(e=Ht(e)),Kf(S(e,ne))}};var nr=class{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),e!==void 0){let r=0;for(let i of e.map.entries()){if(++r>nr.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(e){let r=this.map.get(e);return r&&(this.hits++,this.report()),this.calls++,r}set(e,r){this.map.set(e,r),this.misses++,this.report()}report(){}setObject(e){if(nr.objectMap.get(e))throw new RangeError("object already cached");nr.objectMap.set(e,this),this.report()}static getCacheForObject(e){let r=nr.objectMap.get(e);return r||(r=new nr,nr.objectMap.set(e,r)),r}};function ET({isoYear:t,isoMonth:e,isoDay:r}){return`${ju(t)}-${sr(e)}-${sr(r)}T00:00Z`}function Q_(t,e){return{years:t.year-e.year,months:t.month-e.month,days:t.day-e.day}}nr.objectMap=new WeakMap,nr.MAX_CACHE_ENTRIES=1e3;var Xf=class{constructor(){this.eraLength="short",this.hasEra=!0}getFormatter(){return this.formatter===void 0&&(this.formatter=new XV(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,r){let{year:i,month:n,day:o}=e,s=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:n,isoDay:o,id:this.id}),f=r.get(s);if(f)return f;let c=this.getFormatter(),d,l;try{l=ET({isoYear:i,isoMonth:n,isoDay:o}),d=c.formatToParts(new Date(l))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:n,isoDay:o})}`)}let h={};for(let{type:b,value:T}of d){if(b==="year"&&(h.eraYear=+T),b==="relatedYear"&&(h.eraYear=+T),b==="month"){let k=/^([0-9]*)(.*?)$/.exec(T);if(!k||k.length!=3||!k[1]&&!k[2])throw new RangeError(`Unexpected month: ${T}`);if(h.month=k[1]?+k[1]:1,h.month<1)throw new RangeError(`Invalid month ${T} from ${l}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(h.month>13)throw new RangeError(`Invalid month ${T} from ${l}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);k[2]&&(h.monthExtra=k[2])}b==="day"&&(h.day=+T),this.hasEra&&b==="era"&&T!=null&&T!==""&&(T=T.split(" (")[0],h.era=T.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(h.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){let{era:b,eraYear:T}=this.reviseIntlEra(h,e);h.era=b,h.eraYear=T}this.checkIcuBugs&&this.checkIcuBugs(e);let E=this.adjustCalendarDate(h,r,"constrain",!0);if(E.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(E.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(E.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return r.set(s,E),["constrain","reject"].forEach(b=>{let T=JSON.stringify({func:"calendarToIsoDate",year:E.year,month:E.month,day:E.day,overflow:b,id:this.id});r.set(T,e)}),E}validateCalendarDate(e){let{era:r,month:i,year:n,day:o,eraYear:s,monthCode:f,monthExtra:c}=e;if(c!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(n===void 0&&s===void 0)throw new TypeError("year or eraYear is required");if(i===void 0&&f===void 0)throw new TypeError("month or monthCode is required");if(o===void 0)throw new RangeError("Missing day");if(f!==void 0){if(typeof f!="string")throw new RangeError("monthCode must be a string, not "+typeof f);if(!/^M([01]?\d)(L?)$/.test(f))throw new RangeError(`Invalid monthCode: ${f}`)}if(this.constantEra){if(r!==void 0&&r!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${r}`);if(s!==void 0&&n!==void 0&&s!==n)throw new RangeError(`eraYear ${s} does not match year ${n}`)}}adjustCalendarDate(e,r,i="constrain",n=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let o=e;if(this.validateCalendarDate(o),this.constantEra){let{year:d,eraYear:l}=o;o={...o,era:this.constantEra,year:d!==void 0?d:l,eraYear:l!==void 0?l:d}}let s=this.monthsInYear(o,r),{month:f,monthCode:c}=o;return{month:f,monthCode:c}=Ig(o,i,s),{...o,month:f,monthCode:c}}regulateMonthDayNaive(e,r,i){let n=this.monthsInYear(e,i),{month:o,day:s}=e;return r==="reject"?(ni(o,1,n),ni(s,1,this.maximumMonthLength(e))):(o=rn(o,1,n),s=rn(s,1,this.maximumMonthLength({...e,month:o}))),{...e,month:o,day:s}}calendarToIsoDate(e,r="constrain",i){let n=e,o=this.adjustCalendarDate(e,i,r,!1);o=this.regulateMonthDayNaive(o,r,i);let{year:s,month:f,day:c}=o,d=JSON.stringify({func:"calendarToIsoDate",year:s,month:f,day:c,overflow:r,id:this.id}),l,h=i.get(d);if(h||n.year!==void 0&&n.month!==void 0&&n.day!==void 0&&(n.year!==o.year||n.month!==o.month||n.day!==o.day)&&(l=JSON.stringify({func:"calendarToIsoDate",year:n.year,month:n.month,day:n.day,overflow:r,id:this.id}),h=i.get(l),h))return h;let E=this.estimateIsoDate({year:s,month:f,day:c}),b=L=>{let U=this.addDaysIso(E,L);if(o.day>this.minimumMonthLength(o)){let $=this.isoToCalendarDate(U,i);for(;$.month!==f||$.year!==s;){if(r==="reject")throw new RangeError(`day ${c} does not exist in month ${f} of year ${s}`);U=this.addDaysIso(U,-1),$=this.isoToCalendarDate(U,i)}}return U},T=0,k=this.isoToCalendarDate(E,i),O=Q_(o,k);if(O.years!==0||O.months!==0||O.days!==0){let L=365*O.years+30*O.months+O.days;E=this.addDaysIso(E,L),k=this.isoToCalendarDate(E,i),O=Q_(o,k),O.years===0&&O.months===0?E=b(O.days):T=this.compareCalendarDates(o,k)}let D=8,I=!1;for(;T;){E=this.addDaysIso(E,T*D);let L=k;k=this.isoToCalendarDate(E,i);let U=T;if(T=this.compareCalendarDates(o,k),T){if(O=Q_(o,k),O.years===0&&O.months===0)E=b(O.days),T=0,I=o.day>this.minimumMonthLength(o);else if(U&&T!==U)if(D>1)D/=2;else{if(r==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...n})}`);this.compareCalendarDates(k,L)>0&&(E=this.addDaysIso(E,-1)),I=!0,T=0}}}if(i.set(d,E),l&&i.set(l,E),o.year===void 0||o.month===void 0||o.day===void 0||o.monthCode===void 0||this.hasEra&&(o.era===void 0||o.eraYear===void 0))throw new RangeError("Unexpected missing property");if(!I){let L=JSON.stringify({func:"isoToCalendarDate",isoYear:E.year,isoMonth:E.month,isoDay:E.day,id:this.id});i.set(L,o)}return E}temporalToCalendarDate(e,r){let i={year:S(e,ne),month:S(e,ae),day:S(e,fe)};return this.isoToCalendarDate(i,r)}compareCalendarDates(e,r){let i=ut(e,["day","month","year"],["day","month","year"]),n=ut(r,["day","month","year"],["day","month","year"]);return i.year!==n.year?Mu(i.year-n.year):i.month!==n.month?Mu(i.month-n.month):i.day!==n.day?Mu(i.day-n.day):0}regulateDate(e,r="constrain",i){let n=this.calendarToIsoDate(e,r,i);return this.isoToCalendarDate(n,i)}addDaysIso(e,r){return Su(e.year,e.month,e.day,0,0,0,r,"constrain")}addDaysCalendar(e,r,i){let n=this.calendarToIsoDate(e,"constrain",i),o=this.addDaysIso(n,r);return this.isoToCalendarDate(o,i)}addMonthsCalendar(e,r,i,n){let o=e,{day:s}=o;for(let f=0,c=tG(r);f<c;f++){let{month:d}=o,l=o,h=r<0?-Math.max(s,this.daysInPreviousMonth(o,n)):this.daysInMonth(o,n),E=this.calendarToIsoDate(o,"constrain",n),b=this.addDaysIso(E,h);if(o=this.isoToCalendarDate(b,n),r>0){let T=this.monthsInYear(l,n);for(;o.month-1!=d%T;)b=this.addDaysIso(b,-1),o=this.isoToCalendarDate(b,n)}o.day!==s&&(o=this.regulateDate({...o,day:s},"constrain",n))}if(i==="reject"&&o.day!==s)throw new RangeError(`Day ${s} does not exist in resulting calendar month`);return o}addCalendar(e,{years:r=0,months:i=0,weeks:n=0,days:o=0},s,f){let{year:c,day:d,monthCode:l}=e,h=this.adjustCalendarDate({year:c+r,monthCode:l,day:d},f),E=this.addMonthsCalendar(h,i,s,f),b=o+7*n;return this.addDaysCalendar(E,b,f)}untilCalendar(e,r,i,n){let o=0,s=0,f=0,c=0;switch(i){case"day":o=this.calendarDaysUntil(e,r,n);break;case"week":{let d=this.calendarDaysUntil(e,r,n);o=d%7,s=(d-o)/7;break}case"month":case"year":{let d=r.year-e.year,l=r.month-e.month,h=r.day-e.day,E=this.compareCalendarDates(r,e);if(!E)return{years:0,months:0,weeks:0,days:0};i==="year"&&d&&(c=l*E<0||l===0&&h*E<0?d-E:d);let b,T=c?this.addCalendar(e,{years:c},"constrain",n):e;do f+=E,b=T,T=this.addMonthsCalendar(b,E,"constrain",n),T.day!==e.day&&(T=this.regulateDate({...T,day:e.day},"constrain",n));while(this.compareCalendarDates(r,T)*E>=0);f-=E,o=this.calendarDaysUntil(b,r,n);break}}return{years:c,months:f,weeks:s,days:o}}daysInMonth(e,r){let{day:i}=e,n=this.maximumMonthLength(e),o=this.minimumMonthLength(e);if(o===n)return o;let s=i<=n-o?n:o,f=this.calendarToIsoDate(e,"constrain",r),c=this.addDaysIso(f,s),d=this.isoToCalendarDate(c,r),l=this.addDaysIso(c,-d.day);return this.isoToCalendarDate(l,r).day}daysInPreviousMonth(e,r){let{day:i,month:n,year:o}=e,s={year:n>1?o:o-1,month:n,day:1},f=n>1?n-1:this.monthsInYear(s,r);s={...s,month:f};let c=this.minimumMonthLength(s),d=this.maximumMonthLength(s);if(c===d)return d;let l=this.calendarToIsoDate(e,"constrain",r),h=this.addDaysIso(l,-i);return this.isoToCalendarDate(h,r).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,r,i){let n=this.calendarToIsoDate(e,"constrain",i),o=this.calendarToIsoDate(r,"constrain",i);return this.isoDaysUntil(n,o)}isoDaysUntil(e,r){return H3(e.year,e.month,e.day,r.year,r.month,r.day,"day").days}monthDayFromFields(e,r,i){let n,o,s,f,c,{year:d,month:l,monthCode:h,day:E,era:b,eraYear:T}=e;if(h===void 0){if(d===void 0&&(b===void 0||T===void 0))throw new TypeError("`monthCode`, `year`, or `era` and `eraYear` is required");({monthCode:h,year:d}=this.adjustCalendarDate({year:d,month:l,monthCode:h,day:E,era:b,eraYear:T},i,r))}let{year:k}=this.isoToCalendarDate({year:1972,month:1,day:1},i);for(let O=0;O<100;O++){let D=this.adjustCalendarDate({day:E,monthCode:h,year:k-O},i),I=this.calendarToIsoDate(D,"constrain",i),L=this.isoToCalendarDate(I,i);if({year:n,month:o,day:s}=I,L.monthCode===h&&L.day===E)return{month:o,day:s,year:n};r==="constrain"&&(f===void 0||L.monthCode===f.monthCode&&L.day>f.day)&&(f=L,c=I)}if(r==="constrain"&&c!==void 0)return c;throw new RangeError(`No recent ${this.id} year with monthCode ${h} and day ${E}`)}},h3=class extends Xf{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){let{year:r}=e;return(7*r+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,r){let{month:i,year:n}=e,o=this.getMonthCode(n,i),s=l3(this.months).find(c=>c[1].monthCode===o);if(s===void 0)throw new RangeError(`unmatched Hebrew month: ${i}`);let f=s[1].days;return typeof f=="number"?f:f[r]}estimateIsoDate(e){let{year:r}=e;return{year:r-3760,month:1,day:1}}getMonthCode(e,r){return this.inLeapYear({year:e})?r===6?Ca(5,!0):Ca(r<6?r:r-1):Ca(r)}adjustCalendarDate(e,r,i="constrain",n=!1){let{year:o,eraYear:s,month:f,monthCode:c,day:d,monthExtra:l}=e;if(o===void 0&&s!==void 0&&(o=s),s===void 0&&o!==void 0&&(s=o),n){if(l){let h=this.months[l];if(!h)throw new RangeError(`Unrecognized month from formatToParts: ${l}`);f=this.inLeapYear({year:o})?h.leap:h.regular}return c=this.getMonthCode(o,f),{year:o,month:f,day:d,era:void 0,eraYear:s,monthCode:c}}if(this.validateCalendarDate(e),f===void 0)if(c.endsWith("L")){if(c!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${c}`);if(f=6,!this.inLeapYear({year:o})){if(i==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${o} which is not a leap year`);f=5,d=30,c="M05"}}else{f=X3(c),this.inLeapYear({year:o})&&f>=6&&f++;let h=this.monthsInYear({year:o});if(f<1||f>h)throw new RangeError(`Invalid monthCode: ${c}`)}else if(i==="reject"?(ni(f,1,this.monthsInYear({year:o})),ni(d,1,this.maximumMonthLength({year:o,month:f}))):(f=rn(f,1,this.monthsInYear({year:o})),d=rn(d,1,this.maximumMonthLength({year:o,month:f}))),c===void 0)c=this.getMonthCode(o,f);else if(this.getMonthCode(o,f)!==c)throw new RangeError(`monthCode ${c} doesn't correspond to month ${f} in Hebrew year ${o}`);return{...e,day:d,month:f,monthCode:c,year:o,eraYear:s}}},ec=class extends Xf{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,r){return this.daysInMonth({year:e.year,month:12,day:1},r)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){let{year:r}=this.adjustCalendarDate(e);return{year:rG(r*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}},$g=class extends ec{constructor(){super(...arguments),this.id="islamic"}},p3=class extends ec{constructor(){super(...arguments),this.id="islamic-umalqura"}},y3=class extends ec{constructor(){super(...arguments),this.id="islamic-tbla"}},m3=class extends ec{constructor(){super(...arguments),this.id="islamic-civil"}},g3=class extends ec{constructor(){super(...arguments),this.id="islamic-rgsa"}},v3=class extends ec{constructor(){super(...arguments),this.id="islamicc"}},b3=class extends Xf{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,r){return $g.prototype.inLeapYear.call(this,e,r)}monthsInYear(){return 12}minimumMonthLength(e){let{month:r}=e;return r===12?29:r<=6?31:30}maximumMonthLength(e){let{month:r}=e;return r===12?30:r<=6?31:30}estimateIsoDate(e){let{year:r}=this.adjustCalendarDate(e);return{year:r+621,month:1,day:1}}},w3=class extends Xf{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return xT(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){let{month:r}=e,i=this.months[r];if(i===void 0)throw new RangeError(`Invalid month: ${r}`);return this.inLeapYear(e)&&i.leap&&(i=i.leap),i}estimateIsoDate(e){let r=this.adjustCalendarDate(e),i=this.getMonthInfo(r);return Su(r.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,r.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}};function xT(t){return t%4==0&&(t%100!=0||t%400==0)}var Du=class extends Xf{constructor(e,r){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;let{eras:i,anchorEra:n}=function(s){let f,c=s;if(c.length===0)throw new RangeError("Invalid era data: eras are required");if(c.length===1&&c[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(c.length===1&&!c[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(c.filter(l=>l.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");c.forEach(l=>{if(l.isAnchor||!l.anchorEpoch&&!l.reverseOf){if(f)throw new RangeError("Invalid era data: cannot have multiple anchor eras");f=l,l.anchorEpoch={year:l.hasYearZero?0:1}}else if(!l.name)throw new RangeError("If era name is blank, it must be the anchor era")}),c=c.filter(l=>l.name),c.forEach(l=>{let{reverseOf:h}=l;if(h){let E=c.find(b=>b.name===h);if(E===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${h}`);l.reverseOf=E,l.anchorEpoch=E.anchorEpoch,l.isoEpoch=E.isoEpoch}l.anchorEpoch.month===void 0&&(l.anchorEpoch.month=1),l.anchorEpoch.day===void 0&&(l.anchorEpoch.day=1)}),eG.call(c,(l,h)=>{if(l.reverseOf)return 1;if(h.reverseOf)return-1;if(!l.isoEpoch||!h.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return h.isoEpoch.year-l.isoEpoch.year});let d=c[c.length-1].reverseOf;if(d&&d!==c[c.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return c.forEach((l,h)=>{l.genericName="era"+(c.length-1-h)}),{eras:c,anchorEra:f||c[0]}}(r);this.anchorEra=n,this.eras=i}inLeapYear(e){let{year:r}=this.estimateIsoDate({month:1,day:1,year:e.year});return xT(r)}monthsInYear(){return 12}minimumMonthLength(e){let{month:r}=e;return r===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(r)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){let r=(f,c)=>{let d=e[f];if(d!=null&&d!=c)throw new RangeError(`Input ${f} ${d} doesn't match calculated value ${c}`)},i=f=>{let c,d={...e,year:f},l=this.eras.find((h,E)=>{if(E===this.eras.length-1){if(h.reverseOf){if(f>0)throw new RangeError(`Signed year ${f} is invalid for era ${h.name}`);return c=h.anchorEpoch.year-f,!0}return c=f-h.anchorEpoch.year+(h.hasYearZero?0:1),!0}return this.compareCalendarDates(d,h.anchorEpoch)>=0&&(c=f-h.anchorEpoch.year+(h.hasYearZero?0:1),!0)});if(!l)throw new RangeError(`Year ${f} was not matched by any era`);return{eraYear:c,era:l.name}},{year:n,eraYear:o,era:s}=e;if(n!=null)({eraYear:o,era:s}=i(n)),r("era",s),r("eraYear",o);else{if(o==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{let f=s===void 0?void 0:this.eras.find(c=>c.name===s||c.genericName===s);if(!f)throw new RangeError(`Era ${s} (ISO year ${o}) was not matched by any era`);if(o<1&&f.reverseOf)throw new RangeError(`Years in ${s} era must be positive, not ${n}`);n=f.reverseOf?f.anchorEpoch.year-o:o+f.anchorEpoch.year-(f.hasYearZero?0:1),r("year",n),{eraYear:o,era:s}=i(n)}}return{...e,year:n,eraYear:o,era:s}}adjustCalendarDate(e,r,i="constrain"){let n=e,{month:o,monthCode:s}=n;return o===void 0&&(n={...n,month:X3(s)}),this.validateCalendarDate(n),n=this.completeEraYear(n),super.adjustCalendarDate(n,r,i)}estimateIsoDate(e){let r=this.adjustCalendarDate(e),{year:i,month:n,day:o}=r,{anchorEra:s}=this;return Cg(i+s.isoEpoch.year-(s.hasYearZero?0:1),n,o,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Hf(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}},_0=class extends Du{constructor(e,r){super(e,r)}inLeapYear(e){let{year:r}=e;return(r+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){let{month:r}=e;return r===13?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}},_3=class extends _0{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}},E3=class extends _0{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}},x3=class extends _0{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}},S3=class extends Du{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}},M3=class extends Du{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}},A3=class extends Du{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:r,eraYear:i}=e;return r!=="bc"&&r!=="b"||(r="bce"),r!=="ad"&&r!=="a"||(r="ce"),{era:r,eraYear:i}}},T3=class extends Du{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long"}reviseIntlEra(e,r){let{era:i,eraYear:n}=e,{year:o}=r;return this.eras.find(s=>s.name===i)?{era:i,eraYear:n}:o<1?{era:"bce",eraYear:1-o}:{era:"ce",eraYear:o}}},Wg=class extends Xf{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,r){let i=this.getMonthList(e.year,r);return l3(i).length===13}monthsInYear(e,r){return this.inLeapYear(e,r)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,r){if(e===void 0)throw new TypeError("Missing year");let i=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),n=r.get(i);if(n)return n;let o=this.getFormatter(),s=(O,D)=>{let I=ET({isoYear:O,isoMonth:2,isoDay:1}),L=new Date(I);L.setUTCDate(D+1);let U=o.formatToParts(L),$=U.find(F=>F.type==="month").value,K=+U.find(F=>F.type==="day").value,q=U.find(F=>F.type==="relatedYear");if(q===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return q=+q.value,{calendarMonthString:$,calendarDay:K,calendarYearToVerify:q}},f=17,{calendarMonthString:c,calendarDay:d,calendarYearToVerify:l}=s(e,f);c!=="1"&&(f+=29,{calendarMonthString:c,calendarDay:d}=s(e,f)),f-=d-5;let h={},E,b,T=1,k=!1;do({calendarMonthString:c,calendarDay:d,calendarYearToVerify:l}=s(e,f)),E&&(h[b].daysInMonth=E+30-d),l!==e?k=!0:(h[c]={monthIndex:T++},f+=30),E=d,b=c;while(!k);return h[b].daysInMonth=E+30-d,r.set(i,h),h}estimateIsoDate(e){let{year:r,month:i}=e;return{year:r,month:i>=12?12:i+1,day:1}}adjustCalendarDate(e,r,i="constrain",n=!1){let{year:o,month:s,monthExtra:f,day:c,monthCode:d,eraYear:l}=e;if(n){if(o=l,f&&f!=="bis")throw new RangeError(`Unexpected leap month suffix: ${f}`);let h=Ca(s,f!==void 0),E=`${s}${f||""}`,b=this.getMonthList(o,r)[E];if(b===void 0)throw new RangeError(`Unmatched month ${E} in Chinese year ${o}`);return s=b.monthIndex,{year:o,month:s,day:c,era:void 0,eraYear:l,monthCode:h}}if(this.validateCalendarDate(e),o===void 0&&(o=l),l===void 0&&(l=o),s===void 0){let h=this.getMonthList(o,r),E=d.replace("L","bis").slice(1);E[0]==="0"&&(E=E.slice(1));let b=h[E];if(s=b&&b.monthIndex,s===void 0&&d.endsWith("L")&&!zg.call(["M01L","M12L","M13L"],d)&&i==="constrain"){let T=d.slice(1,-1);T[0]==="0"&&(T=T.slice(1)),b=h[T],b&&({daysInMonth:c,monthIndex:s}=b,d=Ca(T))}if(s===void 0)throw new RangeError(`Unmatched month ${d} in Chinese year ${o}`)}else if(d===void 0){let h=this.getMonthList(o,r),E=l3(h),b=E.length;i==="reject"?(ni(s,1,b),ni(c,1,this.maximumMonthLength())):(s=rn(s,1,b),c=rn(c,1,this.maximumMonthLength()));let T=E.find(([,k])=>k.monthIndex===s);if(T===void 0)throw new RangeError(`Invalid month ${s} in Chinese year ${o}`);d=Ca(T[0].replace("bis",""),T[0].indexOf("bis")!==-1)}else{let h=this.getMonthList(o,r),E=d.replace("L","bis").slice(1);E[0]==="0"&&(E=E.slice(1));let b=h[E];if(!b)throw new RangeError(`Unmatched monthCode ${d} in Chinese year ${o}`);if(s!==b.monthIndex)throw new RangeError(`monthCode ${d} doesn't correspond to month ${s} in Chinese year ${o}`)}return{...e,year:o,eraYear:l,month:s,monthCode:d,day:c}}},R3=class extends Wg{constructor(){super(...arguments),this.id="chinese"}},P3=class extends Wg{constructor(){super(...arguments),this.id="dangi"}},iG={helper:void 0,dateFromFields(t,e,r){let i=br(e),n=new nr,o=ut(t,["day","era","eraYear","month","monthCode","year"],["day"]),{year:s,month:f,day:c}=this.helper.calendarToIsoDate(o,i,n),d=no(s,f,c,r);return n.setObject(d),d},yearMonthFromFields(t,e,r){let i=br(e),n=new nr,o=ut(t,["era","eraYear","month","monthCode","year"],[]),{year:s,month:f,day:c}=this.helper.calendarToIsoDate({...o,day:1},i,n),d=w0(s,f,r,c);return n.setObject(d),d},monthDayFromFields(t,e,r){let i=br(e),n=new nr,o=ut(t,["day","era","eraYear","month","monthCode","year"],["day"]),{year:s,month:f,day:c}=this.helper.monthDayFromFields(o,i,n),d=b0(f,c,r,s);return n.setObject(d),d},fields(t){let e=t;return zg.call(e,"year")&&(e=[...e,"era","eraYear"]),e},mergeFields(t,e){let r={...t},i={...e},{month:n,monthCode:o,year:s,era:f,eraYear:c,...d}=r,{month:l,monthCode:h,year:E,era:b,eraYear:T}=i;return l===void 0&&h===void 0&&(d.month=n,d.monthCode=o),E===void 0&&b===void 0&&T===void 0&&(d.year=s),{...d,...i}},dateAdd(t,e,r,i,n,o,s){let f=nr.getCacheForObject(t),c=this.helper.temporalToCalendarDate(t,f),d=this.helper.addCalendar(c,{years:e,months:r,weeks:i,days:n},o,f),l=this.helper.calendarToIsoDate(d,"constrain",f),{year:h,month:E,day:b}=l,T=no(h,E,b,s);return new nr(f).setObject(T),T},dateUntil(t,e,r){let i=nr.getCacheForObject(t),n=nr.getCacheForObject(e),o=this.helper.temporalToCalendarDate(t,i),s=this.helper.temporalToCalendarDate(e,n);return this.helper.untilCalendar(o,s,r,i)},year(t){let e=nr.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).year},month(t){let e=nr.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).month},day(t){let e=nr.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).day},era(t){if(!this.helper.hasEra)return;let e=nr.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).era},eraYear(t){if(!this.helper.hasEra)return;let e=nr.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).eraYear},monthCode(t){let e=nr.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).monthCode},dayOfWeek:t=>hr.iso8601.dayOfWeek(t),dayOfYear(t){let e=nr.getCacheForObject(t),r=this.helper.isoToCalendarDate(t,e),i=this.helper.startOfCalendarYear(r);return this.helper.calendarDaysUntil(i,r,e)+1},weekOfYear:t=>hr.iso8601.weekOfYear(t),daysInWeek:t=>hr.iso8601.daysInWeek(t),daysInMonth(t){let e=nr.getCacheForObject(t),r=this.helper.temporalToCalendarDate(t,e),i=this.helper.maximumMonthLength(r);if(i===this.helper.minimumMonthLength(r))return i;let n=this.helper.startOfCalendarMonth(r),o=this.helper.addMonthsCalendar(n,1,"constrain",e);return this.helper.calendarDaysUntil(n,o,e)},daysInYear(t){let e=t;Fr(e,ne)||(e=Ht(e));let r=nr.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,r),n=this.helper.startOfCalendarYear(i),o=this.helper.addCalendar(n,{years:1},"constrain",r);return this.helper.calendarDaysUntil(n,o,r)},monthsInYear(t){let e=nr.getCacheForObject(t),r=this.helper.temporalToCalendarDate(t,e);return this.helper.monthsInYear(r,e)},inLeapYear(t){let e=t;Fr(e,ne)||(e=Ht(e));let r=nr.getCacheForObject(e),i=this.helper.temporalToCalendarDate(e,r);return this.helper.inLeapYear(i,r)}};for(let t of[h3,b3,x3,_3,E3,R3,P3,S3,w3,M3,A3,T3,$g,p3,y3,m3,g3,v3]){let e=new t;hr[e.id]={...iG,helper:e}}var Bu=class{constructor(e,r,i,n=wr()){let o=Vt(e),s=Vt(r),f=Vt(i),c=Jr(n);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");zA(this,o,s,f,c)}get calendar(){if(!yt(this))throw new TypeError("invalid receiver");return S(this,Y)}get era(){if(!yt(this))throw new TypeError("invalid receiver");return Yg(S(this,Y),this)}get eraYear(){if(!yt(this))throw new TypeError("invalid receiver");return Jg(S(this,Y),this)}get year(){if(!yt(this))throw new TypeError("invalid receiver");return Vg(S(this,Y),this)}get month(){if(!yt(this))throw new TypeError("invalid receiver");return Gg(S(this,Y),this)}get monthCode(){if(!yt(this))throw new TypeError("invalid receiver");return B0(S(this,Y),this)}get day(){if(!yt(this))throw new TypeError("invalid receiver");return Zg(S(this,Y),this)}get dayOfWeek(){if(!yt(this))throw new TypeError("invalid receiver");return j3(S(this,Y),this)}get dayOfYear(){if(!yt(this))throw new TypeError("invalid receiver");return N3(S(this,Y),this)}get weekOfYear(){if(!yt(this))throw new TypeError("invalid receiver");return q3(S(this,Y),this)}get daysInWeek(){if(!yt(this))throw new TypeError("invalid receiver");return L3(S(this,Y),this)}get daysInMonth(){if(!yt(this))throw new TypeError("invalid receiver");return C0(S(this,Y),this)}get daysInYear(){if(!yt(this))throw new TypeError("invalid receiver");return Qg(S(this,Y),this)}get monthsInYear(){if(!yt(this))throw new TypeError("invalid receiver");return Xg(S(this,Y),this)}get inLeapYear(){if(!yt(this))throw new TypeError("invalid receiver");return ev(S(this,Y),this)}with(e,r){if(!yt(this))throw new TypeError("invalid receiver");if(!tr(e))throw new TypeError("invalid argument");$l(e);let i=S(this,Y),n=Er(i,["day","month","monthCode","year"]),o=ut(e,n,"partial");if(!o)throw new TypeError("invalid date-like");let s=ut(this,n,[]);return s=Ru(i,s,o),s=ut(s,n,[]),Zf(i,s,dt(r))}withCalendar(e){if(!yt(this))throw new TypeError("invalid receiver");let r=Jr(e);return new Bu(S(this,ne),S(this,ae),S(this,fe),r)}add(e,r){if(!yt(this))throw new TypeError("invalid receiver");let i=Bl(e),n=dt(r);return Bi(S(this,Y),this,i,n)}subtract(e,r){if(!yt(this))throw new TypeError("invalid receiver");let i=tT(Bl(e)),n=dt(r);return Bi(S(this,Y),this,i,n)}until(e,r){if(!yt(this))throw new TypeError("invalid receiver");return uA("until",this,e,r)}since(e,r){if(!yt(this))throw new TypeError("invalid receiver");return uA("since",this,e,r)}equals(e){if(!yt(this))throw new TypeError("invalid receiver");let r=Ht(e);for(let i of[ne,ae,fe])if(S(this,i)!==S(r,i))return!1;return O0(S(this,Y),S(r,Y))}toString(e){if(!yt(this))throw new TypeError("invalid receiver");return rA(this,k0(dt(e)))}toJSON(){if(!yt(this))throw new TypeError("invalid receiver");return rA(this)}toLocaleString(e,r){if(!yt(this))throw new TypeError("invalid receiver");return new tc(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!yt(this))throw new TypeError("invalid receiver");let r=S(this,ne),i=S(this,ae),n=S(this,fe),o=S(this,Y);if(e===void 0)return tn(r,i,n,0,0,0,0,0,0,o);let s=Ia(e);return tn(r,i,n,S(s,Xe),S(s,et),S(s,tt),S(s,rt),S(s,it),S(s,nt),o)}toZonedDateTime(e){if(!yt(this))throw new TypeError("invalid receiver");let r,i;if(tr(e)){let T=e.timeZone;T===void 0?r=Oi(e):(r=Oi(T),i=e.plainTime)}else r=Oi(e);let n=S(this,ne),o=S(this,ae),s=S(this,fe),f=S(this,Y),c=0,d=0,l=0,h=0,E=0,b=0;return i!==void 0&&(i=Ia(i),c=S(i,Xe),d=S(i,et),l=S(i,tt),h=S(i,rt),E=S(i,it),b=S(i,nt)),ii(S(Ci(r,tn(n,o,s,c,d,l,h,E,b,f),"compatible"),Ve),r,f)}toPlainYearMonth(){if(!yt(this))throw new TypeError("invalid receiver");let e=S(this,Y);return Pu(e,ut(this,Er(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!yt(this))throw new TypeError("invalid receiver");let e=S(this,Y);return jl(e,ut(this,Er(e,["day","monthCode"]),[]))}getISOFields(){if(!yt(this))throw new TypeError("invalid receiver");return{calendar:S(this,Y),isoDay:S(this,fe),isoMonth:S(this,ae),isoYear:S(this,ne)}}static from(e,r){let i=dt(r);return yt(e)?(br(i),no(S(e,ne),S(e,ae),S(e,fe),S(e,Y))):Ht(e,i)}static compare(e,r){let i=Ht(e),n=Ht(r);return Hf(S(i,ne),S(i,ae),S(i,fe),S(n,ne),S(n,ae),S(n,fe))}};Ws(Bu,"Temporal.PlainDate");var Cu=class{constructor(e,r,i,n=0,o=0,s=0,f=0,c=0,d=0,l=wr()){let h=Vt(e),E=Vt(r),b=Vt(i),T=Vt(n),k=Vt(o),O=Vt(s),D=Vt(f),I=Vt(c),L=Vt(d),U=Jr(l);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");$A(this,h,E,b,T,k,O,D,I,L,U)}get calendar(){if(!st(this))throw new TypeError("invalid receiver");return S(this,Y)}get year(){if(!st(this))throw new TypeError("invalid receiver");return Vg(S(this,Y),this)}get month(){if(!st(this))throw new TypeError("invalid receiver");return Gg(S(this,Y),this)}get monthCode(){if(!st(this))throw new TypeError("invalid receiver");return B0(S(this,Y),this)}get day(){if(!st(this))throw new TypeError("invalid receiver");return Zg(S(this,Y),this)}get hour(){if(!st(this))throw new TypeError("invalid receiver");return S(this,Xe)}get minute(){if(!st(this))throw new TypeError("invalid receiver");return S(this,et)}get second(){if(!st(this))throw new TypeError("invalid receiver");return S(this,tt)}get millisecond(){if(!st(this))throw new TypeError("invalid receiver");return S(this,rt)}get microsecond(){if(!st(this))throw new TypeError("invalid receiver");return S(this,it)}get nanosecond(){if(!st(this))throw new TypeError("invalid receiver");return S(this,nt)}get era(){if(!st(this))throw new TypeError("invalid receiver");return Yg(S(this,Y),this)}get eraYear(){if(!st(this))throw new TypeError("invalid receiver");return Jg(S(this,Y),this)}get dayOfWeek(){if(!st(this))throw new TypeError("invalid receiver");return j3(S(this,Y),this)}get dayOfYear(){if(!st(this))throw new TypeError("invalid receiver");return N3(S(this,Y),this)}get weekOfYear(){if(!st(this))throw new TypeError("invalid receiver");return q3(S(this,Y),this)}get daysInWeek(){if(!st(this))throw new TypeError("invalid receiver");return L3(S(this,Y),this)}get daysInYear(){if(!st(this))throw new TypeError("invalid receiver");return Qg(S(this,Y),this)}get daysInMonth(){if(!st(this))throw new TypeError("invalid receiver");return C0(S(this,Y),this)}get monthsInYear(){if(!st(this))throw new TypeError("invalid receiver");return Xg(S(this,Y),this)}get inLeapYear(){if(!st(this))throw new TypeError("invalid receiver");return ev(S(this,Y),this)}with(e,r){if(!st(this))throw new TypeError("invalid receiver");if(!tr(e))throw new TypeError("invalid argument");$l(e);let i=dt(r),n=S(this,Y),o=Er(n,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),s=ut(e,o,"partial");if(!s)throw new TypeError("invalid date-time-like");let f=ut(this,o,[]);f=Ru(n,f,s),f=ut(f,o,[]);let{year:c,month:d,day:l,hour:h,minute:E,second:b,millisecond:T,microsecond:k,nanosecond:O}=D0(n,f,i);return tn(c,d,l,h,E,b,T,k,O,n)}withPlainTime(e){if(!st(this))throw new TypeError("invalid receiver");let r=S(this,ne),i=S(this,ae),n=S(this,fe),o=S(this,Y);if(e===void 0)return tn(r,i,n,0,0,0,0,0,0,o);let s=Ia(e);return tn(r,i,n,S(s,Xe),S(s,et),S(s,tt),S(s,rt),S(s,it),S(s,nt),o)}withPlainDate(e){if(!st(this))throw new TypeError("invalid receiver");let r=Ht(e),i=S(r,ne),n=S(r,ae),o=S(r,fe),s=S(r,Y),f=S(this,Xe),c=S(this,et),d=S(this,tt),l=S(this,rt),h=S(this,it),E=S(this,nt);return s=VA(S(this,Y),s),tn(i,n,o,f,c,d,l,h,E,s)}withCalendar(e){if(!st(this))throw new TypeError("invalid receiver");let r=Jr(e);return new Cu(S(this,ne),S(this,ae),S(this,fe),S(this,Xe),S(this,et),S(this,tt),S(this,rt),S(this,it),S(this,nt),r)}add(e,r){if(!st(this))throw new TypeError("invalid receiver");return gA("add",this,e,r)}subtract(e,r){if(!st(this))throw new TypeError("invalid receiver");return gA("subtract",this,e,r)}until(e,r){if(!st(this))throw new TypeError("invalid receiver");return dA("until",this,e,r)}since(e,r){if(!st(this))throw new TypeError("invalid receiver");return dA("since",this,e,r)}round(e){if(!st(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?Ll("smallestUnit",e):dt(e),i=Ur(r,"smallestUnit","time",Tu,["day"]),n=$i(r,"halfExpand"),o=ja(r,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i],!1),s=S(this,ne),f=S(this,ae),c=S(this,fe),d=S(this,Xe),l=S(this,et),h=S(this,tt),E=S(this,rt),b=S(this,it),T=S(this,nt);return{year:s,month:f,day:c,hour:d,minute:l,second:h,millisecond:E,microsecond:b,nanosecond:T}=Z3(s,f,c,d,l,h,E,b,T,o,i,n),tn(s,f,c,d,l,h,E,b,T,S(this,Y))}equals(e){if(!st(this))throw new TypeError("invalid receiver");let r=Eu(e);for(let i of[ne,ae,fe,Xe,et,tt,rt,it,nt])if(S(this,i)!==S(r,i))return!1;return O0(S(this,Y),S(r,Y))}toString(e){if(!st(this))throw new TypeError("invalid receiver");let r=dt(e),{precision:i,unit:n,increment:o}=I0(r);return iA(this,i,k0(r),{unit:n,increment:o,roundingMode:$i(r,"trunc")})}toJSON(){if(!st(this))throw new TypeError("invalid receiver");return iA(this,"auto")}toLocaleString(e,r){if(!st(this))throw new TypeError("invalid receiver");return new tc(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,r){if(!st(this))throw new TypeError("invalid receiver");let i=Oi(e);return ii(S(Ci(i,this,v0(dt(r))),Ve),i,S(this,Y))}toPlainDate(){if(!st(this))throw new TypeError("invalid receiver");return Nl(this)}toPlainYearMonth(){if(!st(this))throw new TypeError("invalid receiver");let e=S(this,Y);return Pu(e,ut(this,Er(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!st(this))throw new TypeError("invalid receiver");let e=S(this,Y);return jl(e,ut(this,Er(e,["day","monthCode"]),[]))}toPlainTime(){if(!st(this))throw new TypeError("invalid receiver");return U3(this)}getISOFields(){if(!st(this))throw new TypeError("invalid receiver");return{calendar:S(this,Y),isoDay:S(this,fe),isoHour:S(this,Xe),isoMicrosecond:S(this,it),isoMillisecond:S(this,rt),isoMinute:S(this,et),isoMonth:S(this,ae),isoNanosecond:S(this,nt),isoSecond:S(this,tt),isoYear:S(this,ne)}}static from(e,r){let i=dt(r);return st(e)?(br(i),tn(S(e,ne),S(e,ae),S(e,fe),S(e,Xe),S(e,et),S(e,tt),S(e,rt),S(e,it),S(e,nt),S(e,Y))):Eu(e,i)}static compare(e,r){let i=Eu(e),n=Eu(r);for(let o of[ne,ae,fe,Xe,et,tt,rt,it,nt]){let s=S(i,o),f=S(n,o);if(s!==f)return Mu(s-f)}return 0}};Ws(Cu,"Temporal.PlainDateTime");var Us=class{constructor(e=0,r=0,i=0,n=0,o=0,s=0,f=0,c=0,d=0,l=0){let h=qr(e),E=qr(r),b=qr(i),T=qr(n),k=qr(o),O=qr(s),D=qr(f),I=qr(c),L=qr(d),U=qr(l);nv(h,E,b,T,k,O,D,I,L,U),Ks(this),at(this,Mi,h),at(this,Gr,E),at(this,zi,b),at(this,Ai,T),at(this,Ti,k),at(this,Ri,O),at(this,Pi,D),at(this,ki,I),at(this,Ii,L),at(this,Di,U)}get years(){if(!dr(this))throw new TypeError("invalid receiver");return S(this,Mi)}get months(){if(!dr(this))throw new TypeError("invalid receiver");return S(this,Gr)}get weeks(){if(!dr(this))throw new TypeError("invalid receiver");return S(this,zi)}get days(){if(!dr(this))throw new TypeError("invalid receiver");return S(this,Ai)}get hours(){if(!dr(this))throw new TypeError("invalid receiver");return S(this,Ti)}get minutes(){if(!dr(this))throw new TypeError("invalid receiver");return S(this,Ri)}get seconds(){if(!dr(this))throw new TypeError("invalid receiver");return S(this,Pi)}get milliseconds(){if(!dr(this))throw new TypeError("invalid receiver");return S(this,ki)}get microseconds(){if(!dr(this))throw new TypeError("invalid receiver");return S(this,Ii)}get nanoseconds(){if(!dr(this))throw new TypeError("invalid receiver");return S(this,Di)}get sign(){if(!dr(this))throw new TypeError("invalid receiver");return Fs(S(this,Mi),S(this,Gr),S(this,zi),S(this,Ai),S(this,Ti),S(this,Ri),S(this,Pi),S(this,ki),S(this,Ii),S(this,Di))}get blank(){if(!dr(this))throw new TypeError("invalid receiver");return Fs(S(this,Mi),S(this,Gr),S(this,zi),S(this,Ai),S(this,Ti),S(this,Ri),S(this,Pi),S(this,ki),S(this,Ii),S(this,Di))===0}with(e){if(!dr(this))throw new TypeError("invalid receiver");let r=ut(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial");if(!r)throw new TypeError("invalid duration-like");let{years:i=S(this,Mi),months:n=S(this,Gr),weeks:o=S(this,zi),days:s=S(this,Ai),hours:f=S(this,Ti),minutes:c=S(this,Ri),seconds:d=S(this,Pi),milliseconds:l=S(this,ki),microseconds:h=S(this,Ii),nanoseconds:E=S(this,Di)}=r;return new Us(i,n,o,s,f,c,d,l,h,E)}negated(){if(!dr(this))throw new TypeError("invalid receiver");return tT(this)}abs(){if(!dr(this))throw new TypeError("invalid receiver");return new Us(Math.abs(S(this,Mi)),Math.abs(S(this,Gr)),Math.abs(S(this,zi)),Math.abs(S(this,Ai)),Math.abs(S(this,Ti)),Math.abs(S(this,Ri)),Math.abs(S(this,Pi)),Math.abs(S(this,ki)),Math.abs(S(this,Ii)),Math.abs(S(this,Di)))}add(e,r){if(!dr(this))throw new TypeError("invalid receiver");return yA("add",this,e,r)}subtract(e,r){if(!dr(this))throw new TypeError("invalid receiver");return yA("subtract",this,e,r)}round(e){if(!dr(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=S(this,Mi),i=S(this,Gr),n=S(this,zi),o=S(this,Ai),s=S(this,Ti),f=S(this,Ri),c=S(this,Pi),d=S(this,ki),l=S(this,Ii),h=S(this,Di),E=o3(r,i,n,o,s,f,c,d,l,h),b=typeof e=="string"?Ll("smallestUnit",e):dt(e),T=Ur(b,"smallestUnit","datetime",void 0),k=!0;T||(k=!1,T="nanosecond"),E=on(E,T);let O=Ur(b,"largestUnit","datetime",void 0,["auto"]),D=!0;if(O||(D=!1,O=E),O==="auto"&&(O=E),!k&&!D)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(on(O,T)!==O)throw new RangeError(`largestUnit ${O} cannot be smaller than smallestUnit ${T}`);let I=$i(b,"halfExpand"),L=O3(b,T),U=Tg(b);return{years:r,months:i,weeks:n,days:o}=Ag(r,i,n,o,O,U),{years:r,months:i,weeks:n,days:o,hours:s,minutes:f,seconds:c,milliseconds:d,microseconds:l,nanoseconds:h}=Jf(r,i,n,o,s,f,c,d,l,h,L,T,I,U),{years:r,months:i,weeks:n,days:o,hours:s,minutes:f,seconds:c,milliseconds:d,microseconds:l,nanoseconds:h}=cT(r,i,n,o,s,f,c,d,l,h,L,T,I,U),{years:r,months:i,weeks:n,days:o}=function(K,q,F,G,B,w){let M=K,_=q,a=F,u=G,p=Ge("%Temporal.Duration%"),v=Fs(M,_,a,u,0,0,0,0,0,0);if(v===0)return{years:M,months:_,weeks:a,days:u};let g,m;w&&(m=Ht(w),g=S(m,Y));let A=new p(v),R=new p(0,v),y=new p(0,0,v);switch(B){case"year":{if(!g)throw new RangeError("a starting point is required for years balancing");let P,W,H;for({relativeTo:P,days:W}=gi(g,m,A);wt(u)>=wt(W);)u-=W,M+=v,m=P,{relativeTo:P,days:W}=gi(g,m,A);for({relativeTo:P,days:H}=gi(g,m,R);wt(u)>=wt(H);)u-=H,_+=v,m=P,{relativeTo:P,days:H}=gi(g,m,R);let V=g.dateAdd;P=Bi(g,m,A,void 0,V);let Z=g.dateUntil,J=oi(null);J.largestUnit="month";let Q=Gf(g,m,P,J,Z),me=S(Q,Gr);for(;wt(_)>=wt(me);){_-=me,M+=v,m=P,P=Bi(g,m,A,void 0,V);let te=oi(null);te.largestUnit="month",Q=Gf(g,m,P,te,Z),me=S(Q,Gr)}break}case"month":{if(!g)throw new RangeError("a starting point is required for months balancing");let P,W;for({relativeTo:P,days:W}=gi(g,m,R);wt(u)>=wt(W);)u-=W,_+=v,m=P,{relativeTo:P,days:W}=gi(g,m,R);break}case"week":{if(!g)throw new RangeError("a starting point is required for weeks balancing");let P,W;for({relativeTo:P,days:W}=gi(g,m,y);wt(u)>=wt(W);)u-=W,a+=v,m=P,{relativeTo:P,days:W}=gi(g,m,y);break}}return{years:M,months:_,weeks:a,days:u}}(r,i,n,o,O,U),le(U)&&(U=c3(U,r,i,n,0)),{days:o,hours:s,minutes:f,seconds:c,milliseconds:d,microseconds:l,nanoseconds:h}=nn(o,s,f,c,d,l,h,O,U),new Us(r,i,n,o,s,f,c,d,l,h)}total(e){if(!dr(this))throw new TypeError("invalid receiver");let r=S(this,Mi),i=S(this,Gr),n=S(this,zi),o=S(this,Ai),s=S(this,Ti),f=S(this,Ri),c=S(this,Pi),d=S(this,ki),l=S(this,Ii),h=S(this,Di);if(e===void 0)throw new TypeError("options argument is required");let E=typeof e=="string"?Ll("unit",e):dt(e),b=Ur(E,"unit","datetime",Tu),T=Tg(E),k;({years:r,months:i,weeks:n,days:o}=Ag(r,i,n,o,b,T)),le(T)&&(k=c3(T,r,i,n,0)),{days:o,hours:s,minutes:f,seconds:c,milliseconds:d,microseconds:l,nanoseconds:h}=nn(o,s,f,c,d,l,h,b,k);let{total:O}=Jf(r,i,n,o,s,f,c,d,l,h,1,b,"trunc",T);return O}toString(e){if(!dr(this))throw new TypeError("invalid receiver");let r=dt(e),{precision:i,unit:n,increment:o}=I0(r);if(i==="minute")throw new RangeError('smallestUnit must not be "minute"');return Z_(this,i,{unit:n,increment:o,roundingMode:$i(r,"trunc")})}toJSON(){if(!dr(this))throw new TypeError("invalid receiver");return Z_(this)}toLocaleString(e,r){if(!dr(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(e,r).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),Z_(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return dr(e)?new Us(S(e,Mi),S(e,Gr),S(e,zi),S(e,Ai),S(e,Ti),S(e,Ri),S(e,Pi),S(e,ki),S(e,Ii),S(e,Di)):Bl(e)}static compare(e,r,i){let n=Bl(e),o=Bl(r),s=Tg(dt(i)),f=S(n,Mi),c=S(n,Gr),d=S(n,zi),l=S(n,Ai),h=S(n,Ti),E=S(n,Ri),b=S(n,Pi),T=S(n,ki),k=S(n,Ii),O=S(n,Di),D=S(o,Mi),I=S(o,Gr),L=S(o,zi),U=S(o,Ai),$=S(o,Ti),K=S(o,Ri),q=S(o,Pi),F=S(o,ki),G=S(o,Ii),B=S(o,Di),w=fA(s,f,c,d,l),M=fA(s,D,I,L,U);f===0&&D===0&&c===0&&I===0&&d===0&&L===0||({days:l}=Ag(f,c,d,l,"day",s),{days:U}=Ag(D,I,L,U,"day",s));let _=ql(l,h,E,b,T,k,O,w),a=ql(U,$,K,q,F,G,B,M);return Mu(N.default.toNumber(N.default.subtract(_,a)))}};Ws(Us,"Temporal.Duration");var nG=Object.create,E0=class{constructor(e,r,i=wr(),n=1972){let o=Vt(e),s=Vt(r),f=Jr(i),c=Vt(n);if(arguments.length<2)throw new RangeError("missing argument: isoMonth and isoDay are required");WA(this,o,s,f,c)}get monthCode(){if(!Zr(this))throw new TypeError("invalid receiver");return B0(S(this,Y),this)}get day(){if(!Zr(this))throw new TypeError("invalid receiver");return Zg(S(this,Y),this)}get calendar(){if(!Zr(this))throw new TypeError("invalid receiver");return S(this,Y)}with(e,r){if(!Zr(this))throw new TypeError("invalid receiver");if(!tr(e))throw new TypeError("invalid argument");$l(e);let i=S(this,Y),n=Er(i,["day","month","monthCode","year"]),o=ut(e,n,"partial");if(!o)throw new TypeError("invalid month-day-like");let s=ut(this,n,[]);return s=Ru(i,s,o),s=ut(s,n,[]),jl(i,s,dt(r))}equals(e){if(!Zr(this))throw new TypeError("invalid receiver");let r=eA(e);for(let i of[ae,fe,ne])if(S(this,i)!==S(r,i))return!1;return O0(S(this,Y),S(r,Y))}toString(e){if(!Zr(this))throw new TypeError("invalid receiver");return nA(this,k0(dt(e)))}toJSON(){if(!Zr(this))throw new TypeError("invalid receiver");return nA(this)}toLocaleString(e,r){if(!Zr(this))throw new TypeError("invalid receiver");return new tc(e,r).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!Zr(this))throw new TypeError("invalid receiver");if(!tr(e))throw new TypeError("argument should be an object");let r=S(this,Y),i=Er(r,["day","monthCode"]),n=ut(this,i,[]),o=Er(r,["year"]),s=Ru(r,n,ut(e,o,[]));s=ut(s,[...new Set([...i,...o])],[]);let f=nG(null);return f.overflow="reject",Zf(r,s,f)}getISOFields(){if(!Zr(this))throw new TypeError("invalid receiver");return{calendar:S(this,Y),isoDay:S(this,fe),isoMonth:S(this,ae),isoYear:S(this,ne)}}static from(e,r){let i=dt(r);return Zr(e)?(br(i),b0(S(e,ae),S(e,fe),S(e,Y),S(e,ne))):eA(e,i)}};Ws(E0,"Temporal.PlainMonthDay");var e6=()=>new(Ge("%Temporal.Instant%"))(J3()),EA=(t,e=Wf())=>{let r=Oi(e),i=Jr(t);return yn(r,e6(),i)},X_=(t=Wf())=>{let e=Oi(t),r=wr();return yn(e,e6(),r)},xA=(t,e=Wf())=>{let r=Oi(e),i=Jr(t);return ii(J3(),r,i)},Wf=()=>function(){let e=new DA("en-us");return new(Ge("%Temporal.TimeZone%"))(LA(e.resolvedOptions().timeZone))}(),ST={instant:e6,plainDateTime:EA,plainDateTimeISO:X_,plainDate:(t,e=Wf())=>Nl(EA(t,e)),plainDateISO:(t=Wf())=>Nl(X_(t)),plainTimeISO:(t=Wf())=>U3(X_(t)),timeZone:Wf,zonedDateTime:xA,zonedDateTimeISO:(t=Wf())=>xA(wr(),t),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(ST,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});var oG=Object.assign;function SA(t,e,r){let i=S(t,Xe),n=S(t,et),o=S(t,tt),s=S(t,rt),f=S(t,it),c=S(t,nt);if(r){let{unit:d,increment:l,roundingMode:h}=r;({hour:i,minute:n,second:o,millisecond:s,microsecond:f,nanosecond:c}=Y3(i,n,o,s,f,c,l,d,h))}return`${sr(i)}:${sr(n)}${tv(o,s,f,c,e)}`}var Oa=class{constructor(e=0,r=0,i=0,n=0,o=0,s=0){let f=Vt(e),c=Vt(r),d=Vt(i),l=Vt(n),h=Vt(o),E=Vt(s);iv(f,c,d,l,h,E),Ks(this),at(this,Xe,f),at(this,et,c),at(this,tt,d),at(this,rt,l),at(this,it,h),at(this,nt,E),at(this,Y,wr())}get calendar(){if(!lr(this))throw new TypeError("invalid receiver");return S(this,Y)}get hour(){if(!lr(this))throw new TypeError("invalid receiver");return S(this,Xe)}get minute(){if(!lr(this))throw new TypeError("invalid receiver");return S(this,et)}get second(){if(!lr(this))throw new TypeError("invalid receiver");return S(this,tt)}get millisecond(){if(!lr(this))throw new TypeError("invalid receiver");return S(this,rt)}get microsecond(){if(!lr(this))throw new TypeError("invalid receiver");return S(this,it)}get nanosecond(){if(!lr(this))throw new TypeError("invalid receiver");return S(this,nt)}with(e,r){if(!lr(this))throw new TypeError("invalid receiver");if(!tr(e))throw new TypeError("invalid argument");$l(e);let i=Og(e,"partial"),n=br(dt(r)),o=Og(this),{hour:s,minute:f,second:c,millisecond:d,microsecond:l,nanosecond:h}=oG(o,i);return{hour:s,minute:f,second:c,millisecond:d,microsecond:l,nanosecond:h}=Kg(s,f,c,d,l,h,n),new Oa(s,f,c,d,l,h)}add(e){if(!lr(this))throw new TypeError("invalid receiver");return vA("add",this,e)}subtract(e){if(!lr(this))throw new TypeError("invalid receiver");return vA("subtract",this,e)}until(e,r){if(!lr(this))throw new TypeError("invalid receiver");return lA("until",this,e,r)}since(e,r){if(!lr(this))throw new TypeError("invalid receiver");return lA("since",this,e,r)}round(e){if(!lr(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?Ll("smallestUnit",e):dt(e),i=Ur(r,"smallestUnit","time",Tu),n=$i(r,"halfExpand"),o=ja(r,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i],!1),s=S(this,Xe),f=S(this,et),c=S(this,tt),d=S(this,rt),l=S(this,it),h=S(this,nt);return{hour:s,minute:f,second:c,millisecond:d,microsecond:l,nanosecond:h}=Y3(s,f,c,d,l,h,o,i,n),new Oa(s,f,c,d,l,h)}equals(e){if(!lr(this))throw new TypeError("invalid receiver");let r=Ia(e);for(let i of[Xe,et,tt,rt,it,nt])if(S(this,i)!==S(r,i))return!1;return!0}toString(e){if(!lr(this))throw new TypeError("invalid receiver");let r=dt(e),{precision:i,unit:n,increment:o}=I0(r);return SA(this,i,{unit:n,increment:o,roundingMode:$i(r,"trunc")})}toJSON(){if(!lr(this))throw new TypeError("invalid receiver");return SA(this,"auto")}toLocaleString(e,r){if(!lr(this))throw new TypeError("invalid receiver");return new tc(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!lr(this))throw new TypeError("invalid receiver");let r=Ht(e),i=S(r,ne),n=S(r,ae),o=S(r,fe),s=S(r,Y);return tn(i,n,o,S(this,Xe),S(this,et),S(this,tt),S(this,rt),S(this,it),S(this,nt),s)}toZonedDateTime(e){if(!lr(this))throw new TypeError("invalid receiver");if(!tr(e))throw new TypeError("invalid argument");let r=e.plainDate;if(r===void 0)throw new TypeError("missing date property");let i=Ht(r),n=e.timeZone;if(n===void 0)throw new TypeError("missing timeZone property");let o=Oi(n),s=S(i,ne),f=S(i,ae),c=S(i,fe),d=S(i,Y),l=S(this,Xe),h=S(this,et),E=S(this,tt),b=S(this,rt),T=S(this,it),k=S(this,nt);return ii(S(Ci(o,new(Ge("%Temporal.PlainDateTime%"))(s,f,c,l,h,E,b,T,k,d),"compatible"),Ve),o,d)}getISOFields(){if(!lr(this))throw new TypeError("invalid receiver");return{calendar:S(this,Y),isoHour:S(this,Xe),isoMicrosecond:S(this,it),isoMillisecond:S(this,rt),isoMinute:S(this,et),isoNanosecond:S(this,nt),isoSecond:S(this,tt)}}static from(e,r){let i=br(dt(r));return lr(e)?new Oa(S(e,Xe),S(e,et),S(e,tt),S(e,rt),S(e,it),S(e,nt)):Ia(e,i)}static compare(e,r){let i=Ia(e),n=Ia(r);for(let o of[Xe,et,tt,rt,it,nt]){let s=S(i,o),f=S(n,o);if(s!==f)return Mu(s-f)}return 0}};Ws(Oa,"Temporal.PlainTime");var x0=class{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");let r=F3(e);Ks(this),at(this,$f,r)}get id(){if(!qs(this))throw new TypeError("invalid receiver");return Je(this)}getOffsetNanosecondsFor(e){if(!qs(this))throw new TypeError("invalid receiver");let r=Ls(e),i=S(this,$f);return u0(i)?ku(i):Pa(S(r,Ve),i)}getOffsetStringFor(e){if(!qs(this))throw new TypeError("invalid receiver");return s3(this,Ls(e))}getPlainDateTimeFor(e,r=wr()){return yn(this,Ls(e),Jr(r))}getInstantFor(e,r){if(!qs(this))throw new TypeError("invalid receiver");return Ci(this,Eu(e),v0(dt(r)))}getPossibleInstantsFor(e){if(!qs(this))throw new TypeError("invalid receiver");let r=Eu(e),i=Ge("%Temporal.Instant%"),n=S(this,$f);if(u0(n)){let o=Yf(S(r,ne),S(r,ae),S(r,fe),S(r,Xe),S(r,et),S(r,tt),S(r,rt),S(r,it),S(r,nt));if(o===null)throw new RangeError("DateTime outside of supported range");let s=ku(n);return[new i(N.default.subtract(o,N.default.BigInt(s)))]}return function(s,f,c,d,l,h,E,b,T,k){let O=Yf(f,c,d,l,h,E,b,T,k);if(O===null)throw new RangeError("DateTime outside of supported range");let D=N.default.subtract(O,Vf);N.default.lessThan(D,p0)&&(D=O);let I=N.default.add(O,Vf);N.default.greaterThan(I,y0)&&(I=O);let L=Pa(D,s),U=Pa(I,s);return(L===U?[L]:[L,U]).map($=>{let K=N.default.subtract(O,N.default.BigInt($)),q=QA(K,s);if(f===q.year&&c===q.month&&d===q.day&&l===q.hour&&h===q.minute&&E===q.second&&b===q.millisecond&&T===q.microsecond&&k===q.nanosecond)return K}).filter($=>$!==void 0)}(n,S(r,ne),S(r,ae),S(r,fe),S(r,Xe),S(r,et),S(r,tt),S(r,rt),S(r,it),S(r,nt)).map(o=>new i(o))}getNextTransition(e){if(!qs(this))throw new TypeError("invalid receiver");let r=Ls(e),i=S(this,$f);if(u0(i)||i==="UTC")return null;let n=S(r,Ve),o=Ge("%Temporal.Instant%");return n=function(f,c){let d=N.default.add(f,OA),l=aA(XA(),d),h=aA(CA,f),E=Pa(h,c),b=h,T=E;for(;E===T&&N.default.lessThan(N.default.BigInt(h),l);)b=N.default.add(h,jA),T=Pa(b,c),E===T&&(h=b);return E===T?null:lT(k=>Pa(k,c),h,b,E,T)}(n,i),n===null?null:new o(n)}getPreviousTransition(e){if(!qs(this))throw new TypeError("invalid receiver");let r=Ls(e),i=S(this,$f);if(u0(i)||i==="UTC")return null;let n=S(r,Ve),o=Ge("%Temporal.Instant%");return n=eT(n,i),n===null?null:new o(n)}toString(){if(!qs(this))throw new TypeError("invalid receiver");return Je(S(this,$f))}toJSON(){if(!qs(this))throw new TypeError("invalid receiver");return Je(this)}static from(e){return Oi(e)}};Ws(x0,"Temporal.TimeZone");var sG=Object.create,S0=class{constructor(e,r,i=wr(),n=1){let o=Vt(e),s=Vt(r),f=Jr(i),c=Vt(n);if(arguments.length<2)throw new RangeError("missing argument: isoYear and isoMonth are required");KA(this,o,s,f,c)}get year(){if(!Mt(this))throw new TypeError("invalid receiver");return Vg(S(this,Y),this)}get month(){if(!Mt(this))throw new TypeError("invalid receiver");return Gg(S(this,Y),this)}get monthCode(){if(!Mt(this))throw new TypeError("invalid receiver");return B0(S(this,Y),this)}get calendar(){if(!Mt(this))throw new TypeError("invalid receiver");return S(this,Y)}get era(){if(!Mt(this))throw new TypeError("invalid receiver");return Yg(S(this,Y),this)}get eraYear(){if(!Mt(this))throw new TypeError("invalid receiver");return Jg(S(this,Y),this)}get daysInMonth(){if(!Mt(this))throw new TypeError("invalid receiver");return C0(S(this,Y),this)}get daysInYear(){if(!Mt(this))throw new TypeError("invalid receiver");return Qg(S(this,Y),this)}get monthsInYear(){if(!Mt(this))throw new TypeError("invalid receiver");return Xg(S(this,Y),this)}get inLeapYear(){if(!Mt(this))throw new TypeError("invalid receiver");return ev(S(this,Y),this)}with(e,r){if(!Mt(this))throw new TypeError("invalid receiver");if(!tr(e))throw new TypeError("invalid argument");$l(e);let i=S(this,Y),n=Er(i,["month","monthCode","year"]),o=ut(e,n,"partial");if(!o)throw new TypeError("invalid year-month-like");let s=ut(this,n,[]);return s=Ru(i,s,o),s=ut(s,n,[]),Pu(i,s,dt(r))}add(e,r){if(!Mt(this))throw new TypeError("invalid receiver");return bA("add",this,e,r)}subtract(e,r){if(!Mt(this))throw new TypeError("invalid receiver");return bA("subtract",this,e,r)}until(e,r){if(!Mt(this))throw new TypeError("invalid receiver");return hA("until",this,e,r)}since(e,r){if(!Mt(this))throw new TypeError("invalid receiver");return hA("since",this,e,r)}equals(e){if(!Mt(this))throw new TypeError("invalid receiver");let r=f0(e);for(let i of[ne,ae,fe])if(S(this,i)!==S(r,i))return!1;return O0(S(this,Y),S(r,Y))}toString(e){if(!Mt(this))throw new TypeError("invalid receiver");return oA(this,k0(dt(e)))}toJSON(){if(!Mt(this))throw new TypeError("invalid receiver");return oA(this)}toLocaleString(e,r){if(!Mt(this))throw new TypeError("invalid receiver");return new tc(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!Mt(this))throw new TypeError("invalid receiver");if(!tr(e))throw new TypeError("argument should be an object");let r=S(this,Y),i=Er(r,["monthCode","year"]),n=ut(this,i,[]),o=Er(r,["day"]),s=Ru(r,n,ut(e,o,[]));s=ut(s,[...new Set([...i,...o])],[]);let f=sG(null);return f.overflow="reject",Zf(r,s,f)}getISOFields(){if(!Mt(this))throw new TypeError("invalid receiver");return{calendar:S(this,Y),isoDay:S(this,fe),isoMonth:S(this,ae),isoYear:S(this,ne)}}static from(e,r){let i=dt(r);return Mt(e)?(br(i),w0(S(e,ne),S(e,ae),S(e,Y),S(e,fe))):f0(e,i)}static compare(e,r){let i=f0(e),n=f0(r);return Hf(S(i,ne),S(i,ae),S(i,fe),S(n,ne),S(n,ae),S(n,fe))}};Ws(S0,"Temporal.PlainYearMonth");var M0=class{constructor(e,r,i=wr()){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");HA(this,d0(e),Oi(r),Jr(i))}get calendar(){if(!le(this))throw new TypeError("invalid receiver");return S(this,Y)}get timeZone(){if(!le(this))throw new TypeError("invalid receiver");return S(this,Dt)}get year(){if(!le(this))throw new TypeError("invalid receiver");return Vg(S(this,Y),ir(this))}get month(){if(!le(this))throw new TypeError("invalid receiver");return Gg(S(this,Y),ir(this))}get monthCode(){if(!le(this))throw new TypeError("invalid receiver");return B0(S(this,Y),ir(this))}get day(){if(!le(this))throw new TypeError("invalid receiver");return Zg(S(this,Y),ir(this))}get hour(){if(!le(this))throw new TypeError("invalid receiver");return S(ir(this),Xe)}get minute(){if(!le(this))throw new TypeError("invalid receiver");return S(ir(this),et)}get second(){if(!le(this))throw new TypeError("invalid receiver");return S(ir(this),tt)}get millisecond(){if(!le(this))throw new TypeError("invalid receiver");return S(ir(this),rt)}get microsecond(){if(!le(this))throw new TypeError("invalid receiver");return S(ir(this),it)}get nanosecond(){if(!le(this))throw new TypeError("invalid receiver");return S(ir(this),nt)}get era(){if(!le(this))throw new TypeError("invalid receiver");return Yg(S(this,Y),ir(this))}get eraYear(){if(!le(this))throw new TypeError("invalid receiver");return Jg(S(this,Y),ir(this))}get epochSeconds(){if(!le(this))throw new TypeError("invalid receiver");let e=S(this,Ve);return N.default.toNumber(N.default.divide(e,Da))}get epochMilliseconds(){if(!le(this))throw new TypeError("invalid receiver");let e=S(this,Ve);return N.default.toNumber(N.default.divide(e,On))}get epochMicroseconds(){if(!le(this))throw new TypeError("invalid receiver");let e=S(this,Ve);return Ug(N.default.divide(e,Bt))}get epochNanoseconds(){if(!le(this))throw new TypeError("invalid receiver");return Ug(S(this,Ve))}get dayOfWeek(){if(!le(this))throw new TypeError("invalid receiver");return j3(S(this,Y),ir(this))}get dayOfYear(){if(!le(this))throw new TypeError("invalid receiver");return N3(S(this,Y),ir(this))}get weekOfYear(){if(!le(this))throw new TypeError("invalid receiver");return q3(S(this,Y),ir(this))}get hoursInDay(){if(!le(this))throw new TypeError("invalid receiver");let e=ir(this),r=Ge("%Temporal.PlainDateTime%"),i=S(e,ne),n=S(e,ae),o=S(e,fe),s=new r(i,n,o,0,0,0,0,0,0),f=Su(i,n,o,0,0,0,1,"reject"),c=new r(f.year,f.month,f.day,0,0,0,0,0,0),d=S(this,Dt),l=S(Ci(d,s,"compatible"),Ve),h=S(Ci(d,c,"compatible"),Ve);return N.default.toNumber(N.default.subtract(h,l))/36e11}get daysInWeek(){if(!le(this))throw new TypeError("invalid receiver");return L3(S(this,Y),ir(this))}get daysInMonth(){if(!le(this))throw new TypeError("invalid receiver");return C0(S(this,Y),ir(this))}get daysInYear(){if(!le(this))throw new TypeError("invalid receiver");return Qg(S(this,Y),ir(this))}get monthsInYear(){if(!le(this))throw new TypeError("invalid receiver");return Xg(S(this,Y),ir(this))}get inLeapYear(){if(!le(this))throw new TypeError("invalid receiver");return ev(S(this,Y),ir(this))}get offset(){if(!le(this))throw new TypeError("invalid receiver");return s3(S(this,Dt),S(this,vi))}get offsetNanoseconds(){if(!le(this))throw new TypeError("invalid receiver");return es(S(this,Dt),S(this,vi))}with(e,r){if(!le(this))throw new TypeError("invalid receiver");if(!tr(e))throw new TypeError("invalid zoned-date-time-like");$l(e);let i=dt(r),n=v0(i),o=n3(i,"prefer"),s=S(this,Dt),f=S(this,Y),c=i3(Er(f,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),"offset"),d=ut(e,c,"partial"),l=i3(c,"timeZone"),h=ut(this,l,["timeZone","offset"]);h=Ru(f,h,d),h=ut(h,l,["timeZone","offset"]);let{year:E,month:b,day:T,hour:k,minute:O,second:D,millisecond:I,microsecond:L,nanosecond:U}=D0(f,h,i);return ii(jg(E,b,T,k,O,D,I,L,U,"option",ku(h.offset),s,n,o,!1),S(this,Dt),f)}withPlainDate(e){if(!le(this))throw new TypeError("invalid receiver");let r=Ht(e),i=S(r,ne),n=S(r,ae),o=S(r,fe),s=S(r,Y),f=ir(this),c=S(f,Xe),d=S(f,et),l=S(f,tt),h=S(f,rt),E=S(f,it),b=S(f,nt);s=VA(S(this,Y),s);let T=S(this,Dt);return ii(S(Ci(T,new(Ge("%Temporal.PlainDateTime%"))(i,n,o,c,d,l,h,E,b,s),"compatible"),Ve),T,s)}withPlainTime(e){if(!le(this))throw new TypeError("invalid receiver");let r=Ge("%Temporal.PlainTime%"),i=e===void 0?new r:Ia(e),n=ir(this),o=S(n,ne),s=S(n,ae),f=S(n,fe),c=S(this,Y),d=S(i,Xe),l=S(i,et),h=S(i,tt),E=S(i,rt),b=S(i,it),T=S(i,nt),k=S(this,Dt);return ii(S(Ci(k,new(Ge("%Temporal.PlainDateTime%"))(o,s,f,d,l,h,E,b,T,c),"compatible"),Ve),k,c)}withTimeZone(e){if(!le(this))throw new TypeError("invalid receiver");let r=Oi(e);return ii(S(this,Ve),r,S(this,Y))}withCalendar(e){if(!le(this))throw new TypeError("invalid receiver");let r=Jr(e);return ii(S(this,Ve),S(this,Dt),r)}add(e,r){if(!le(this))throw new TypeError("invalid receiver");return wA("add",this,e,r)}subtract(e,r){if(!le(this))throw new TypeError("invalid receiver");return wA("subtract",this,e,r)}until(e,r){if(!le(this))throw new TypeError("invalid receiver");return pA("until",this,e,r)}since(e,r){if(!le(this))throw new TypeError("invalid receiver");return pA("since",this,e,r)}round(e){if(!le(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=typeof e=="string"?Ll("smallestUnit",e):dt(e),i=Ur(r,"smallestUnit","time",Tu,["day"]),n=$i(r,"halfExpand"),o=ja(r,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i],!1),s=ir(this),f=S(s,ne),c=S(s,ae),d=S(s,fe),l=S(s,Xe),h=S(s,et),E=S(s,tt),b=S(s,rt),T=S(s,it),k=S(s,nt),O=Ge("%Temporal.PlainDateTime%"),D=S(this,Dt),I=S(this,Y),L=Ci(D,new O(S(s,ne),S(s,ae),S(s,fe),0,0,0,0,0,0),"compatible"),U=jn(L,D,I,0,0,0,1,0,0,0,0,0,0),$=N.default.subtract(U,N.default.BigInt(S(L,Ve)));if(N.default.equal($,vr))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero-length days");return{year:f,month:c,day:d,hour:l,minute:h,second:E,millisecond:b,microsecond:T,nanosecond:k}=Z3(f,c,d,l,h,E,b,T,k,o,i,n,N.default.toNumber($)),ii(jg(f,c,d,l,h,E,b,T,k,"option",es(D,S(this,vi)),D,"compatible","prefer",!1),D,S(this,Y))}equals(e){if(!le(this))throw new TypeError("invalid receiver");let r=c0(e),i=S(this,Ve),n=S(r,Ve);return!!N.default.equal(N.default.BigInt(i),N.default.BigInt(n))&&!!GA(S(this,Dt),S(r,Dt))&&O0(S(this,Y),S(r,Y))}toString(e){if(!le(this))throw new TypeError("invalid receiver");let r=dt(e),{precision:i,unit:n,increment:o}=I0(r),s=$i(r,"trunc");return sA(this,i,k0(r),function(c){return Qf(c,"timeZoneName",["auto","never"],"auto")}(r),function(c){return Qf(c,"offset",["auto","never"],"auto")}(r),{unit:n,increment:o,roundingMode:s})}toLocaleString(e,r){if(!le(this))throw new TypeError("invalid receiver");return new tc(e,r).format(this)}toJSON(){if(!le(this))throw new TypeError("invalid receiver");return sA(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!le(this))throw new TypeError("invalid receiver");let e=ir(this),r=Ge("%Temporal.PlainDateTime%"),i=S(this,Y),n=new r(S(e,ne),S(e,ae),S(e,fe),0,0,0,0,0,0,i),o=S(this,Dt);return ii(S(Ci(o,n,"compatible"),Ve),o,i)}toInstant(){if(!le(this))throw new TypeError("invalid receiver");return new(Ge("%Temporal.Instant%"))(S(this,Ve))}toPlainDate(){if(!le(this))throw new TypeError("invalid receiver");return Nl(ir(this))}toPlainTime(){if(!le(this))throw new TypeError("invalid receiver");return U3(ir(this))}toPlainDateTime(){if(!le(this))throw new TypeError("invalid receiver");return ir(this)}toPlainYearMonth(){if(!le(this))throw new TypeError("invalid receiver");let e=S(this,Y);return Pu(e,ut(this,Er(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!le(this))throw new TypeError("invalid receiver");let e=S(this,Y);return jl(e,ut(this,Er(e,["day","monthCode"]),[]))}getISOFields(){if(!le(this))throw new TypeError("invalid receiver");let e=ir(this),r=S(this,Dt);return{calendar:S(this,Y),isoDay:S(e,fe),isoHour:S(e,Xe),isoMicrosecond:S(e,it),isoMillisecond:S(e,rt),isoMinute:S(e,et),isoMonth:S(e,ae),isoNanosecond:S(e,nt),isoSecond:S(e,tt),isoYear:S(e,ne),offset:s3(r,S(this,vi)),timeZone:r}}static from(e,r){let i=dt(r);return le(e)?(br(i),v0(i),n3(i,"reject"),ii(S(e,Ve),S(e,Dt),S(e,Y))):c0(e,i)}static compare(e,r){let i=c0(e),n=c0(r),o=S(i,Ve),s=S(n,Ve);return N.default.lessThan(N.default.BigInt(o),N.default.BigInt(s))?-1:N.default.greaterThan(N.default.BigInt(o),N.default.BigInt(s))?1:0}};function ir(t){return yn(S(t,Dt),S(t,vi),S(t,Y))}Ws(M0,"Temporal.ZonedDateTime");var MT=Object.freeze({__proto__:null,Instant:Cn,Calendar:Fl,PlainDate:Bu,PlainDateTime:Cu,Duration:Us,PlainMonthDay:E0,Now:ST,PlainTime:Oa,TimeZone:x0,PlainYearMonth:S0,ZonedDateTime:M0});var aG=[Cn,Fl,Bu,Cu,Us,E0,Oa,x0,S0,M0];for(let t of aG){let e=Object.getOwnPropertyDescriptor(t,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(t,"prototype",e))}function t6(t){return new Promise(e=>setTimeout(e,t))}function sn(){return MT.Now.instant().toString({smallestUnit:"microseconds"})}async function os(t,e){let{Level:r}=await Promise.resolve().then(()=>bt(qR(),1));return new r(t,{...e,keyEncoding:"utf8"})}var ns=class{constructor(e,r){this.config={createLevelDatabase:os,...e},this.db=r}async open(){for(await this.createLevelDatabase();this.db.status==="opening"||this.db.status==="closing";)await t6(200);if(this.db.status!=="open")return this.db.open()}async close(){if(this.db){for(;this.db.status==="opening"||this.db.status==="closing";)await t6(200);if(this.db.status!=="closed")return this.db.close()}}async partition(e){return await this.createLevelDatabase(),new ns(this.config,this.db.sublevel(e,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))}async get(e,r){r?.signal?.throwIfAborted(),await ri(r?.signal,this.createLevelDatabase());try{return await ri(r?.signal,this.db.get(String(e)))}catch(i){if(i.code==="LEVEL_NOT_FOUND")return;throw i}}async has(e,r){return!!await this.get(e,r)}async*keys(e){e?.signal?.throwIfAborted(),await ri(e?.signal,this.createLevelDatabase());for await(let r of this.db.keys())e?.signal?.throwIfAborted(),yield r}async*iterator(e,r){r?.signal?.throwIfAborted(),await ri(r?.signal,this.createLevelDatabase());for await(let i of this.db.iterator(e))r?.signal?.throwIfAborted(),yield i}async put(e,r,i){return i?.signal?.throwIfAborted(),await ri(i?.signal,this.createLevelDatabase()),ri(i?.signal,this.db.put(String(e),r))}async delete(e,r){return r?.signal?.throwIfAborted(),await ri(r?.signal,this.createLevelDatabase()),ri(r?.signal,this.db.del(String(e)))}async isEmpty(e){for await(let r of this.keys(e))return!1;return!0}async clear(){await this.createLevelDatabase(),await this.db.clear(),await this.compactUnderlyingStorage()}async batch(e,r){return r?.signal?.throwIfAborted(),await ri(r?.signal,this.createLevelDatabase()),ri(r?.signal,this.db.batch(e))}async compactUnderlyingStorage(e){e?.signal?.throwIfAborted(),await ri(e?.signal,this.createLevelDatabase());let r=this.sublevelRange;if(!r)return;let i=this.root;if(i.db.supports.additionalMethods.compactRange)return ri(e?.signal,i.db.compactRange?.(...r))}get sublevelRange(){let e=this.db.prefix;if(e)return[e,e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+1)]}get root(){let e=this.db;for(let r=e.db;r&&r!==e;)e=r;return new ns(this.config,e)}async createLevelDatabase(){this.db??=await this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})}async dump(){if(this.db)for await(let[e,r]of this.db.iterator())console.debug(e,r)}};var dc=class{constructor(e,r){this.config={createLevelDatabase:os,...e},this.db=r??new ns({...this.config,valueEncoding:"binary"})}async open(){return this.db.open()}async close(){return this.db.close()}async partition(e){let r=await this.db.partition(e);return new dc({...this.config,location:""},r)}async put(e,r,i){return await this.db.put(String(e),r,i),He.parse(e.toString())}async get(e,r){return await this.db.get(String(e),r)}async has(e,r){return this.db.has(String(e),r)}async delete(e,r){return this.db.delete(String(e),r)}async isEmpty(e){return this.db.isEmpty(e)}async*putMany(e,r){for await(let i of e)await this.put(i.cid,i.block,r),yield i.cid}async*getMany(e,r){for await(let i of e)yield{cid:i,block:await this.get(i,r)}}async*getAll(e){let r=this.db.iterator({keys:!0,keyEncoding:"buffer"},e);for await(let[i,n]of r)yield{cid:He.decode(i),block:n}}async*deleteMany(e,r){for await(let i of e)await this.delete(i,r),yield i}async clear(){return this.db.clear()}async dump(){console.group("db"),await this.db.dump?.(),console.groupEnd()}};x();var Hv=bt(hn(),1);x();var pP=bt(hn(),1);x();var hy=bt(hn(),1);x();var hZ=async function(t){return(await Eg.encode(t)).slice(0,8).reverse()},pZ=async(t,e,r)=>{await Promise.all(t.map(async i=>{if(i.Name==null)throw new Error("Unexpected Link without a Name");if(i.Name.length===2){let n=parseInt(i.Name,16);e._putObjectAt(n,new mi({hash:r._options.hash,bits:r._options.bits},e,n));return}await r.put(i.Name.substring(2),!0)}))},LR=t=>t.toString(16).toUpperCase().padStart(2,"0").substring(0,2),yZ=t=>{let e=t.bucket,r=[];for(;e._parent!=null;)r.push(e),e=e._parent;return r.push(e),r.reverse()},UR=async(t,e,r,i,n)=>{if(i==null){let l=bg({hashFn:hZ});i={rootBucket:l,hamtDepth:1,lastBucket:l}}await pZ(t.Links,i.lastBucket,i.rootBucket);let o=await i.rootBucket._findNewBucketAndPos(e),s=LR(o.pos),f=yZ(o);f.length>i.hamtDepth&&(i.lastBucket=f[i.hamtDepth],s=LR(i.lastBucket._posAtParent));let c=t.Links.find(l=>{if(l.Name==null)return!1;let h=l.Name.substring(0,2),E=l.Name.substring(2);return!(h!==s||E!==""&&E!==e)});if(c==null)return;if(c.Name!=null&&c.Name.substring(2)===e)return c.Hash;i.hamtDepth++;let d=await r.get(c.Hash,n);return t=Aa(d),await UR(t,e,r,i,n)},FR=UR;x();x();function mZ(t,e,r,i){let n=BigInt(t.length),o=BigInt(e+n);return r>=o||i<e?new Uint8Array(0):(i>=e&&i<o&&(t=t.subarray(0,Number(i-e))),r>=e&&r<o&&(t=t.subarray(Number(r-e))),t)}var Ju=mZ;x();var iy=bt(hn(),1),gZ=(t,e=0,r=t)=>{let i=BigInt(t),n=BigInt(e??0),o=BigInt(r);if(o!==i&&(o=n+o),o>i&&(o=i),n<0n)throw(0,iy.default)(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(n>i)throw(0,iy.default)(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(o<0n)throw(0,iy.default)(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(o>i)throw(0,iy.default)(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:n,end:o}},rh=gZ;var ed=bt(hn(),1);x();x();var Cv=class{constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}},ih=class{constructor(e={}){this.hwm=e.splitLimit??16,this.head=new Cv(this.hwm),this.tail=this.head,this.size=0}calculateSize(e){return e?.byteLength!=null?e.byteLength:1}push(e){if(e?.value!=null&&(this.size+=this.calculateSize(e.value)),!this.head.push(e)){let r=this.head;this.head=r.next=new Cv(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next!=null){let r=this.tail.next;this.tail.next=null,this.tail=r,e=this.tail.shift()}return e?.value!=null&&(this.size-=this.calculateSize(e.value)),e}isEmpty(){return this.head.isEmpty()}};function nh(t={}){return vZ(r=>{let i=r.shift();if(i==null)return{done:!0};if(i.error!=null)throw i.error;return{done:i.done===!0,value:i.value}},t)}function vZ(t,e){e=e??{};let r=e.onEnd,i=new ih,n,o,s,f=async()=>i.isEmpty()?s?{done:!0}:await new Promise((k,O)=>{o=D=>{o=null,i.push(D);try{k(t(i))}catch(I){O(I)}return n}}):t(i),c=k=>o!=null?o(k):(i.push(k),n),d=k=>(i=new ih,o!=null?o({error:k}):(i.push({error:k}),n)),l=k=>{if(s)return n;if(e?.objectMode!==!0&&k?.byteLength==null)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return c({done:!1,value:k})},h=k=>s?n:(s=!0,k!=null?d(k):c({done:!0})),E=()=>(i=new ih,h(),{done:!0}),b=k=>(h(k),{done:!0});if(n={[Symbol.asyncIterator](){return this},next:f,return:E,throw:b,push:l,end:h,get readableLength(){return i.size}},r==null)return n;let T=n;return n={[Symbol.asyncIterator](){return this},next(){return T.next()},throw(k){return T.throw(k),r!=null&&(r(k),r=void 0),{done:!0}},return(){return T.return(),r!=null&&(r(),r=void 0),{done:!0}},push:l,end(k){return T.end(k),r!=null&&(r(k),r=void 0),n},get readableLength(){return T.readableLength}},n}x();x();function oh(){let t={};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t}var Ov=globalThis.CustomEvent??Event;async function*Qu(t,e={}){let r=e.concurrency??1/0;r<1&&(r=1/0);let i=e.ordered==null?!1:e.ordered,n=new EventTarget,o=[],s=oh(),f=oh(),c=!1,d,l=!1;n.addEventListener("task-complete",()=>{f.resolve()}),Promise.resolve().then(async()=>{try{for await(let T of t){if(o.length===r&&(s=oh(),await s.promise),l)break;let k={done:!1};o.push(k),T().then(O=>{k.done=!0,k.ok=!0,k.value=O,n.dispatchEvent(new Ov("task-complete"))},O=>{k.done=!0,k.err=O,n.dispatchEvent(new Ov("task-complete"))})}c=!0,n.dispatchEvent(new Ov("task-complete"))}catch(T){d=T,n.dispatchEvent(new Ov("task-complete"))}});function h(){return i?o[0]?.done:Boolean(o.find(T=>T.done))}function*E(){for(;o.length>0&&o[0].done;){let T=o[0];if(o.shift(),T.ok)yield T.value;else throw l=!0,s.resolve(),T.err;s.resolve()}}function*b(){for(;h();)for(let T=0;T<o.length;T++)if(o[T].done){let k=o[T];if(o.splice(T,1),T--,k.ok)yield k.value;else throw l=!0,s.resolve(),k.err;s.resolve()}}for(;;){if(h()||(f=oh(),await f.promise),d!=null)throw d;if(i?yield*E():yield*b(),c&&o.length===0)break}}x();x();function bZ(t){return t[Symbol.asyncIterator]!=null}function wZ(...t){let e=[];for(let r of t)bZ(r)||e.push(r);return e.length===t.length?function*(){for(let r of e)yield*r}():async function*(){let r=nh({objectMode:!0});Promise.resolve().then(async()=>{try{await Promise.all(t.map(async i=>{for await(let n of i)r.push(n)})),r.end()}catch(i){r.end(i)}}),yield*r}()}var zR=wZ;function sh(t,...e){if(t==null)throw new Error("Empty pipeline");if(V6(t)){let i=t;t=()=>i.source}else if(WR(t)||$R(t)){let i=t;t=()=>i}let r=[t,...e];if(r.length>1&&V6(r[r.length-1])&&(r[r.length-1]=r[r.length-1].sink),r.length>2)for(let i=1;i<r.length-1;i++)V6(r[i])&&(r[i]=EZ(r[i]));return _Z(...r)}var _Z=(...t)=>{let e;for(;t.length>0;)e=t.shift()(e);return e},$R=t=>t?.[Symbol.asyncIterator]!=null,WR=t=>t?.[Symbol.iterator]!=null,V6=t=>t==null?!1:t.sink!=null&&t.source!=null,EZ=t=>e=>{let r=t.sink(e);if(r?.then!=null){let i=nh({objectMode:!0});r.then(()=>{i.end()},s=>{i.end(s)});let n,o=t.source;if($R(o))n=async function*(){yield*o,i.end()};else if(WR(o))n=function*(){yield*o,i.end()};else throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");return zR(i,n())}return t.source};x();x();function xZ(t){let[e,r]=t[Symbol.asyncIterator]!=null?[t[Symbol.asyncIterator](),Symbol.asyncIterator]:[t[Symbol.iterator](),Symbol.iterator],i=[];return{peek:()=>e.next(),push:n=>{i.push(n)},next:()=>i.length>0?{done:!1,value:i.shift()}:e.next(),[r](){return this}}}var jv=xZ;function SZ(t){return t[Symbol.asyncIterator]!=null}function MZ(t,e){if(SZ(t))return async function*(){for await(let f of t)yield e(f)}();let r=jv(t),{value:i,done:n}=r.next();if(n===!0)return function*(){}();let o=e(i);if(typeof o.then=="function")return async function*(){yield await o;for await(let f of r)yield e(f)}();let s=e;return function*(){yield o;for(let f of r)yield s(f)}()}var ah=MZ;x();var tP=bt(HR(),1);x();var oy=class extends Error{constructor(e){super(e),this.name="TimeoutError"}},Z6=class extends Error{constructor(e){super(),this.name="AbortError",this.message=e}},VR=t=>globalThis.DOMException===void 0?new Z6(t):new DOMException(t),GR=t=>{let e=t.reason===void 0?VR("This operation was aborted."):t.reason;return e instanceof Error?e:VR(e)};function Y6(t,e,r,i){let n,o=new Promise((s,f)=>{if(typeof e!="number"||Math.sign(e)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e===Number.POSITIVE_INFINITY){s(t);return}if(i={customTimers:{setTimeout,clearTimeout},...i},i.signal){let{signal:c}=i;c.aborted&&f(GR(c)),c.addEventListener("abort",()=>{f(GR(c))})}n=i.customTimers.setTimeout.call(void 0,()=>{if(typeof r=="function"){try{s(r())}catch(l){f(l)}return}let c=typeof r=="string"?r:`Promise timed out after ${e} milliseconds`,d=r instanceof Error?r:new oy(c);typeof t.cancel=="function"&&t.cancel(),f(d)},e),(async()=>{try{s(await t)}catch(c){f(c)}finally{i.customTimers.clearTimeout.call(void 0,n)}})()});return o.clear=()=>{clearTimeout(n),n=void 0},o}x();x();function J6(t,e,r){let i=0,n=t.length;for(;n>0;){let o=Math.trunc(n/2),s=i+o;r(t[s],e)<=0?(i=++s,n-=o+1):n=o}return i}var Xu=function(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)},Wa,sy=class{constructor(){Wa.set(this,[])}enqueue(e,r){r={priority:0,...r};let i={priority:r.priority,run:e};if(this.size&&Xu(this,Wa,"f")[this.size-1].priority>=r.priority){Xu(this,Wa,"f").push(i);return}let n=J6(Xu(this,Wa,"f"),i,(o,s)=>s.priority-o.priority);Xu(this,Wa,"f").splice(n,0,i)}dequeue(){let e=Xu(this,Wa,"f").shift();return e?.run}filter(e){return Xu(this,Wa,"f").filter(r=>r.priority===e.priority).map(r=>r.run)}get size(){return Xu(this,Wa,"f").length}};Wa=new WeakMap;var xr=function(t,e,r,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r},Ke=function(t,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)},zr,fy,cy,hc,$v,uy,qv,ss,ay,Un,Lv,Fn,dy,lc,Uv,ZR,YR,XR,JR,QR,Fv,Q6,X6,Wv,eP,zv,Kv=class extends Error{},ly=class extends tP.default{constructor(e){var r,i,n,o;if(super(),zr.add(this),fy.set(this,void 0),cy.set(this,void 0),hc.set(this,0),$v.set(this,void 0),uy.set(this,void 0),qv.set(this,0),ss.set(this,void 0),ay.set(this,void 0),Un.set(this,void 0),Lv.set(this,void 0),Fn.set(this,0),dy.set(this,void 0),lc.set(this,void 0),Uv.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:sy,...e},!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(i=(r=e.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(o=(n=e.interval)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:""}\` (${typeof e.interval})`);xr(this,fy,e.carryoverConcurrencyCount,"f"),xr(this,cy,e.intervalCap===Number.POSITIVE_INFINITY||e.interval===0,"f"),xr(this,$v,e.intervalCap,"f"),xr(this,uy,e.interval,"f"),xr(this,Un,new e.queueClass,"f"),xr(this,Lv,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,xr(this,Uv,e.throwOnTimeout===!0,"f"),xr(this,lc,e.autoStart===!1,"f")}get concurrency(){return Ke(this,dy,"f")}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);xr(this,dy,e,"f"),Ke(this,zr,"m",Wv).call(this)}async add(e,r={}){return r={timeout:this.timeout,throwOnTimeout:Ke(this,Uv,"f"),...r},new Promise((i,n)=>{Ke(this,Un,"f").enqueue(async()=>{var o,s,f;xr(this,Fn,(s=Ke(this,Fn,"f"),s++,s),"f"),xr(this,hc,(f=Ke(this,hc,"f"),f++,f),"f");try{if(!((o=r.signal)===null||o===void 0)&&o.aborted)throw new Kv("The task was aborted.");let c=e({signal:r.signal});r.timeout&&(c=Y6(Promise.resolve(c),r.timeout)),r.signal&&(c=Promise.race([c,Ke(this,zr,"m",eP).call(this,r.signal)]));let d=await c;i(d),this.emit("completed",d)}catch(c){if(c instanceof oy&&!r.throwOnTimeout){i();return}n(c),this.emit("error",c)}finally{Ke(this,zr,"m",XR).call(this)}},r),this.emit("add"),Ke(this,zr,"m",Fv).call(this)})}async addAll(e,r){return Promise.all(e.map(async i=>this.add(i,r)))}start(){return Ke(this,lc,"f")?(xr(this,lc,!1,"f"),Ke(this,zr,"m",Wv).call(this),this):this}pause(){xr(this,lc,!0,"f")}clear(){xr(this,Un,new(Ke(this,Lv,"f")),"f")}async onEmpty(){Ke(this,Un,"f").size!==0&&await Ke(this,zr,"m",zv).call(this,"empty")}async onSizeLessThan(e){Ke(this,Un,"f").size<e||await Ke(this,zr,"m",zv).call(this,"next",()=>Ke(this,Un,"f").size<e)}async onIdle(){Ke(this,Fn,"f")===0&&Ke(this,Un,"f").size===0||await Ke(this,zr,"m",zv).call(this,"idle")}get size(){return Ke(this,Un,"f").size}sizeBy(e){return Ke(this,Un,"f").filter(e).length}get pending(){return Ke(this,Fn,"f")}get isPaused(){return Ke(this,lc,"f")}};fy=new WeakMap,cy=new WeakMap,hc=new WeakMap,$v=new WeakMap,uy=new WeakMap,qv=new WeakMap,ss=new WeakMap,ay=new WeakMap,Un=new WeakMap,Lv=new WeakMap,Fn=new WeakMap,dy=new WeakMap,lc=new WeakMap,Uv=new WeakMap,zr=new WeakSet,ZR=function(){return Ke(this,cy,"f")||Ke(this,hc,"f")<Ke(this,$v,"f")},YR=function(){return Ke(this,Fn,"f")<Ke(this,dy,"f")},XR=function(){var e;xr(this,Fn,(e=Ke(this,Fn,"f"),e--,e),"f"),Ke(this,zr,"m",Fv).call(this),this.emit("next")},JR=function(){Ke(this,zr,"m",X6).call(this),Ke(this,zr,"m",Q6).call(this),xr(this,ay,void 0,"f")},QR=function(){let e=Date.now();if(Ke(this,ss,"f")===void 0){let r=Ke(this,qv,"f")-e;if(r<0)xr(this,hc,Ke(this,fy,"f")?Ke(this,Fn,"f"):0,"f");else return Ke(this,ay,"f")===void 0&&xr(this,ay,setTimeout(()=>{Ke(this,zr,"m",JR).call(this)},r),"f"),!0}return!1},Fv=function(){if(Ke(this,Un,"f").size===0)return Ke(this,ss,"f")&&clearInterval(Ke(this,ss,"f")),xr(this,ss,void 0,"f"),this.emit("empty"),Ke(this,Fn,"f")===0&&this.emit("idle"),!1;if(!Ke(this,lc,"f")){let e=!Ke(this,zr,"a",QR);if(Ke(this,zr,"a",ZR)&&Ke(this,zr,"a",YR)){let r=Ke(this,Un,"f").dequeue();return r?(this.emit("active"),r(),e&&Ke(this,zr,"m",Q6).call(this),!0):!1}}return!1},Q6=function(){Ke(this,cy,"f")||Ke(this,ss,"f")!==void 0||(xr(this,ss,setInterval(()=>{Ke(this,zr,"m",X6).call(this)},Ke(this,uy,"f")),"f"),xr(this,qv,Date.now()+Ke(this,uy,"f"),"f"))},X6=function(){Ke(this,hc,"f")===0&&Ke(this,Fn,"f")===0&&Ke(this,ss,"f")&&(clearInterval(Ke(this,ss,"f")),xr(this,ss,void 0,"f")),xr(this,hc,Ke(this,fy,"f")?Ke(this,Fn,"f"):0,"f"),Ke(this,zr,"m",Wv).call(this)},Wv=function(){for(;Ke(this,zr,"m",Fv).call(this););},eP=async function(e){return new Promise((r,i)=>{e.addEventListener("abort",()=>{i(new Kv("The task was aborted."))},{once:!0})})},zv=async function(e,r){return new Promise(i=>{let n=()=>{r&&!r()||(this.off(e,n),i())};this.on(e,n)})};async function rP(t,e,r,i,n,o,s){if(e instanceof Uint8Array){let d=Ju(e,i,n,o);r.push(d);return}if(e.Data==null)throw(0,ed.default)(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let f;try{f=Vr.unmarshal(e.Data)}catch(d){throw(0,ed.default)(d,"ERR_NOT_UNIXFS")}if(f.data!=null){let d=f.data,l=Ju(d,i,n,o);r.push(l),i+=BigInt(l.byteLength)}let c=[];if(e.Links.length!==f.blockSizes.length)throw(0,ed.default)(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let d=0;d<e.Links.length;d++){let l=e.Links[d],h=i,E=h+f.blockSizes[d];if((n>=h&&n<E||o>=h&&o<=E||n<h&&o>E)&&c.push({link:l,blockStart:i}),i=E,i>o)break}await sh(c,d=>ah(d,l=>async()=>{let h=await t.get(l.link.Hash,s);return{...l,block:h}}),d=>Qu(d,{ordered:!0}),async d=>{for await(let{link:l,block:h,blockStart:E}of d){let b;switch(l.Hash.code){case Xp:b=Aa(h);break;case Os:b=h;break;default:r.end((0,ed.default)(new Error(`Unsupported codec: ${l.Hash.code}`),"ERR_NOT_UNIXFS"));return}let T=new ly({concurrency:1});T.on("error",k=>{r.end(k)}),T.add(async()=>{s.onProgress?.(new Tr("unixfs:exporter:walk:file",{cid:l.Hash})),await rP(t,b,r,E,n,o,s)}),await T.onIdle()}}),i>=o&&r.end()}var RZ=(t,e,r,i,n,o,s)=>{async function*f(c={}){let d=r.fileSize();if(d===void 0)throw new Error("File was a directory");let{start:l,end:h}=rh(d,c.offset,c.length);if(h===0n)return;let E=0n,b=h-l,T=nh();c.onProgress?.(new Tr("unixfs:exporter:walk:file",{cid:t})),rP(s,e,T,0n,l,h,c).catch(k=>{T.end(k)});for await(let k of T)if(k!=null){if(E+=BigInt(k.byteLength),E>b)throw T.end(),(0,ed.default)(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");E===b&&T.end(),c.onProgress?.(new Tr("unixfs:exporter:progress:unixfs:file",{bytesRead:E,totalBytes:b,fileSize:d})),yield k}if(E<b)throw(0,ed.default)(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")}return f},e4=RZ;x();x();function PZ(t){return t[Symbol.asyncIterator]!=null}function kZ(t,e){if(PZ(t))return async function*(){for await(let f of t)await e(f)&&(yield f)}();let r=jv(t),{value:i,done:n}=r.next();if(n===!0)return function*(){}();let o=e(i);if(typeof o.then=="function")return async function*(){await o&&(yield i);for await(let f of r)await e(f)&&(yield f)}();let s=e;return function*(){o===!0&&(yield i);for(let f of r)s(f)&&(yield f)}()}var iP=kZ;var IZ=(t,e,r,i,n,o,s)=>{async function*f(c={}){let d=c.offset??0,l=c.length??e.Links.length,h=e.Links.slice(d,l);c.onProgress?.(new Tr("unixfs:exporter:walk:directory",{cid:t})),yield*sh(h,E=>ah(E,b=>async()=>{let T=b.Name??"",k=`${i}/${T}`;return(await n(b.Hash,T,k,[],o+1,s,c)).entry}),E=>Qu(E,{ordered:!0}),E=>iP(E,b=>b!=null))}return f},nP=IZ;x();var DZ=(t,e,r,i,n,o,s)=>{function f(c={}){return c.onProgress?.(new Tr("unixfs:exporter:walk:hamt-sharded-directory",{cid:t})),oP(e,i,n,o,s,c)}return f};async function*oP(t,e,r,i,n,o){let s=t.Links,f=sh(s,c=>ah(c,d=>async()=>{let l=d.Name!=null?d.Name.substring(2):null;if(l!=null&&l!==""){let h=await r(d.Hash,l,`${e}/${l}`,[],i+1,n,o);return{entries:h.entry==null?[]:[h.entry]}}else{let h=await n.get(d.Hash,o);return t=Aa(h),o.onProgress?.(new Tr("unixfs:exporter:walk:hamt-sharded-directory",{cid:d.Hash})),{entries:oP(t,e,r,i,n,o)}}}),c=>Qu(c,{ordered:!0}));for await(let{entries:c}of f)yield*c}var sP=DZ;var BZ=(t,e)=>t.Links.find(i=>i.Name===e)?.Hash,CZ={raw:e4,file:e4,directory:nP,"hamt-sharded-directory":sP,metadata:(t,e,r,i,n,o,s)=>()=>[],symlink:(t,e,r,i,n,o,s)=>()=>[]},OZ=async(t,e,r,i,n,o,s,f)=>{let c=await s.get(t,f),d=Aa(c),l,h;if(e==null&&(e=t.toString()),d.Data==null)throw(0,hy.default)(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{l=Vr.unmarshal(d.Data)}catch(b){throw(0,hy.default)(b,"ERR_NOT_UNIXFS")}if(r==null&&(r=e),i.length>0){let b;if(l?.type==="hamt-sharded-directory"?b=await FR(d,i[0],s):b=BZ(d,i[0]),b==null)throw(0,hy.default)(new Error("file does not exist"),"ERR_NOT_FOUND");let T=i.shift(),k=`${r}/${T}`;h={cid:b,toResolve:i,name:T??"",path:k}}let E=CZ[l.type](t,d,l,r,n,o,s);if(E==null)throw(0,hy.default)(new Error("could not find content exporter"),"ERR_NOT_FOUND");return l.isDirectory()?{entry:{type:"directory",name:e,path:r,cid:t,content:E,unixfs:l,depth:o,node:d,size:l.fileSize()},next:h}:{entry:{type:"file",name:e,path:r,cid:t,content:E,unixfs:l,depth:o,node:d,size:l.fileSize()},next:h}},aP=OZ;x();var fP=bt(hn(),1);var jZ=t=>{async function*e(r={}){let{start:i,end:n}=rh(t.length,r.offset,r.length),o=Ju(t,0n,i,n);r.onProgress?.(new Tr("unixfs:exporter:progress:raw",{bytesRead:BigInt(o.byteLength),totalBytes:n-i,fileSize:BigInt(t.byteLength)})),yield o}return e},NZ=async(t,e,r,i,n,o,s,f)=>{if(i.length>0)throw(0,fP.default)(new Error(`No link named ${r} found in raw node ${t}`),"ERR_NOT_FOUND");let c=await s.get(t,f);return{entry:{type:"raw",name:e,path:r,cid:t,content:jZ(c),depth:o,size:BigInt(c.length),node:c}}},cP=NZ;x();var uP=bt(hn(),1);var qZ=async(t,e,r,i,n,o,s,f)=>{let c=await s.get(t,f),d=n_(c),l=d,h=r;for(;i.length>0;){let E=i[0];if(E in l){i.shift(),h=`${h}/${E}`;let b=He.asCID(l[E]);if(b!=null)return{entry:{type:"object",name:e,path:r,cid:t,node:c,depth:o,size:BigInt(c.length),content:async function*(){yield d}},next:{cid:b,name:E,path:h,toResolve:i}};l=l[E]}else throw(0,uP.default)(new Error(`No property named ${E} found in cbor node ${t}`),"ERR_NO_PROP")}return{entry:{type:"object",name:e,path:r,cid:t,node:c,depth:o,size:BigInt(c.length),content:async function*(){yield d}}}},dP=qZ;x();var lP=bt(hn(),1);var LZ=t=>{async function*e(r={}){let{start:i,end:n}=rh(t.length,r.offset,r.length),o=Ju(t,0n,i,n);r.onProgress?.(new Tr("unixfs:exporter:progress:identity",{bytesRead:BigInt(o.byteLength),totalBytes:n-i,fileSize:BigInt(t.byteLength)})),yield o}return e},UZ=async(t,e,r,i,n,o,s,f)=>{if(i.length>0)throw(0,lP.default)(new Error(`No link named ${r} found in raw node ${t}`),"ERR_NOT_FOUND");let c=xl(t.multihash.bytes);return{entry:{type:"identity",name:e,path:r,cid:t,content:LZ(c.digest),depth:o,size:BigInt(c.digest.length),node:c.digest}}},hP=UZ;var FZ={[Xp]:aP,[Os]:cP,[Ml]:dP,[N_.code]:hP},yP=async(t,e,r,i,n,o,s)=>{let f=FZ[t.code];if(f==null)throw(0,pP.default)(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return await f(t,e,r,i,yP,n,o,s)},mP=yP;x();function zZ(t){return t[Symbol.asyncIterator]!=null}function $Z(t){if(zZ(t))return(async()=>{let r;for await(let i of t)r=i;return r})();let e;for(let r of t)e=r;return e}var gP=$Z;var WZ=(t="")=>(t.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean),KZ=t=>{if(t instanceof Uint8Array)return{cid:He.decode(t),toResolve:[]};let e=He.asCID(t);if(e!=null)return{cid:e,toResolve:[]};if(typeof t=="string"){t.indexOf("/ipfs/")===0&&(t=t.substring(6));let r=WZ(t);return{cid:He.parse(r[0]),toResolve:r.slice(1)}}throw(0,Hv.default)(new Error(`Unknown path type ${t}`),"ERR_BAD_PATH")};async function*HZ(t,e,r={}){let{cid:i,toResolve:n}=KZ(t),o=i.toString(),s=o,f=n.length;for(;;){let c=await mP(i,o,s,n,f,e,r);if(c.entry==null&&c.next==null)throw(0,Hv.default)(new Error(`Could not resolve ${t}`),"ERR_NOT_FOUND");if(c.entry!=null&&(yield c.entry),c.next==null)return;n=c.next.toResolve,i=c.next.cid,o=c.next.name,s=c.next.path}}async function t4(t,e,r={}){let i=await gP(HZ(t,e,r));if(i==null)throw(0,Hv.default)(new Error(`Could not resolve ${t}`),"ERR_NOT_FOUND");return i}var HI=bt(xb(),1),KI=new Uint8Array,Ey=class{constructor(e={}){this.config={blockstoreLocation:"DATASTORE",createLevelDatabase:os,...e},this.blockstore=new dc({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}async open(){await this.blockstore.open()}async close(){await this.blockstore.close()}async put(e,r,i,n){await(await this.getBlockstoreForReferenceCounting(e,i)).put(r,KI);let s=await this.getBlockstoreForStoringData(e,i),f=n0([{content:n}],s,{cidVersion:1}),c;for await(c of f);return{dataCid:String(c.cid),dataSize:Number(c.unixfs?.fileSize()??c.size)}}async get(e,r,i){if(!await(await this.getBlockstoreForReferenceCounting(e,i)).has(r))return;let s=await this.getBlockstoreForStoringData(e,i);if(!await s.has(i))return;let c=await t4(i,s),d=c.content(),l=new HI.Readable({async read(){let E=await d.next();E.done?this.push(null):this.push(E.value)}}),h=c.size;return(c.type==="file"||c.type==="directory")&&(h=c.unixfs.fileSize()),{dataCid:String(c.cid),dataSize:Number(h),dataStream:l}}async associate(e,r,i){let n=await this.getBlockstoreForReferenceCounting(e,i);if(await n.isEmpty())return;let s=await this.getBlockstoreForStoringData(e,i);if(!await s.has(i))return;await n.put(r,KI);let c=await t4(i,s),d=c.size;return(c.type==="file"||c.type==="directory")&&(d=c.unixfs.fileSize()),{dataCid:String(c.cid),dataSize:Number(d)}}async delete(e,r,i){let n=await this.getBlockstoreForReferenceCounting(e,i);if(await n.delete(r),!await n.isEmpty())return;await(await this.getBlockstoreForStoringData(e,i)).clear()}async clear(){await this.blockstore.clear()}async dump(){console.group("blockstore"),await this.blockstore.dump?.(),console.groupEnd()}async getBlockstoreForReferenceCounting(e,r){let i="references";return await(await(await this.blockstore.partition(i)).partition(e)).partition(r)}async getBlockstoreForStoringData(e,r){let i="data";return await(await(await this.blockstore.partition(i)).partition(e)).partition(r)}};x();x();x();x();var Q4=new TextEncoder,Tee=new TextDecoder,ot=class{static base64UrlToBytes(e){return Pl.baseDecode(e)}static base64UrlToObject(e){let r=Pl.baseDecode(e),i=ot.bytesToString(r);return JSON.parse(i)}static bytesToBase64Url(e){return Pl.baseEncode(e)}static bytesToString(e){return Tee.decode(e)}static objectToBytes(e){let r=JSON.stringify(e);return Q4.encode(r)}static stringToBase64Url(e){let r=Q4.encode(e);return Pl.baseEncode(r)}static stringToBytes(e){return Q4.encode(e)}};x();x();x();var cpe=bt(jd(),1);var xi=BigInt(0),qt=BigInt(1),hp=BigInt(2),jF=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),_r=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:jF,n:jF,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var UF=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Mm=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),m7e=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),upe=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),dpe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),lpe=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),hpe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Nt=class{constructor(e,r,i,n){this.x=e,this.y=r,this.z=i,this.t=n}static fromAffine(e){if(!(e instanceof Mr))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Mr.ZERO)?Nt.ZERO:new Nt(e.x,e.y,qt,re(e.x*e.y))}static toAffineBatch(e){let r=mpe(e.map(i=>i.z));return e.map((i,n)=>i.toAffine(r[n]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){NF(e);let{x:r,y:i,z:n}=this,{x:o,y:s,z:f}=e,c=re(r*f),d=re(o*n),l=re(i*f),h=re(s*n);return c===d&&l===h}negate(){return new Nt(re(-this.x),this.y,this.z,re(-this.t))}double(){let{x:e,y:r,z:i}=this,{a:n}=_r,o=re(e*e),s=re(r*r),f=re(hp*re(i*i)),c=re(n*o),d=e+r,l=re(re(d*d)-o-s),h=c+s,E=h-f,b=c-s,T=re(l*E),k=re(h*b),O=re(l*b),D=re(E*h);return new Nt(T,k,D,O)}add(e){NF(e);let{x:r,y:i,z:n,t:o}=this,{x:s,y:f,z:c,t:d}=e,l=re((i-r)*(f+s)),h=re((i+r)*(f-s)),E=re(h-l);if(E===xi)return this.double();let b=re(n*hp*d),T=re(o*hp*c),k=T+b,O=h+l,D=T-b,I=re(k*E),L=re(O*D),U=re(k*D),$=re(E*O);return new Nt(I,L,$,U)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,i=[],n=this,o=n;for(let s=0;s<r;s++){o=n,i.push(o);for(let f=1;f<2**(e-1);f++)o=o.add(n),i.push(o);n=o.double()}return i}wNAF(e,r){!r&&this.equals(Nt.BASE)&&(r=Mr.BASE);let i=r&&r._WINDOW_SIZE||1;if(256%i)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=r&&z5.get(r);n||(n=this.precomputeWindow(i),r&&i!==1&&(n=Nt.normalizeZ(n),z5.set(r,n)));let o=Nt.ZERO,s=Nt.ZERO,f=1+256/i,c=2**(i-1),d=BigInt(2**i-1),l=2**i,h=BigInt(i);for(let E=0;E<f;E++){let b=E*c,T=Number(e&d);if(e>>=h,T>c&&(T-=l,e+=qt),T===0){let k=n[b];E%2&&(k=k.negate()),s=s.add(k)}else{let k=n[b+Math.abs(T)-1];T<0&&(k=k.negate()),o=o.add(k)}}return Nt.normalizeZ([o,s])[0]}multiply(e,r){return this.wNAF(Zw(e,_r.l),r)}multiplyUnsafe(e){let r=Zw(e,_r.l,!1),i=Nt.BASE,n=Nt.ZERO;if(r===xi)return n;if(this.equals(n)||r===qt)return this;if(this.equals(i))return this.wNAF(r);let o=n,s=this;for(;r>xi;)r&qt&&(o=o.add(s)),s=s.double(),r>>=qt;return o}isSmallOrder(){return this.multiplyUnsafe(_r.h).equals(Nt.ZERO)}isTorsionFree(){return this.multiplyUnsafe(_r.l).equals(Nt.ZERO)}toAffine(e=Yw(this.z)){let{x:r,y:i,z:n}=this,o=re(r*e),s=re(i*e);if(re(n*e)!==qt)throw new Error("invZ was invalid");return new Mr(o,s)}fromRistrettoBytes(){L5()}toRistrettoBytes(){L5()}fromRistrettoHash(){L5()}};Nt.BASE=new Nt(_r.Gx,_r.Gy,qt,re(_r.Gx*_r.Gy));Nt.ZERO=new Nt(xi,qt,qt,xi);function NF(t){if(!(t instanceof Nt))throw new TypeError("ExtendedPoint expected")}function q5(t){if(!(t instanceof En))throw new TypeError("RistrettoPoint expected")}function L5(){throw new Error("Legacy method: switch to RistrettoPoint")}var En=class{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=_r,i=re(Mm*e*e),n=re((i+qt)*lpe),o=BigInt(-1),s=re((o-r*i)*re(i+r)),{isValid:f,value:c}=W5(n,s),d=re(c*e);Fc(d)||(d=re(-d)),f||(c=d),f||(o=i);let l=re(o*(i-qt)*hpe-s),h=c*c,E=re((c+c)*s),b=re(l*upe),T=re(qt-h),k=re(qt+h);return new Nt(re(E*k),re(T*b),re(b*k),re(E*T))}static hashToCurve(e){e=zc(e,64);let r=U5(e.slice(0,32)),i=this.calcElligatorRistrettoMap(r),n=U5(e.slice(32,64)),o=this.calcElligatorRistrettoMap(n);return new En(i.add(o))}static fromHex(e){e=zc(e,32);let{a:r,d:i}=_r,n="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=U5(e);if(!vpe(Am(o),e)||Fc(o))throw new Error(n);let s=re(o*o),f=re(qt+r*s),c=re(qt-r*s),d=re(f*f),l=re(c*c),h=re(r*i*d-l),{isValid:E,value:b}=LF(re(h*l)),T=re(b*c),k=re(b*T*h),O=re((o+o)*T);Fc(O)&&(O=re(-O));let D=re(f*k),I=re(O*D);if(!E||Fc(I)||D===xi)throw new Error(n);return new En(new Nt(O,D,qt,I))}toRawBytes(){let{x:e,y:r,z:i,t:n}=this.ep,o=re(re(i+r)*re(i-r)),s=re(e*r),f=re(s*s),{value:c}=LF(re(o*f)),d=re(c*o),l=re(c*s),h=re(d*l*n),E;if(Fc(n*h)){let T=re(r*Mm),k=re(e*Mm);e=T,r=k,E=re(d*dpe)}else E=l;Fc(e*h)&&(r=re(-r));let b=re((i-r)*E);return Fc(b)&&(b=re(-b)),Am(b)}toHex(){return Tm(this.toRawBytes())}toString(){return this.toHex()}equals(e){q5(e);let r=this.ep,i=e.ep,n=re(r.x*i.y)===re(r.y*i.x),o=re(r.y*i.y)===re(r.x*i.x);return n||o}add(e){return q5(e),new En(this.ep.add(e.ep))}subtract(e){return q5(e),new En(this.ep.subtract(e.ep))}multiply(e){return new En(this.ep.multiply(e))}multiplyUnsafe(e){return new En(this.ep.multiplyUnsafe(e))}};En.BASE=new En(Nt.BASE);En.ZERO=new En(Nt.ZERO);var z5=new WeakMap,Mr=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,z5.delete(this)}static fromHex(e,r=!0){let{d:i,P:n}=_r;e=zc(e,32);let o=e.slice();o[31]=e[31]&-129;let s=Rm(o);if(r&&s>=n)throw new Error("Expected 0 < hex < P");if(!r&&s>=UF)throw new Error("Expected 0 < hex < 2**256");let f=re(s*s),c=re(f-qt),d=re(i*f+qt),{isValid:l,value:h}=W5(c,d);if(!l)throw new Error("Point.fromHex: invalid y coordinate");let E=(h&qt)===qt;return(e[31]&128)!==0!==E&&(h=re(-h)),new Mr(h,s)}static async fromPrivateKey(e){return(await Jw(e)).point}toRawBytes(){let e=Am(this.y);return e[31]|=this.x&qt?128:0,e}toHex(){return Tm(this.toRawBytes())}toX25519(){let{y:e}=this,r=re((qt+e)*Yw(qt-e));return Am(r)}isTorsionFree(){return Nt.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Mr(re(-this.x),this.y)}add(e){return Nt.fromAffine(this).add(Nt.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Nt.fromAffine(this).multiply(e,this).toAffine()}};Mr.BASE=new Mr(_r.Gx,_r.Gy);Mr.ZERO=new Mr(xi,qt);var rl=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=zc(e,64),i=Mr.fromHex(r.slice(0,32),!1),n=Rm(r.slice(32,64));return new rl(i,n)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof Mr))throw new Error("Expected Point instance");return Zw(r,_r.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Am(this.s),32),e}toHex(){return Tm(this.toRawBytes())}};function qF(...t){if(!t.every(i=>i instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((i,n)=>i+n.length,0),r=new Uint8Array(e);for(let i=0,n=0;i<t.length;i++){let o=t[i];r.set(o,n),n+=o.length}return r}var ppe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Tm(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=ppe[t[r]];return e}function $5(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let i=r*2,n=t.slice(i,i+2),o=Number.parseInt(n,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function FF(t){let r=t.toString(16).padStart(64,"0");return $5(r)}function Am(t){return FF(t).reverse()}function Fc(t){return(re(t)&qt)===qt}function Rm(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Tm(Uint8Array.from(t).reverse()))}var ype=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function U5(t){return re(Rm(t)&ype)}function re(t,e=_r.P){let r=t%e;return r>=xi?r:e+r}function Yw(t,e=_r.P){if(t===xi||e<=xi)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=re(t,e),i=e,n=xi,o=qt,s=qt,f=xi;for(;r!==xi;){let d=i/r,l=i%r,h=n-s*d,E=o-f*d;i=r,r=l,n=s,o=f,s=h,f=E}if(i!==qt)throw new Error("invert: does not exist");return re(n,e)}function mpe(t,e=_r.P){let r=new Array(t.length),i=t.reduce((o,s,f)=>s===xi?o:(r[f]=o,re(o*s,e)),qt),n=Yw(i,e);return t.reduceRight((o,s,f)=>s===xi?o:(r[f]=re(o*r[f],e),re(o*s,e)),n),r}function ya(t,e){let{P:r}=_r,i=t;for(;e-- >xi;)i*=i,i%=r;return i}function gpe(t){let{P:e}=_r,r=BigInt(5),i=BigInt(10),n=BigInt(20),o=BigInt(40),s=BigInt(80),c=t*t%e*t%e,d=ya(c,hp)*c%e,l=ya(d,qt)*t%e,h=ya(l,r)*l%e,E=ya(h,i)*h%e,b=ya(E,n)*E%e,T=ya(b,o)*b%e,k=ya(T,s)*T%e,O=ya(k,s)*T%e,D=ya(O,i)*h%e;return{pow_p_5_8:ya(D,hp)*t%e,b2:c}}function W5(t,e){let r=re(e*e*e),i=re(r*r*e),n=gpe(t*i).pow_p_5_8,o=re(t*r*n),s=re(e*o*o),f=o,c=re(o*Mm),d=s===t,l=s===re(-t),h=s===re(-t*Mm);return d&&(o=f),(l||h)&&(o=c),Fc(o)&&(o=re(-o)),{isValid:d||l,value:o}}function LF(t){return W5(qt,t)}function Gw(t){return re(Rm(t),_r.l)}function vpe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function zc(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):$5(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function Zw(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(xi<t)return t}else if(xi<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function bpe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function wpe(t){if(t=typeof t=="bigint"||typeof t=="number"?FF(Zw(t,UF)):zc(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function _pe(t){let e=bpe(t.slice(0,32)),r=t.slice(32,64),i=Gw(e),n=Mr.BASE.multiply(i),o=n.toRawBytes();return{head:e,prefix:r,scalar:i,point:n,pointBytes:o}}var F5;async function Jw(t){return _pe(await $c.sha512(wpe(t)))}async function zF(t){return(await Jw(t)).pointBytes}async function $F(t,e){t=zc(t);let{prefix:r,scalar:i,pointBytes:n}=await Jw(e),o=Gw(await $c.sha512(r,t)),s=Mr.BASE.multiply(o),f=Gw(await $c.sha512(s.toRawBytes(),n,t)),c=re(o+f*i,_r.l);return new rl(s,c).toRawBytes()}function Epe(t,e,r){e=zc(e),r instanceof Mr||(r=Mr.fromHex(r,!1));let{r:i,s:n}=t instanceof rl?t.assertValidity():rl.fromHex(t),o=Nt.BASE.multiplyUnsafe(n);return{r:i,s:n,SB:o,pub:r,msg:e}}function xpe(t,e,r,i){let n=Gw(i),o=Nt.fromAffine(t).multiplyUnsafe(n);return Nt.fromAffine(e).add(o).subtract(r).multiplyUnsafe(_r.h).equals(Nt.ZERO)}async function WF(t,e,r){let{r:i,SB:n,msg:o,pub:s}=Epe(t,e,r),f=await $c.sha512(i.toRawBytes(),s.toRawBytes(),o);return xpe(s,i,n,f)}Mr.BASE._setWindowSize(8);var Uc={node:cpe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},$c={bytesToHex:Tm,hexToBytes:$5,concatBytes:qF,getExtendedPublicKey:Jw,mod:re,invert:Yw,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=zc(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return re(Rm(t),_r.l-qt)+qt},randomBytes:(t=32)=>{if(Uc.web)return Uc.web.getRandomValues(new Uint8Array(t));if(Uc.node){let{randomBytes:e}=Uc.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>$c.randomBytes(32),sha512:async(...t)=>{let e=qF(...t);if(Uc.web){let r=await Uc.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(Uc.node)return Uint8Array.from(Uc.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=Mr.BASE){let r=e.equals(Mr.BASE)?e:new Mr(e.x,e.y);return r._setWindowSize(t),r.multiply(hp),r},sha512Sync:void 0};Object.defineProperties($c,{sha512Sync:{configurable:!1,get(){return F5},set(t){F5||(F5=t)}}});function KF(t){if(t.kty!=="OKP"||t.crv!=="Ed25519")throw new Error("invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function HF(t){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:ot.bytesToBase64Url(t)}}var Pm={sign:(t,e)=>{KF(e);let r=ot.base64UrlToBytes(e.d);return $F(t,r)},verify:(t,e,r)=>{KF(r);let i=ot.base64UrlToBytes(r.x);return WF(e,t,i)},generateKeyPair:async()=>{let t=$c.randomPrivateKey(),e=await zF(t),r=ot.bytesToBase64Url(t),i=HF(e),n={...i,d:r};return{publicJwk:i,privateJwk:n}},publicKeyToJwk:async t=>HF(t)};x();x();var Mpe=bt(jd(),1);var Lt=BigInt(0),yr=BigInt(1),Kc=BigInt(2),Im=BigInt(3),VF=BigInt(8),Br=Object.freeze({a:Lt,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:yr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),GF=(t,e)=>(t+e/Kc)/e,Qw={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=Br,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-yr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),f=GF(o*t,e),c=GF(-i*t,e),d=ye(t-f*r-c*n,e),l=ye(-f*i-c*o,e),h=d>s,E=l>s;if(h&&(d=e-d),E&&(l=e-l),d>s||l>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:h,k1:d,k2neg:E,k2:l}}},xs=32,mp=32,Ape=32,ZF=xs+1,YF=2*xs+1;function JF(t){let{a:e,b:r}=Br,i=ye(t*t),n=ye(i*t);return ye(n+e*t+r)}var Xw=Br.a===Lt,r2=class extends Error{constructor(e){super(e)}};function QF(t){if(!(t instanceof Jt))throw new TypeError("JacobianPoint expected")}var Jt=class{constructor(e,r,i){this.x=e,this.y=r,this.z=i}static fromAffine(e){if(!(e instanceof rr))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(rr.ZERO)?Jt.ZERO:new Jt(e.x,e.y,yr)}static toAffineBatch(e){let r=Ipe(e.map(i=>i.z));return e.map((i,n)=>i.toAffine(r[n]))}static normalizeZ(e){return Jt.toAffineBatch(e).map(Jt.fromAffine)}equals(e){QF(e);let{x:r,y:i,z:n}=this,{x:o,y:s,z:f}=e,c=ye(n*n),d=ye(f*f),l=ye(r*d),h=ye(o*c),E=ye(ye(i*f)*d),b=ye(ye(s*n)*c);return l===h&&E===b}negate(){return new Jt(this.x,ye(-this.y),this.z)}double(){let{x:e,y:r,z:i}=this,n=ye(e*e),o=ye(r*r),s=ye(o*o),f=e+o,c=ye(Kc*(ye(f*f)-n-s)),d=ye(Im*n),l=ye(d*d),h=ye(l-Kc*c),E=ye(d*(c-h)-VF*s),b=ye(Kc*r*i);return new Jt(h,E,b)}add(e){QF(e);let{x:r,y:i,z:n}=this,{x:o,y:s,z:f}=e;if(o===Lt||s===Lt)return this;if(r===Lt||i===Lt)return e;let c=ye(n*n),d=ye(f*f),l=ye(r*d),h=ye(o*c),E=ye(ye(i*f)*d),b=ye(ye(s*n)*c),T=ye(h-l),k=ye(b-E);if(T===Lt)return k===Lt?this.double():Jt.ZERO;let O=ye(T*T),D=ye(T*O),I=ye(l*O),L=ye(k*k-D-Kc*I),U=ye(k*(I-L)-E*D),$=ye(n*f*T);return new Jt(L,U,$)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=Jt.ZERO;if(typeof e=="bigint"&&e===Lt)return r;let i=tz(e);if(i===yr)return this;if(!Xw){let h=r,E=this;for(;i>Lt;)i&yr&&(h=h.add(E)),E=E.double(),i>>=yr;return h}let{k1neg:n,k1:o,k2neg:s,k2:f}=Qw.splitScalar(i),c=r,d=r,l=this;for(;o>Lt||f>Lt;)o&yr&&(c=c.add(l)),f&yr&&(d=d.add(l)),l=l.double(),o>>=yr,f>>=yr;return n&&(c=c.negate()),s&&(d=d.negate()),d=new Jt(ye(d.x*Qw.beta),d.y,d.z),c.add(d)}precomputeWindow(e){let r=Xw?128/e+1:256/e+1,i=[],n=this,o=n;for(let s=0;s<r;s++){o=n,i.push(o);for(let f=1;f<2**(e-1);f++)o=o.add(n),i.push(o);n=o.double()}return i}wNAF(e,r){!r&&this.equals(Jt.BASE)&&(r=rr.BASE);let i=r&&r._WINDOW_SIZE||1;if(256%i)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=r&&H5.get(r);n||(n=this.precomputeWindow(i),r&&i!==1&&(n=Jt.normalizeZ(n),H5.set(r,n)));let o=Jt.ZERO,s=Jt.BASE,f=1+(Xw?128/i:256/i),c=2**(i-1),d=BigInt(2**i-1),l=2**i,h=BigInt(i);for(let E=0;E<f;E++){let b=E*c,T=Number(e&d);e>>=h,T>c&&(T-=l,e+=yr);let k=b,O=b+Math.abs(T)-1,D=E%2!==0,I=T<0;T===0?s=s.add(e2(D,n[k])):o=o.add(e2(I,n[O]))}return{p:o,f:s}}multiply(e,r){let i=tz(e),n,o;if(Xw){let{k1neg:s,k1:f,k2neg:c,k2:d}=Qw.splitScalar(i),{p:l,f:h}=this.wNAF(f,r),{p:E,f:b}=this.wNAF(d,r);l=e2(s,l),E=e2(c,E),E=new Jt(ye(E.x*Qw.beta),E.y,E.z),n=l.add(E),o=h.add(b)}else{let{p:s,f}=this.wNAF(i,r);n=s,o=f}return Jt.normalizeZ([n,o])[0]}toAffine(e){let{x:r,y:i,z:n}=this,o=this.equals(Jt.ZERO);e==null&&(e=o?VF:bp(n));let s=e,f=ye(s*s),c=ye(f*s),d=ye(r*f),l=ye(i*c),h=ye(n*s);if(o)return rr.ZERO;if(h!==yr)throw new Error("invZ was invalid");return new rr(d,l)}};Jt.BASE=new Jt(Br.Gx,Br.Gy,yr);Jt.ZERO=new Jt(Lt,yr,Lt);function e2(t,e){let r=e.negate();return t?r:e}var H5=new WeakMap,rr=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,H5.delete(this)}hasEvenY(){return this.y%Kc===Lt}static fromCompressedHex(e){let r=e.length===32,i=Hc(r?e:e.subarray(1));if(!K5(i))throw new Error("Point is not on curve");let n=JF(i),o=kpe(n),s=(o&yr)===yr;r?s&&(o=ye(-o)):(e[0]&1)===1!==s&&(o=ye(-o));let f=new rr(i,o);return f.assertValidity(),f}static fromUncompressedHex(e){let r=Hc(e.subarray(1,xs+1)),i=Hc(e.subarray(xs+1,xs*2+1)),n=new rr(r,i);return n.assertValidity(),n}static fromHex(e){let r=vp(e),i=r.length,n=r[0];if(i===xs)return this.fromCompressedHex(r);if(i===ZF&&(n===2||n===3))return this.fromCompressedHex(r);if(i===YF&&n===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${ZF} compressed bytes or ${YF} uncompressed bytes, not ${i}`)}static fromPrivateKey(e){return rr.BASE.multiply(n2(e))}static fromSignature(e,r,i){let{r:n,s:o}=rz(r);if(![0,1,2,3].includes(i))throw new Error("Cannot recover: invalid recovery bit");let s=Z5(vp(e)),{n:f}=Br,c=i===2||i===3?n+f:n,d=bp(c,f),l=ye(-s*d,f),h=ye(o*d,f),E=i&1?"03":"02",b=rr.fromHex(E+pp(c)),T=rr.BASE.multiplyAndAddUnsafe(b,l,h);if(!T)throw new Error("Cannot recover signature: point at infinify");return T.assertValidity(),T}toRawBytes(e=!1){return il(this.toHex(e))}toHex(e=!1){let r=pp(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${pp(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:i}=this;if(!K5(r)||!K5(i))throw new Error(e);let n=ye(i*i),o=JF(r);if(ye(n-o)!==Lt)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new rr(this.x,ye(-this.y))}double(){return Jt.fromAffine(this).double().toAffine()}add(e){return Jt.fromAffine(this).add(Jt.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Jt.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,i){let n=Jt.fromAffine(this),o=r===Lt||r===yr||this!==rr.BASE?n.multiplyUnsafe(r):n.multiply(r),s=Jt.fromAffine(e).multiplyUnsafe(i),f=o.add(s);return f.equals(Jt.ZERO)?void 0:f.toAffine()}};rr.BASE=new rr(Br.Gx,Br.Gy);rr.ZERO=new rr(Lt,Lt);function XF(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function ez(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${gp(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Hc(r),left:t.subarray(e+2)}}function Tpe(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${gp(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=ez(t.subarray(2)),{data:i,left:n}=ez(r);if(n.length)throw new Error(`Invalid signature: left bytes after parsing: ${gp(n)}`);return{r:e,s:i}}var ma=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,i="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${i}: Expected string or Uint8Array`);let n=r?gp(e):e;if(n.length!==128)throw new Error(`${i}: Expected 64-byte hex`);return new ma(i2(n.slice(0,64)),i2(n.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:i,s:n}=Tpe(r?e:il(e));return new ma(i,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!Bm(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Bm(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Br.n>>yr;return this.s>e}normalizeS(){return this.hasHighS()?new ma(this.r,ye(-this.s,Br.n)):this}toDERRawBytes(){return il(this.toDERHex())}toDERHex(){let e=XF(km(this.s)),r=XF(km(this.r)),i=e.length/2,n=r.length/2,o=km(i),s=km(n);return`30${km(n+i+4)}02${s}${r}02${o}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return il(this.toCompactHex())}toCompactHex(){return pp(this.r)+pp(this.s)}};function Wc(...t){if(!t.every(i=>i instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((i,n)=>i+n.length,0),r=new Uint8Array(e);for(let i=0,n=0;i<t.length;i++){let o=t[i];r.set(o,n),n+=o.length}return r}var Rpe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function gp(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=Rpe[t[r]];return e}var Ppe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function pp(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(Lt<=t&&t<Ppe))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function V5(t){let e=il(pp(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function km(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function i2(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function il(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let i=r*2,n=t.slice(i,i+2),o=Number.parseInt(n,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function Hc(t){return i2(gp(t))}function vp(t){return t instanceof Uint8Array?Uint8Array.from(t):il(t)}function tz(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&Bm(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function ye(t,e=Br.P){let r=t%e;return r>=Lt?r:e+r}function Po(t,e){let{P:r}=Br,i=t;for(;e-- >Lt;)i*=i,i%=r;return i}function kpe(t){let{P:e}=Br,r=BigInt(6),i=BigInt(11),n=BigInt(22),o=BigInt(23),s=BigInt(44),f=BigInt(88),c=t*t*t%e,d=c*c*t%e,l=Po(d,Im)*d%e,h=Po(l,Im)*d%e,E=Po(h,Kc)*c%e,b=Po(E,i)*E%e,T=Po(b,n)*b%e,k=Po(T,s)*T%e,O=Po(k,f)*k%e,D=Po(O,s)*T%e,I=Po(D,Im)*d%e,L=Po(I,o)*b%e,U=Po(L,r)*c%e,$=Po(U,Kc);if($*$%e!==t)throw new Error("Cannot find square root");return $}function bp(t,e=Br.P){if(t===Lt||e<=Lt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ye(t,e),i=e,n=Lt,o=yr,s=yr,f=Lt;for(;r!==Lt;){let d=i/r,l=i%r,h=n-s*d,E=o-f*d;i=r,r=l,n=s,o=f,s=h,f=E}if(i!==yr)throw new Error("invert: does not exist");return ye(n,e)}function Ipe(t,e=Br.P){let r=new Array(t.length),i=t.reduce((o,s,f)=>s===Lt?o:(r[f]=o,ye(o*s,e)),yr),n=bp(i,e);return t.reduceRight((o,s,f)=>s===Lt?o:(r[f]=ye(o*r[f],e),ye(o*s,e)),n),r}function Dpe(t){let e=t.length*8-mp*8,r=Hc(t);return e>0?r>>BigInt(e):r}function Z5(t,e=!1){let r=Dpe(t);if(e)return r;let{n:i}=Br;return r>=i?r-i:r}var yp,Dm,G5=class{constructor(e,r){if(this.hashLen=e,this.qByteLen=r,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return Ss.hmacSha256(this.k,...e)}hmacSync(...e){return Dm(this.k,...e)}checkSync(){if(typeof Dm!="function")throw new r2("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let i=this.v.slice();r.push(i),e+=this.v.length}return Wc(...r)}generateSync(){this.checkSync(),this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let i=this.v.slice();r.push(i),e+=this.v.length}return Wc(...r)}};function Bm(t){return Lt<t&&t<Br.n}function K5(t){return Lt<t&&t<Br.P}function Bpe(t,e,r,i=!0){let{n}=Br,o=Z5(t,!0);if(!Bm(o))return;let s=bp(o,n),f=rr.BASE.multiply(o),c=ye(f.x,n);if(c===Lt)return;let d=ye(s*ye(e+r*c,n),n);if(d===Lt)return;let l=new ma(c,d),h=(f.x===l.r?0:2)|Number(f.y&yr);return i&&l.hasHighS()&&(l=l.normalizeS(),h^=1),{sig:l,recovery:h}}function n2(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*mp)throw new Error("Expected 32 bytes of private key");e=i2(t)}else if(t instanceof Uint8Array){if(t.length!==mp)throw new Error("Expected 32 bytes of private key");e=Hc(t)}else throw new TypeError("Expected valid private key");if(!Bm(e))throw new Error("Expected private key: 0 < key < n");return e}function Cpe(t){return t instanceof rr?(t.assertValidity(),t):rr.fromHex(t)}function rz(t){if(t instanceof ma)return t.assertValidity(),t;try{return ma.fromDER(t)}catch{return ma.fromCompact(t)}}function Cm(t,e=!1){return rr.fromPrivateKey(t).toRawBytes(e)}function iz(t){let e=t.length>xs?t.slice(0,xs):t;return Hc(e)}function Ope(t){let e=iz(t),r=ye(e,Br.n);return nz(r<Lt?e:r)}function nz(t){return V5(t)}function jpe(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let i=vp(t),n=n2(e),o=[nz(n),Ope(i)];if(r!=null){r===!0&&(r=Ss.randomBytes(xs));let c=vp(r);if(c.length!==xs)throw new Error(`sign: Expected ${xs} bytes of extra data`);o.push(c)}let s=Wc(...o),f=iz(i);return{seed:s,m:f,d:n}}function Npe(t,e){let{sig:r,recovery:i}=t,{der:n,recovered:o}=Object.assign({canonical:!0,der:!0},e),s=n?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,i]:s}async function oz(t,e,r={}){let{seed:i,m:n,d:o}=jpe(t,e,r.extraEntropy),s=new G5(Ape,mp);await s.reseed(i);let f;for(;!(f=Bpe(await s.generate(),n,o,r.canonical));)await s.reseed();return Npe(f,r)}var qpe={strict:!0};function sz(t,e,r,i=qpe){let n;try{n=rz(t),e=vp(e)}catch{return!1}let{r:o,s}=n;if(i.strict&&n.hasHighS())return!1;let f=Z5(e),c;try{c=Cpe(r)}catch{return!1}let{n:d}=Br,l=bp(s,d),h=ye(f*l,d),E=ye(o*l,d),b=rr.BASE.multiplyAndAddUnsafe(c,h,E);return b?ye(b.x,d)===o:!1}rr.BASE._setWindowSize(8);var Hn={node:Mpe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var t2={},Ss={bytesToHex:gp,hexToBytes:il,concatBytes:Wc,mod:ye,invert:bp,isValidPrivateKey(t){try{return n2(t),!0}catch{return!1}},_bigintTo32Bytes:V5,_normalizePrivateKey:n2,hashToPrivateKey:t=>{t=vp(t);let e=mp+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=ye(Hc(t),Br.n-yr)+yr;return V5(r)},randomBytes:(t=32)=>{if(Hn.web)return Hn.web.getRandomValues(new Uint8Array(t));if(Hn.node){let{randomBytes:e}=Hn.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Ss.hashToPrivateKey(Ss.randomBytes(mp+8)),precompute(t=8,e=rr.BASE){let r=e===rr.BASE?e:new rr(e.x,e.y);return r._setWindowSize(t),r.multiply(Im),r},sha256:async(...t)=>{if(Hn.web){let e=await Hn.web.subtle.digest("SHA-256",Wc(...t));return new Uint8Array(e)}else if(Hn.node){let{createHash:e}=Hn.node,r=e("sha256");return t.forEach(i=>r.update(i)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(Hn.web){let r=await Hn.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=Wc(...e),n=await Hn.web.subtle.sign("HMAC",r,i);return new Uint8Array(n)}else if(Hn.node){let{createHmac:r}=Hn.node,i=r("sha256",t);return e.forEach(n=>i.update(n)),Uint8Array.from(i.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=t2[t];if(r===void 0){let i=await Ss.sha256(Uint8Array.from(t,n=>n.charCodeAt(0)));r=Wc(i,i),t2[t]=r}return Ss.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof yp!="function")throw new r2("sha256Sync is undefined, you need to set it");let r=t2[t];if(r===void 0){let i=yp(Uint8Array.from(t,n=>n.charCodeAt(0)));r=Wc(i,i),t2[t]=r}return yp(r,...e)},_JacobianPoint:Jt};Object.defineProperties(Ss,{sha256Sync:{configurable:!1,get(){return yp},set(t){yp||(yp=t)}},hmacSha256Sync:{configurable:!1,get(){return Dm},set(t){Dm||(Dm=t)}}});var Y5=bt(lz(),1);x();var Ft=class extends Error{constructor(r,i){super(`${r}: ${i}`);this.code=r;this.name="DwnError"}},lf=(B=>(B.AuthenticateJwsMissing="AuthenticateJwsMissing",B.AuthorizationMissing="AuthorizationMissing",B.AuthorizationUnknownAuthor="AuthorizationUnknownAuthor",B.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",B.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",B.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",B.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",B.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",B.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",B.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",B.RecordsDeriveLeafPrivateKeyUnSupportedCurve="RecordsDeriveLeafPrivateKeyUnSupportedCurve",B.RecordsDeriveLeafPublicKeyUnSupportedCurve="RecordsDeriveLeafPublicKeyUnSupportedCurve",B.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",B.RecordsProtocolsDerivationSchemeMissingProtocol="RecordsProtocolsDerivationSchemeMissingProtocol",B.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",B.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",B.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",B.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",B.RecordsWriteMissingData="RecordsWriterMissingData",B.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",B.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",B.Secp256k1KeyNotValid="Secp256k1KeyNotValid",B.UrlProtocolNotNormalized="UrlProtocolNotNormalized",B.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",B.UrlSchemaNotNormalized="UrlSchemaNotNormalized",B.UrlSchemaNotNormalizable="UrlSchemaNotNormalizable",B))(lf||{});var zt=class{static validateKey(e){if(e.kty!=="EC"||e.crv!=="secp256k1")throw new Ft("Secp256k1KeyNotValid","Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static async publicKeyToJwk(e){let r;if(e.byteLength===33){let s=Ss.bytesToHex(e);r=rr.fromHex(s).toRawBytes(!1)}else r=e;let i=ot.bytesToBase64Url(r.subarray(1,33)),n=ot.bytesToBase64Url(r.subarray(33,65));return{alg:"ES256K",kty:"EC",crv:"secp256k1",x:i,y:n}}static async privateKeyToJwk(e){let r=await zt.getPublicKey(e),i=await zt.publicKeyToJwk(r);return i.d=ot.bytesToBase64Url(e),i}static publicJwkToBytes(e){let r=ot.base64UrlToBytes(e.x),i=ot.base64UrlToBytes(e.y);return new Uint8Array([4,...r,...i])}static privateJwkToBytes(e){return ot.base64UrlToBytes(e.d)}static async sign(e,r){zt.validateKey(r);let i=await Xi.encode(e),n=zt.privateJwkToBytes(r);return await oz(i,n,{der:!1})}static async verify(e,r,i){zt.validateKey(i);let n=zt.publicJwkToBytes(i),o=await Xi.encode(e);return sz(r,o,n)}static async generateKeyPair(){let e=Ss.randomPrivateKey(),r=Cm(e),i=ot.bytesToBase64Url(e),n=await zt.publicKeyToJwk(r),o={...n,d:i};return{publicJwk:n,privateJwk:o}}static async generateKeyPairRaw(){let e=Ss.randomPrivateKey();return{publicKey:Cm(e),privateKey:e}}static async getPublicKey(e){return Cm(e,!1)}static async derivePublicKey(e,r){zt.validateKeyDerivationPath(r);let i;e.length===32?i=Cm(e):i=e;for(let n of r){let o=await Xi.encode(ot.stringToBytes(n));i=zt.deriveChildPublicKey(i,o)}return i}static async derivePrivateKey(e,r){zt.validateKeyDerivationPath(r);let i=e;for(let n of r){let o=await Xi.encode(ot.stringToBytes(n));i=zt.deriveChildPrivateKey(i,o)}return i}static deriveChildPublicKey(e,r){let n=j.Buffer.from(e),o=j.Buffer.from(r);return Y5.default.publicKeyTweakAdd(n,o,!1)}static deriveChildPrivateKey(e,r){let i=j.Buffer.from(e),n=j.Buffer.from(r);return Y5.default.privateKeyTweakAdd(i,n)}static validateKeyDerivationPath(e){if(e.includes(""))throw new Ft("HdKeyDerivationPathInvalid",`Invalid key derivation path: ${e}`)}};var _p={Ed25519:Pm,secp256k1:{sign:zt.sign,verify:zt.verify,generateKeyPair:zt.generateKeyPair,publicKeyToJwk:zt.publicKeyToJwk}};var hf=class{constructor(e){this.jws=e}static async create(e,r=[]){let i={payload:ot.bytesToBase64Url(e),signatures:[]},n=new hf(i);for(let o of r)await n.addSignature(o);return n}async addSignature(e){let{privateJwk:r,protectedHeader:i}=e,n=_p[r.crv];if(!n)throw new Error(`unsupported crv. crv must be one of ${Object.keys(_p)}`);let o=JSON.stringify(i),s=ot.stringToBase64Url(o),f=`${s}.${this.jws.payload}`,c=ot.stringToBytes(f),d=await n.sign(c,r),l=ot.bytesToBase64Url(d);this.jws.signatures.push({protected:s,signature:l})}getJws(){return this.jws}};x();var Nz=bt(jz(),1);var Kr=class{static getKid(e){let{kid:r}=ot.base64UrlToObject(e.protected);return r}static getSignerDid(e){let r=Kr.getKid(e);return Kr.extractDid(r)}static async verifySignature(e,r,i){let n=_p[i.crv];if(!n)throw new Error(`unsupported crv. crv must be one of ${Object.keys(_p)}`);let o=ot.stringToBytes(`${r.protected}.${e}`),s=ot.base64UrlToBytes(r.signature);return await n.verify(o,s,i)}static decodePlainObjectPayload(e){let r;try{r=ot.base64UrlToObject(e.payload)}catch{throw new Error("payload is not a JSON object")}if(!(0,Nz.default)(r))throw new Error("signed payload must be a plain object");return r}static extractDid(e){let[r]=e.split("#");return r}static createSignatureInputs(e){return e.map(i=>Kr.createSignatureInput(i))}static createSignatureInput(e){return{privateJwk:e.keyPair.privateJwk,protectedHeader:{alg:e.keyPair.privateJwk.alg,kid:e.keyId}}}};x();function sl(t,e){return t>e?1:t<e?-1:0}x();var iS={};li(iS,{Definitions:()=>S0e,EventsGet:()=>x0e,GeneralJwk:()=>M0e,GeneralJws:()=>A0e,HooksWrite:()=>T0e,JwkVerificationMethod:()=>R0e,MessagesGet:()=>P0e,PermissionsDefinitions:()=>k0e,PermissionsGrant:()=>I0e,PermissionsRequest:()=>D0e,ProtocolDefinition:()=>B0e,ProtocolRuleSet:()=>C0e,ProtocolsConfigure:()=>O0e,ProtocolsQuery:()=>j0e,PublicJwk:()=>q0e,RecordsDelete:()=>b0e,RecordsQuery:()=>w0e,RecordsRead:()=>N0e,RecordsWrite:()=>_0e});x();var b0e=xn,qz={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateModified","recordId"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},dateModified:{type:"string"},recordId:{type:"string"}}}}};var al=new RegExp("^[A-Za-z0-9_-]+$","u");function ft(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let l=s;for(let h in t)if(!(h==="payload"||h==="signatures")){return ft.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:h},message:"must NOT have additional properties"}],!1;break}if(l===s){if(t.payload!==void 0){let h=t.payload,E=s;if(s===s)if(typeof h=="string"){if(!al.test(h))return ft.errors=[{instancePath:e+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return ft.errors=[{instancePath:e+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=E===s}else var f=!0;if(f)if(t.signatures!==void 0){let h=t.signatures,E=s;if(s===E)if(Array.isArray(h)){if(h.length<1)return ft.errors=[{instancePath:e+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var c=!0;let T=h.length;for(let k=0;k<T;k++){let O=h[k],D=s;if(s===D)if(O&&typeof O=="object"&&!Array.isArray(O)){if(O.protected!==void 0){let L=O.protected,U=s;if(s===s)if(typeof L=="string"){if(!al.test(L))return ft.errors=[{instancePath:e+"/signatures/"+k+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return ft.errors=[{instancePath:e+"/signatures/"+k+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=U===s}else var d=!0;if(d)if(O.signature!==void 0){let L=O.signature,U=s;if(s===s)if(typeof L=="string"){if(!al.test(L))return ft.errors=[{instancePath:e+"/signatures/"+k+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return ft.errors=[{instancePath:e+"/signatures/"+k+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=U===s}else var d=!0}else return ft.errors=[{instancePath:e+"/signatures/"+k,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=D===s;if(!c)break}}}else return ft.errors=[{instancePath:e+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var f=E===s}else var f=!0}}else return ft.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ft.errors=o,s===0}function xn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d;if(t.authorization===void 0&&(d="authorization")||t.descriptor===void 0&&(d="descriptor"))return xn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:d},message:"must have required property '"+d+"'"}],!1;{let l=s;for(let h in t)if(!(h==="authorization"||h==="descriptor")){return xn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:h},message:"must NOT have additional properties"}],!1;break}if(l===s){if(t.authorization!==void 0){let h=s;ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?ft.errors:o.concat(ft.errors),s=o.length);var f=h===s}else var f=!0;if(f)if(t.descriptor!==void 0){let h=t.descriptor,E=s;if(s===E)if(h&&typeof h=="object"&&!Array.isArray(h)){let T;if(h.interface===void 0&&(T="interface")||h.method===void 0&&(T="method")||h.dateModified===void 0&&(T="dateModified")||h.recordId===void 0&&(T="recordId"))return xn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:T},message:"must have required property '"+T+"'"}],!1;{let k=s;for(let O in h)if(!(O==="interface"||O==="method"||O==="dateModified"||O==="recordId")){return xn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:O},message:"must NOT have additional properties"}],!1;break}if(k===s){if(h.interface!==void 0){let O=h.interface,D=s;if(typeof O!="string")return xn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(O!=="Records")return xn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:qz.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=D===s}else var c=!0;if(c){if(h.method!==void 0){let O=h.method,D=s;if(typeof O!="string")return xn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(O!=="Delete")return xn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:qz.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=D===s}else var c=!0;if(c){if(h.dateModified!==void 0){let O=s;if(typeof h.dateModified!="string")return xn.errors=[{instancePath:e+"/descriptor/dateModified",schemaPath:"#/properties/descriptor/properties/dateModified/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=O===s}else var c=!0;if(c)if(h.recordId!==void 0){let O=s;if(typeof h.recordId!="string")return xn.errors=[{instancePath:e+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=O===s}else var c=!0}}}}}else return xn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=E===s}else var f=!0}}}else return xn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return xn.errors=o,s===0}var w0e=It,o2={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},contextId:{type:"string"},schema:{type:"string"},recordId:{type:"string"},parentId:{type:"string"},dataFormat:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"}}}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}};var fl=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),yf=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u"),f2=Object.prototype.hasOwnProperty;function It(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let h;if(t.authorization===void 0&&(h="authorization")||t.descriptor===void 0&&(h="descriptor"))return It.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:h},message:"must have required property '"+h+"'"}],!1;{let E=s;for(let b in t)if(!(b==="authorization"||b==="descriptor")){return It.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:b},message:"must NOT have additional properties"}],!1;break}if(E===s){if(t.authorization!==void 0){let b=s;ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?ft.errors:o.concat(ft.errors),s=o.length);var f=b===s}else var f=!0;if(f)if(t.descriptor!==void 0){let b=t.descriptor,T=s;if(s===T)if(b&&typeof b=="object"&&!Array.isArray(b)){let O;if(b.interface===void 0&&(O="interface")||b.method===void 0&&(O="method")||b.dateCreated===void 0&&(O="dateCreated")||b.filter===void 0&&(O="filter"))return It.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:O},message:"must have required property '"+O+"'"}],!1;{let D=s;for(let I in b)if(!(I==="interface"||I==="method"||I==="dateCreated"||I==="filter"||I==="dateSort")){return It.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;break}if(D===s){if(b.interface!==void 0){let I=b.interface,L=s;if(typeof I!="string")return It.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Records")return It.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:o2.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=L===s}else var c=!0;if(c){if(b.method!==void 0){let I=b.method,L=s;if(typeof I!="string")return It.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Query")return It.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:o2.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=L===s}else var c=!0;if(c){if(b.dateCreated!==void 0){let I=b.dateCreated,L=s;if(s===s)if(typeof I=="string"){if(!fl.test(I))return It.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return It.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=L===s}else var c=!0;if(c){if(b.filter!==void 0){let I=b.filter,L=s;if(s===L)if(I&&typeof I=="object"&&!Array.isArray(I)){if(Object.keys(I).length<1)return It.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let $=s;for(let K in I)if(!f2.call(o2.properties.descriptor.properties.filter.properties,K)){return It.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties"}],!1;break}if($===s){if(I.protocol!==void 0){let K=s;if(typeof I.protocol!="string")return It.errors=[{instancePath:e+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=K===s}else var d=!0;if(d){if(I.attester!==void 0){let K=I.attester,q=s;if(s===s)if(typeof K=="string"){if(!yf.test(K))return It.errors=[{instancePath:e+"/descriptor/filter/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return It.errors=[{instancePath:e+"/descriptor/filter/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=q===s}else var d=!0;if(d){if(I.recipient!==void 0){let K=I.recipient,q=s;if(s===s)if(typeof K=="string"){if(!yf.test(K))return It.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return It.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=q===s}else var d=!0;if(d){if(I.contextId!==void 0){let K=s;if(typeof I.contextId!="string")return It.errors=[{instancePath:e+"/descriptor/filter/contextId",schemaPath:"#/properties/descriptor/properties/filter/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=K===s}else var d=!0;if(d){if(I.schema!==void 0){let K=s;if(typeof I.schema!="string")return It.errors=[{instancePath:e+"/descriptor/filter/schema",schemaPath:"#/properties/descriptor/properties/filter/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=K===s}else var d=!0;if(d){if(I.recordId!==void 0){let K=s;if(typeof I.recordId!="string")return It.errors=[{instancePath:e+"/descriptor/filter/recordId",schemaPath:"#/properties/descriptor/properties/filter/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=K===s}else var d=!0;if(d){if(I.parentId!==void 0){let K=s;if(typeof I.parentId!="string")return It.errors=[{instancePath:e+"/descriptor/filter/parentId",schemaPath:"#/properties/descriptor/properties/filter/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=K===s}else var d=!0;if(d){if(I.dataFormat!==void 0){let K=s;if(typeof I.dataFormat!="string")return It.errors=[{instancePath:e+"/descriptor/filter/dataFormat",schemaPath:"#/properties/descriptor/properties/filter/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=K===s}else var d=!0;if(d)if(I.dateCreated!==void 0){let K=I.dateCreated,q=s;if(s===q)if(K&&typeof K=="object"&&!Array.isArray(K)){if(Object.keys(K).length<1)return It.errors=[{instancePath:e+"/descriptor/filter/dateCreated",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let G=s;for(let B in K)if(!(B==="from"||B==="to")){return It.errors=[{instancePath:e+"/descriptor/filter/dateCreated",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"}],!1;break}if(G===s){if(K.from!==void 0){let B=K.from,w=s;if(s===s)if(typeof B=="string"){if(!fl.test(B))return It.errors=[{instancePath:e+"/descriptor/filter/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return It.errors=[{instancePath:e+"/descriptor/filter/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=w===s}else var l=!0;if(l)if(K.to!==void 0){let B=K.to,w=s;if(s===s)if(typeof B=="string"){if(!fl.test(B))return It.errors=[{instancePath:e+"/descriptor/filter/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return It.errors=[{instancePath:e+"/descriptor/filter/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=w===s}else var l=!0}}}else return It.errors=[{instancePath:e+"/descriptor/filter/dateCreated",schemaPath:"#/properties/descriptor/properties/filter/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var d=q===s}else var d=!0}}}}}}}}}}else return It.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=L===s}else var c=!0;if(c)if(b.dateSort!==void 0){let I=b.dateSort,L=s;if(typeof I!="string")return It.errors=[{instancePath:e+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(I==="createdAscending"||I==="createdDescending"||I==="publishedAscending"||I==="publishedDescending"))return It.errors=[{instancePath:e+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:o2.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;var c=L===s}else var c=!0}}}}}}else return It.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=T===s}else var f=!0}}}else return It.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return It.errors=o,s===0}var _0e=Ye,Gc={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-write.json",type:"object",additionalProperties:!1,required:["authorization","descriptor","recordId"],properties:{recordId:{type:"string"},contextId:{type:"string"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocols","schemas"]},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},dateModified:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","dateModified","dataFormat"],dependencies:{recipient:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath","schema"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]};var Vz={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function Cr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0,f=s,c=s,d=!1,l=null,h=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let B;if(t.crv===void 0&&(B="crv")||t.x===void 0&&(B="x")){let w={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:B},message:"must have required property '"+B+"'"};o===null?o=[w]:o.push(w),s++}else{if(t.kty!==void 0){let w=s;if(t.kty!=="EC"){let M={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};o===null?o=[M]:o.push(M),s++}var E=w===s}else var E=!0;if(E){if(t.crv!==void 0){let w=s;if(typeof t.crv!="string"){let _={instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[_]:o.push(_),s++}var E=w===s}else var E=!0;if(E){if(t.x!==void 0){let w=s;if(typeof t.x!="string"){let _={instancePath:e+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[_]:o.push(_),s++}var E=w===s}else var E=!0;if(E){if(t.y!==void 0){let w=s;if(typeof t.y!="string"){let _={instancePath:e+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[_]:o.push(_),s++}var E=w===s}else var E=!0;if(E)if(t.d!==void 0){let w=s;if(typeof t.d!="string"){let _={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[_]:o.push(_),s++}var E=w===s}else var E=!0}}}}}var k=h===s;k&&(d=!0,l=0);let b=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let B;if(t.crv===void 0&&(B="crv")||t.x===void 0&&(B="x")){let w={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:B},message:"must have required property '"+B+"'"};o===null?o=[w]:o.push(w),s++}else{if(t.kty!==void 0){let w=s;if(t.kty!=="OKP"){let M={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};o===null?o=[M]:o.push(M),s++}var T=w===s}else var T=!0;if(T){if(t.crv!==void 0){let w=s;if(typeof t.crv!="string"){let _={instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[_]:o.push(_),s++}var T=w===s}else var T=!0;if(T){if(t.x!==void 0){let w=s;if(typeof t.x!="string"){let _={instancePath:e+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[_]:o.push(_),s++}var T=w===s}else var T=!0;if(T)if(t.d!==void 0){let w=s;if(typeof t.d!="string"){let _={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[_]:o.push(_),s++}var T=w===s}else var T=!0}}}}var k=b===s;if(k&&d)d=!1,l=[l,1];else{k&&(d=!0,l=1);let B=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let M;if(t.n===void 0&&(M="n")||t.e===void 0&&(M="e")){let _={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:M},message:"must have required property '"+M+"'"};o===null?o=[_]:o.push(_),s++}else{if(t.kty!==void 0){let _=s;if(t.kty!=="RSA"){let a={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};o===null?o=[a]:o.push(a),s++}var O=_===s}else var O=!0;if(O){if(t.n!==void 0){let _=s;if(typeof t.n!="string"){let u={instancePath:e+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}var O=_===s}else var O=!0;if(O){if(t.e!==void 0){let _=s;if(typeof t.e!="string"){let u={instancePath:e+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}var O=_===s}else var O=!0;if(O){if(t.d!==void 0){let _=s;if(typeof t.d!="string"){let u={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}var O=_===s}else var O=!0;if(O){if(t.p!==void 0){let _=s;if(typeof t.p!="string"){let u={instancePath:e+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}var O=_===s}else var O=!0;if(O){if(t.q!==void 0){let _=s;if(typeof t.q!="string"){let u={instancePath:e+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}var O=_===s}else var O=!0;if(O){if(t.dp!==void 0){let _=s;if(typeof t.dp!="string"){let u={instancePath:e+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}var O=_===s}else var O=!0;if(O){if(t.dq!==void 0){let _=s;if(typeof t.dq!="string"){let u={instancePath:e+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}var O=_===s}else var O=!0;if(O){if(t.qi!==void 0){let _=s;if(typeof t.qi!="string"){let u={instancePath:e+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}var O=_===s}else var O=!0;if(O)if(t.oth!==void 0){let _=t.oth,a=s;if(!(_&&typeof _=="object"&&!Array.isArray(_))){let p={instancePath:e+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[p]:o.push(p),s++}var O=a===s}else var O=!0}}}}}}}}}}var k=B===s;if(k&&d)d=!1,l=[l,2];else{k&&(d=!0,l=2);let M=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let a;if(t.k===void 0&&(a="k")){let u={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:a},message:"must have required property '"+a+"'"};o===null?o=[u]:o.push(u),s++}else{if(t.kty!==void 0){let u=s;if(t.kty!=="oct"){let p={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};o===null?o=[p]:o.push(p),s++}var D=u===s}else var D=!0;if(D)if(t.k!==void 0){let u=s;if(typeof t.k!="string"){let v={instancePath:e+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[v]:o.push(v),s++}var D=u===s}else var D=!0}}var k=M===s;k&&d?(d=!1,l=[l,3]):k&&(d=!0,l=3)}}if(d)s=c,o!==null&&(c?o.length=c:o=null);else{let B={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:l},message:"must match exactly one schema in oneOf"};return o===null?o=[B]:o.push(B),s++,Cr.errors=o,!1}if(s===f)if(t&&typeof t=="object"&&!Array.isArray(t)){let B;if(t.kty===void 0&&(B="kty"))return Cr.errors=[{instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:B},message:"must have required property '"+B+"'"}],!1;if(t.alg!==void 0){let w=s;if(typeof t.alg!="string")return Cr.errors=[{instancePath:e+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=w===s}else var I=!0;if(I){if(t.kid!==void 0){let w=s;if(typeof t.kid!="string")return Cr.errors=[{instancePath:e+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=w===s}else var I=!0;if(I){if(t.kty!==void 0){let w=t.kty,M=s;if(!(w==="EC"||w==="RSA"||w==="oct"||w==="OKP"))return Cr.errors=[{instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:Vz.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;var I=M===s}else var I=!0;if(I){if(t.crv!==void 0){let w=s;if(typeof t.crv!="string")return Cr.errors=[{instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=w===s}else var I=!0;if(I){if(t.use!==void 0){let w=s;if(typeof t.use!="string")return Cr.errors=[{instancePath:e+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=w===s}else var I=!0;if(I){if(t.key_ops!==void 0){let w=s;if(typeof t.key_ops!="string")return Cr.errors=[{instancePath:e+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=w===s}else var I=!0;if(I){if(t.x5u!==void 0){let w=s;if(typeof t.x5u!="string")return Cr.errors=[{instancePath:e+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=w===s}else var I=!0;if(I){if(t.x5c!==void 0){let w=s;if(typeof t.x5c!="string")return Cr.errors=[{instancePath:e+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=w===s}else var I=!0;if(I){if(t.x5t!==void 0){let w=s;if(typeof t.x5t!="string")return Cr.errors=[{instancePath:e+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=w===s}else var I=!0;if(I)if(t["x5t#S256"]!==void 0){let w=s;if(typeof t["x5t#S256"]!="string")return Cr.errors=[{instancePath:e+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=w===s}else var I=!0}}}}}}}}}else return Cr.errors=[{instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var L=f===s;if(L){let B=s,w=s,M=s,_=!1,a=s,u=s,p=!1,v=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let g;if(t.d===void 0&&(g="d")){let m={};o===null?o=[m]:o.push(m),s++}}var U=v===s;if(p=p||U,p)s=u,o!==null&&(u?o.length=u:o=null);else{let g={};o===null?o=[g]:o.push(g),s++}if(s===a)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0&&t.kty!=="EC"){let g={};o===null?o=[g]:o.push(g),s++}}else{let g={};o===null?o=[g]:o.push(g),s++}var $=a===s;if(_=_||$,!_){let g=s,m=s,A=!1,R=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let P;if(t.d===void 0&&(P="d")){let W={};o===null?o=[W]:o.push(W),s++}}var K=R===s;if(A=A||K,A)s=m,o!==null&&(m?o.length=m:o=null);else{let P={};o===null?o=[P]:o.push(P),s++}if(s===g)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0&&t.kty!=="OKP"){let P={};o===null?o=[P]:o.push(P),s++}}else{let P={};o===null?o=[P]:o.push(P),s++}var $=g===s;if(_=_||$,!_){let P=s,W=s,H=!1,V=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let J;if(t.d===void 0&&(J="d")){let Q={};o===null?o=[Q]:o.push(Q),s++}}var q=V===s;if(H=H||q,!H){let J=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let me;if(t.p===void 0&&(me="p")){let te={};o===null?o=[te]:o.push(te),s++}}var q=J===s;if(H=H||q,!H){let me=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let ie;if(t.q===void 0&&(ie="q")){let or={};o===null?o=[or]:o.push(or),s++}}var q=me===s;if(H=H||q,!H){let ie=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let ce;if(t.dp===void 0&&(ce="dp")){let ue={};o===null?o=[ue]:o.push(ue),s++}}var q=ie===s;if(H=H||q,!H){let ce=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let Fi;if(t.dq===void 0&&(Fi="dq")){let he={};o===null?o=[he]:o.push(he),s++}}var q=ce===s;if(H=H||q,!H){let Fi=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let pe;if(t.qi===void 0&&(pe="qi")){let Mn={};o===null?o=[Mn]:o.push(Mn),s++}}var q=Fi===s;if(H=H||q,!H){let pe=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let ve;if(t.oth===void 0&&(ve="oth")){let ge={};o===null?o=[ge]:o.push(ge),s++}}var q=pe===s;H=H||q}}}}}}if(H)s=W,o!==null&&(W?o.length=W:o=null);else{let J={};o===null?o=[J]:o.push(J),s++}if(s===P)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0){let J=s;if(t.kty!=="RSA"){let Q={};o===null?o=[Q]:o.push(Q),s++}var F=J===s}else var F=!0;if(F)if(t.oth!==void 0){let J=t.oth,Q=s;if(!(J&&typeof J=="object"&&!Array.isArray(J))){let te={};o===null?o=[te]:o.push(te),s++}var F=Q===s}else var F=!0}else{let J={};o===null?o=[J]:o.push(J),s++}var $=P===s;_=_||$}}if(_)s=M,o!==null&&(M?o.length=M:o=null);else{let g={};o===null?o=[g]:o.push(g),s++}var G=w===s;if(G)return Cr.errors=[{instancePath:e,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=B,o!==null&&(B?o.length=B:o=null)}return Cr.errors=o,s===0}var E0e=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u");function Ye(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0,f=s,c=!1,d=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let G;if(t.contextId===void 0&&(G="contextId")){let B={instancePath:e,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:G},message:"must have required property '"+G+"'"};o===null?o=[B]:o.push(B),s++}else if(t.descriptor!==void 0){let B=t.descriptor;if(s===s)if(B&&typeof B=="object"&&!Array.isArray(B)){let M;if(B.protocol===void 0&&(M="protocol")||B.protocolPath===void 0&&(M="protocolPath")||B.schema===void 0&&(M="schema")){let _={instancePath:e+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:M},message:"must have required property '"+M+"'"};o===null?o=[_]:o.push(_),s++}}else{let M={instancePath:e+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[M]:o.push(M),s++}}}var l=d===s;if(c=c||l,!c){let G=s,B=s,w=s,M=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let a;if(t.contextId===void 0&&(a="contextId")){let u={};o===null?o=[u]:o.push(u),s++}}var h=M===s;if(h){let a={instancePath:e,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[a]:o.push(a),s++}else s=w,o!==null&&(w?o.length=w:o=null);var E=B===s;if(E){let a=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.descriptor!==void 0){let p=t.descriptor;if(!(p&&typeof p=="object"&&!Array.isArray(p))){let m={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[m]:o.push(m),s++}let v=s,g=s;if(p&&typeof p=="object"&&!Array.isArray(p)){let m;if(p.protocol===void 0&&(m="protocol")){let A={};o===null?o=[A]:o.push(A),s++}}var b=g===s;if(b){let m={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[m]:o.push(m),s++}else s=v,o!==null&&(v?o.length=v:o=null)}var E=a===s;if(E){let p=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.descriptor!==void 0){let g=t.descriptor;if(!(g&&typeof g=="object"&&!Array.isArray(g))){let R={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[R]:o.push(R),s++}let m=s,A=s;if(g&&typeof g=="object"&&!Array.isArray(g)){let R;if(g.protocolPath===void 0&&(R="protocolPath")){let y={};o===null?o=[y]:o.push(y),s++}}var T=A===s;if(T){let R={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[R]:o.push(R),s++}else s=m,o!==null&&(m?o.length=m:o=null)}var E=p===s}}var l=G===s;c=c||l}if(c)s=f,o!==null&&(f?o.length=f:o=null);else{let G={instancePath:e,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return o===null?o=[G]:o.push(G),s++,Ye.errors=o,!1}if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let G;if(t.authorization===void 0&&(G="authorization")||t.descriptor===void 0&&(G="descriptor")||t.recordId===void 0&&(G="recordId"))return Ye.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:G},message:"must have required property '"+G+"'"}],!1;{let B=s;for(let w in t)if(!(w==="recordId"||w==="contextId"||w==="attestation"||w==="authorization"||w==="encryption"||w==="descriptor")){return Ye.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:w},message:"must NOT have additional properties"}],!1;break}if(B===s){if(t.recordId!==void 0){let w=s;if(typeof t.recordId!="string")return Ye.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=w===s}else var k=!0;if(k){if(t.contextId!==void 0){let w=s;if(typeof t.contextId!="string")return Ye.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=w===s}else var k=!0;if(k){if(t.attestation!==void 0){let w=s;ft(t.attestation,{instancePath:e+"/attestation",parentData:t,parentDataProperty:"attestation",rootData:n})||(o=o===null?ft.errors:o.concat(ft.errors),s=o.length);var k=w===s}else var k=!0;if(k){if(t.authorization!==void 0){let w=s;ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?ft.errors:o.concat(ft.errors),s=o.length);var k=w===s}else var k=!0;if(k){if(t.encryption!==void 0){let w=t.encryption,M=s;if(s===M)if(w&&typeof w=="object"&&!Array.isArray(w)){let a;if(w.algorithm===void 0&&(a="algorithm")||w.initializationVector===void 0&&(a="initializationVector")||w.keyEncryption===void 0&&(a="keyEncryption"))return Ye.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:a},message:"must have required property '"+a+"'"}],!1;{let u=s;for(let p in w)if(!(p==="algorithm"||p==="initializationVector"||p==="keyEncryption")){return Ye.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:p},message:"must NOT have additional properties"}],!1;break}if(u===s){if(w.algorithm!==void 0){let p=w.algorithm,v=s;if(typeof p!="string")return Ye.errors=[{instancePath:e+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(p!=="A256CTR")return Ye.errors=[{instancePath:e+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:Gc.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var O=v===s}else var O=!0;if(O){if(w.initializationVector!==void 0){let p=w.initializationVector,v=s;if(s===s)if(typeof p=="string"){if(!al.test(p))return Ye.errors=[{instancePath:e+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Ye.errors=[{instancePath:e+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var O=v===s}else var O=!0;if(O)if(w.keyEncryption!==void 0){let p=w.keyEncryption,v=s;if(s===v)if(Array.isArray(p)){if(p.length<1)return Ye.errors=[{instancePath:e+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var D=!0;let m=p.length;for(let A=0;A<m;A++){let R=p[A],y=s;if(s===y)if(R&&typeof R=="object"&&!Array.isArray(R)){let W;if(R.rootKeyId===void 0&&(W="rootKeyId")||R.derivationScheme===void 0&&(W="derivationScheme")||R.algorithm===void 0&&(W="algorithm")||R.encryptedKey===void 0&&(W="encryptedKey")||R.initializationVector===void 0&&(W="initializationVector")||R.ephemeralPublicKey===void 0&&(W="ephemeralPublicKey")||R.messageAuthenticationCode===void 0&&(W="messageAuthenticationCode"))return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+A,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:W},message:"must have required property '"+W+"'"}],!1;{let H=s;for(let V in R)if(!(V==="rootKeyId"||V==="derivationScheme"||V==="algorithm"||V==="encryptedKey"||V==="initializationVector"||V==="ephemeralPublicKey"||V==="messageAuthenticationCode")){return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+A,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:V},message:"must NOT have additional properties"}],!1;break}if(H===s){if(R.rootKeyId!==void 0){let V=s;if(typeof R.rootKeyId!="string")return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+A+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=V===s}else var I=!0;if(I){if(R.derivationScheme!==void 0){let V=R.derivationScheme,Z=s;if(typeof V!="string")return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+A+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(V==="dataFormats"||V==="protocols"||V==="schemas"))return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+A+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:Gc.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;var I=Z===s}else var I=!0;if(I){if(R.algorithm!==void 0){let V=R.algorithm,Z=s;if(typeof V!="string")return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+A+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(V!=="ECIES-ES256K")return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+A+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:Gc.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var I=Z===s}else var I=!0;if(I){if(R.encryptedKey!==void 0){let V=R.encryptedKey,Z=s;if(s===s)if(typeof V=="string"){if(!al.test(V))return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+A+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+A+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=Z===s}else var I=!0;if(I){if(R.initializationVector!==void 0){let V=R.initializationVector,Z=s;if(s===s)if(typeof V=="string"){if(!al.test(V))return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+A+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+A+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=Z===s}else var I=!0;if(I){if(R.ephemeralPublicKey!==void 0){let V=s;Cr(R.ephemeralPublicKey,{instancePath:e+"/encryption/keyEncryption/"+A+"/ephemeralPublicKey",parentData:R,parentDataProperty:"ephemeralPublicKey",rootData:n})||(o=o===null?Cr.errors:o.concat(Cr.errors),s=o.length);var I=V===s}else var I=!0;if(I)if(R.messageAuthenticationCode!==void 0){let V=R.messageAuthenticationCode,Z=s;if(s===s)if(typeof V=="string"){if(!al.test(V))return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+A+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+A+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=Z===s}else var I=!0}}}}}}}}else return Ye.errors=[{instancePath:e+"/encryption/keyEncryption/"+A,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var D=y===s;if(!D)break}}}else return Ye.errors=[{instancePath:e+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var O=v===s}else var O=!0}}}}else return Ye.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var k=M===s}else var k=!0;if(k)if(t.descriptor!==void 0){let w=t.descriptor,M=s,_=s,a=!1,u=s;if(w&&typeof w=="object"&&!Array.isArray(w)){let v;if(w.published===void 0&&(v="published")||w.datePublished===void 0&&(v="datePublished")){let g={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"};o===null?o=[g]:o.push(g),s++}else if(w.published!==void 0){let g=w.published;if(typeof g!="boolean"){let m={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};o===null?o=[m]:o.push(m),s++}if(g!==!0){let m={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:Gc.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};o===null?o=[m]:o.push(m),s++}}}var L=u===s;if(a=a||L,!a){let v=s,g=s,m=s;if(w&&typeof w=="object"&&!Array.isArray(w)){let R;if(w.datePublished===void 0&&(R="datePublished")){let y={};o===null?o=[y]:o.push(y),s++}}var U=m===s;if(U){let R={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[R]:o.push(R),s++}else s=g,o!==null&&(g?o.length=g:o=null);if(s===v&&w&&typeof w=="object"&&!Array.isArray(w)&&w.published!==void 0){let R=w.published;if(typeof R!="boolean"){let y={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};o===null?o=[y]:o.push(y),s++}if(R!==!1){let y={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:Gc.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};o===null?o=[y]:o.push(y),s++}}var L=v===s;if(a=a||L,!a){let R=s,y=s,P=s,W=s;if(w&&typeof w=="object"&&!Array.isArray(w)){let V;if(w.published===void 0&&(V="published")){let Z={};o===null?o=[Z]:o.push(Z),s++}}var $=W===s;if($){let V={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[V]:o.push(V),s++}else s=P,o!==null&&(P?o.length=P:o=null);var K=y===s;if(K){let V=s,Z=s,J=s;if(w&&typeof w=="object"&&!Array.isArray(w)){let me;if(w.datePublished===void 0&&(me="datePublished")){let te={};o===null?o=[te]:o.push(te),s++}}var q=J===s;if(q){let me={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};o===null?o=[me]:o.push(me),s++}else s=Z,o!==null&&(Z?o.length=Z:o=null);var K=V===s}var L=R===s;a=a||L}}if(a)s=_,o!==null&&(_?o.length=_:o=null);else{let v={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return o===null?o=[v]:o.push(v),s++,Ye.errors=o,!1}if(s===M)if(w&&typeof w=="object"&&!Array.isArray(w)){let v;if(w.interface===void 0&&(v="interface")||w.method===void 0&&(v="method")||w.dataCid===void 0&&(v="dataCid")||w.dataSize===void 0&&(v="dataSize")||w.dateCreated===void 0&&(v="dateCreated")||w.dateModified===void 0&&(v="dateModified")||w.dataFormat===void 0&&(v="dataFormat"))return Ye.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:v},message:"must have required property '"+v+"'"}],!1;{let g=s;for(let m in w)if(!f2.call(Gc.properties.descriptor.properties,m)){return Ye.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:m},message:"must NOT have additional properties"}],!1;break}if(g===s){let m;if(w.recipient!==void 0&&w.protocol===void 0&&(m="protocol"))return Ye.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"recipient",missingProperty:m,depsCount:1,deps:"protocol"},message:"must have property protocol when property recipient is present"}],!1;if(w.interface!==void 0){let A=w.interface,R=s;if(typeof A!="string")return Ye.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(A!=="Records")return Ye.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Gc.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var F=R===s}else var F=!0;if(F){if(w.method!==void 0){let A=w.method,R=s;if(typeof A!="string")return Ye.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(A!=="Write")return Ye.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Gc.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var F=R===s}else var F=!0;if(F){if(w.recipient!==void 0){let A=w.recipient,R=s;if(s===s)if(typeof A=="string"){if(!yf.test(A))return Ye.errors=[{instancePath:e+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Ye.errors=[{instancePath:e+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var F=R===s}else var F=!0;if(F){if(w.protocol!==void 0){let A=s;if(typeof w.protocol!="string")return Ye.errors=[{instancePath:e+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var F=A===s}else var F=!0;if(F){if(w.protocolPath!==void 0){let A=w.protocolPath,R=s;if(s===R)if(typeof A=="string"){if(!E0e.test(A))return Ye.errors=[{instancePath:e+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}else return Ye.errors=[{instancePath:e+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var F=R===s}else var F=!0;if(F){if(w.schema!==void 0){let A=s;if(typeof w.schema!="string")return Ye.errors=[{instancePath:e+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var F=A===s}else var F=!0;if(F){if(w.parentId!==void 0){let A=s;if(typeof w.parentId!="string")return Ye.errors=[{instancePath:e+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var F=A===s}else var F=!0;if(F){if(w.dataCid!==void 0){let A=s;if(typeof w.dataCid!="string")return Ye.errors=[{instancePath:e+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var F=A===s}else var F=!0;if(F){if(w.dataSize!==void 0){let A=w.dataSize,R=s;if(!(typeof A=="number"&&isFinite(A)))return Ye.errors=[{instancePath:e+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var F=R===s}else var F=!0;if(F){if(w.dateCreated!==void 0){let A=w.dateCreated,R=s;if(s===s)if(typeof A=="string"){if(!fl.test(A))return Ye.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ye.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var F=R===s}else var F=!0;if(F){if(w.dateModified!==void 0){let A=w.dateModified,R=s;if(s===s)if(typeof A=="string"){if(!fl.test(A))return Ye.errors=[{instancePath:e+"/descriptor/dateModified",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ye.errors=[{instancePath:e+"/descriptor/dateModified",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var F=R===s}else var F=!0;if(F){if(w.published!==void 0){let A=s;if(typeof w.published!="boolean")return Ye.errors=[{instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var F=A===s}else var F=!0;if(F){if(w.datePublished!==void 0){let A=w.datePublished,R=s;if(s===s)if(typeof A=="string"){if(!fl.test(A))return Ye.errors=[{instancePath:e+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ye.errors=[{instancePath:e+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var F=R===s}else var F=!0;if(F)if(w.dataFormat!==void 0){let A=s;if(typeof w.dataFormat!="string")return Ye.errors=[{instancePath:e+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var F=A===s}else var F=!0}}}}}}}}}}}}}}}else return Ye.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var k=M===s}else var k=!0}}}}}}}else return Ye.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ye.errors=o,s===0}var x0e=Vn,Lz={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/events-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Get"],type:"string"},watermark:{type:"string"}}}}};function Vn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d;if(t.authorization===void 0&&(d="authorization")||t.descriptor===void 0&&(d="descriptor"))return Vn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:d},message:"must have required property '"+d+"'"}],!1;{let l=s;for(let h in t)if(!(h==="authorization"||h==="descriptor")){return Vn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:h},message:"must NOT have additional properties"}],!1;break}if(l===s){if(t.authorization!==void 0){let h=s;ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?ft.errors:o.concat(ft.errors),s=o.length);var f=h===s}else var f=!0;if(f)if(t.descriptor!==void 0){let h=t.descriptor,E=s;if(s===E)if(h&&typeof h=="object"&&!Array.isArray(h)){let T;if(h.interface===void 0&&(T="interface")||h.method===void 0&&(T="method"))return Vn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:T},message:"must have required property '"+T+"'"}],!1;{let k=s;for(let O in h)if(!(O==="interface"||O==="method"||O==="watermark")){return Vn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:O},message:"must NOT have additional properties"}],!1;break}if(k===s){if(h.interface!==void 0){let O=h.interface,D=s;if(typeof O!="string")return Vn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(O!=="Events")return Vn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Lz.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=D===s}else var c=!0;if(c){if(h.method!==void 0){let O=h.method,D=s;if(typeof O!="string")return Vn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(O!=="Get")return Vn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Lz.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=D===s}else var c=!0;if(c)if(h.watermark!==void 0){let O=s;if(typeof h.watermark!="string")return Vn.errors=[{instancePath:e+"/descriptor/watermark",schemaPath:"#/properties/descriptor/properties/watermark/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=O===s}else var c=!0}}}}else return Vn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=E===s}else var f=!0}}}else return Vn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Vn.errors=o,s===0}var S0e=tS;function tS(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;return t&&typeof t=="object"&&!Array.isArray(t)?(tS.errors=o,s===0):(tS.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var M0e=un;function un(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0,f=s,c=!1,d=null,l=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let I;if(t.crv===void 0&&(I="crv")||t.x===void 0&&(I="x")){let L={instancePath:e,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"};o===null?o=[L]:o.push(L),s++}else{if(t.kty!==void 0){let L=s;if(t.kty!=="EC"){let U={instancePath:e+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};o===null?o=[U]:o.push(U),s++}var h=L===s}else var h=!0;if(h){if(t.crv!==void 0){let L=s;if(typeof t.crv!="string"){let $={instancePath:e+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),s++}var h=L===s}else var h=!0;if(h){if(t.x!==void 0){let L=s;if(typeof t.x!="string"){let $={instancePath:e+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),s++}var h=L===s}else var h=!0;if(h){if(t.y!==void 0){let L=s;if(typeof t.y!="string"){let $={instancePath:e+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),s++}var h=L===s}else var h=!0;if(h)if(t.d!==void 0){let L=s;if(typeof t.d!="string"){let $={instancePath:e+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),s++}var h=L===s}else var h=!0}}}}}var T=l===s;T&&(c=!0,d=0);let E=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let I;if(t.crv===void 0&&(I="crv")||t.x===void 0&&(I="x")){let L={instancePath:e,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"};o===null?o=[L]:o.push(L),s++}else{if(t.kty!==void 0){let L=s;if(t.kty!=="OKP"){let U={instancePath:e+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};o===null?o=[U]:o.push(U),s++}var b=L===s}else var b=!0;if(b){if(t.crv!==void 0){let L=s;if(typeof t.crv!="string"){let $={instancePath:e+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),s++}var b=L===s}else var b=!0;if(b){if(t.x!==void 0){let L=s;if(typeof t.x!="string"){let $={instancePath:e+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),s++}var b=L===s}else var b=!0;if(b)if(t.d!==void 0){let L=s;if(typeof t.d!="string"){let $={instancePath:e+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[$]:o.push($),s++}var b=L===s}else var b=!0}}}}var T=E===s;if(T&&c)c=!1,d=[d,1];else{T&&(c=!0,d=1);let I=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let U;if(t.n===void 0&&(U="n")||t.e===void 0&&(U="e")){let $={instancePath:e,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:U},message:"must have required property '"+U+"'"};o===null?o=[$]:o.push($),s++}else{if(t.kty!==void 0){let $=s;if(t.kty!=="RSA"){let K={instancePath:e+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};o===null?o=[K]:o.push(K),s++}var k=$===s}else var k=!0;if(k){if(t.n!==void 0){let $=s;if(typeof t.n!="string"){let q={instancePath:e+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[q]:o.push(q),s++}var k=$===s}else var k=!0;if(k){if(t.e!==void 0){let $=s;if(typeof t.e!="string"){let q={instancePath:e+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[q]:o.push(q),s++}var k=$===s}else var k=!0;if(k){if(t.d!==void 0){let $=s;if(typeof t.d!="string"){let q={instancePath:e+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[q]:o.push(q),s++}var k=$===s}else var k=!0;if(k){if(t.p!==void 0){let $=s;if(typeof t.p!="string"){let q={instancePath:e+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[q]:o.push(q),s++}var k=$===s}else var k=!0;if(k){if(t.q!==void 0){let $=s;if(typeof t.q!="string"){let q={instancePath:e+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[q]:o.push(q),s++}var k=$===s}else var k=!0;if(k){if(t.dp!==void 0){let $=s;if(typeof t.dp!="string"){let q={instancePath:e+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[q]:o.push(q),s++}var k=$===s}else var k=!0;if(k){if(t.dq!==void 0){let $=s;if(typeof t.dq!="string"){let q={instancePath:e+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[q]:o.push(q),s++}var k=$===s}else var k=!0;if(k){if(t.qi!==void 0){let $=s;if(typeof t.qi!="string"){let q={instancePath:e+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[q]:o.push(q),s++}var k=$===s}else var k=!0;if(k)if(t.oth!==void 0){let $=t.oth,K=s;if(!($&&typeof $=="object"&&!Array.isArray($))){let F={instancePath:e+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};o===null?o=[F]:o.push(F),s++}var k=K===s}else var k=!0}}}}}}}}}}var T=I===s;if(T&&c)c=!1,d=[d,2];else{T&&(c=!0,d=2);let U=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let K;if(t.k===void 0&&(K="k")){let q={instancePath:e,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"};o===null?o=[q]:o.push(q),s++}else{if(t.kty!==void 0){let q=s;if(t.kty!=="oct"){let F={instancePath:e+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};o===null?o=[F]:o.push(F),s++}var O=q===s}else var O=!0;if(O)if(t.k!==void 0){let q=s;if(typeof t.k!="string"){let G={instancePath:e+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[G]:o.push(G),s++}var O=q===s}else var O=!0}}var T=U===s;T&&c?(c=!1,d=[d,3]):T&&(c=!0,d=3)}}if(c)s=f,o!==null&&(f?o.length=f:o=null);else{let I={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:d},message:"must match exactly one schema in oneOf"};return o===null?o=[I]:o.push(I),s++,un.errors=o,!1}if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let I;if(t.kty===void 0&&(I="kty"))return un.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:I},message:"must have required property '"+I+"'"}],!1;if(t.alg!==void 0){let L=s;if(typeof t.alg!="string")return un.errors=[{instancePath:e+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var D=L===s}else var D=!0;if(D){if(t.kid!==void 0){let L=s;if(typeof t.kid!="string")return un.errors=[{instancePath:e+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var D=L===s}else var D=!0;if(D){if(t.kty!==void 0){let L=t.kty,U=s;if(!(L==="EC"||L==="RSA"||L==="oct"||L==="OKP"))return un.errors=[{instancePath:e+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:Vz.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;var D=U===s}else var D=!0;if(D){if(t.crv!==void 0){let L=s;if(typeof t.crv!="string")return un.errors=[{instancePath:e+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var D=L===s}else var D=!0;if(D){if(t.use!==void 0){let L=s;if(typeof t.use!="string")return un.errors=[{instancePath:e+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var D=L===s}else var D=!0;if(D){if(t.key_ops!==void 0){let L=s;if(typeof t.key_ops!="string")return un.errors=[{instancePath:e+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var D=L===s}else var D=!0;if(D){if(t.x5u!==void 0){let L=s;if(typeof t.x5u!="string")return un.errors=[{instancePath:e+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var D=L===s}else var D=!0;if(D){if(t.x5c!==void 0){let L=s;if(typeof t.x5c!="string")return un.errors=[{instancePath:e+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var D=L===s}else var D=!0;if(D){if(t.x5t!==void 0){let L=s;if(typeof t.x5t!="string")return un.errors=[{instancePath:e+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var D=L===s}else var D=!0;if(D)if(t["x5t#S256"]!==void 0){let L=s;if(typeof t["x5t#S256"]!="string")return un.errors=[{instancePath:e+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var D=L===s}else var D=!0}}}}}}}}}else return un.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return un.errors=o,s===0}var A0e=ft,T0e=ci,Uz={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/hooks-write.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated","uri","filter"],properties:{interface:{enum:["Hooks"],type:"string"},method:{enum:["Write"],type:"string"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},schema:{type:"string"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{method:{type:"string"}}}}}}};function ci(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d;if(t.authorization===void 0&&(d="authorization")||t.descriptor===void 0&&(d="descriptor"))return ci.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:d},message:"must have required property '"+d+"'"}],!1;{let l=s;for(let h in t)if(!(h==="authorization"||h==="descriptor")){return ci.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:h},message:"must NOT have additional properties"}],!1;break}if(l===s){if(t.authorization!==void 0){let h=s;ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?ft.errors:o.concat(ft.errors),s=o.length);var f=h===s}else var f=!0;if(f)if(t.descriptor!==void 0){let h=t.descriptor,E=s;if(s===E)if(h&&typeof h=="object"&&!Array.isArray(h)){let T;if(h.interface===void 0&&(T="interface")||h.method===void 0&&(T="method")||h.dateCreated===void 0&&(T="dateCreated")||h.uri===void 0&&(T="uri")||h.filter===void 0&&(T="filter"))return ci.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:T},message:"must have required property '"+T+"'"}],!1;{let k=s;for(let O in h)if(!(O==="interface"||O==="method"||O==="dateCreated"||O==="schema"||O==="filter")){return ci.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:O},message:"must NOT have additional properties"}],!1;break}if(k===s){if(h.interface!==void 0){let O=h.interface,D=s;if(typeof O!="string")return ci.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(O!=="Hooks")return ci.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Uz.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=D===s}else var c=!0;if(c){if(h.method!==void 0){let O=h.method,D=s;if(typeof O!="string")return ci.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(O!=="Write")return ci.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Uz.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=D===s}else var c=!0;if(c){if(h.dateCreated!==void 0){let O=h.dateCreated,D=s;if(s===s)if(typeof O=="string"){if(!fl.test(O))return ci.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return ci.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=D===s}else var c=!0;if(c){if(h.schema!==void 0){let O=s;if(typeof h.schema!="string")return ci.errors=[{instancePath:e+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=O===s}else var c=!0;if(c)if(h.filter!==void 0){let O=h.filter,D=s;if(s===D)if(O&&typeof O=="object"&&!Array.isArray(O)){if(Object.keys(O).length<1)return ci.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let L=s;for(let U in O)if(U!=="method"){return ci.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:U},message:"must NOT have additional properties"}],!1;break}if(L===s&&O.method!==void 0&&typeof O.method!="string")return ci.errors=[{instancePath:e+"/descriptor/filter/method",schemaPath:"#/properties/descriptor/properties/filter/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}}else return ci.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=D===s}else var c=!0}}}}}}else return ci.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=E===s}else var f=!0}}}else return ci.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ci.errors=o,s===0}var R0e=pf;function pf(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.id===void 0&&(c="id")||t.type===void 0&&(c="type")||t.controller===void 0&&(c="controller")||t.publicKeyJwk===void 0&&(c="publicKeyJwk"))return pf.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1;{let d=s;for(let l in t)if(!(l==="id"||l==="type"||l==="controller"||l==="publicKeyJwk")){return pf.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;break}if(d===s){if(t.id!==void 0){let l=s;if(typeof t.id!="string")return pf.errors=[{instancePath:e+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=l===s}else var f=!0;if(f){if(t.type!==void 0){let l=s;if(t.type!=="JsonWebKey2020")return pf.errors=[{instancePath:e+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"JsonWebKey2020"},message:"must be equal to constant"}],!1;var f=l===s}else var f=!0;if(f){if(t.controller!==void 0){let l=t.controller,h=s;if(s===s)if(typeof l=="string"){if(!yf.test(l))return pf.errors=[{instancePath:e+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return pf.errors=[{instancePath:e+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=h===s}else var f=!0;if(f)if(t.publicKeyJwk!==void 0){let l=s;Cr(t.publicKeyJwk,{instancePath:e+"/publicKeyJwk",parentData:t,parentDataProperty:"publicKeyJwk",rootData:n})||(o=o===null?Cr.errors:o.concat(Cr.errors),s=o.length);var f=l===s}else var f=!0}}}}}else return pf.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return pf.errors=o,s===0}var P0e=dn,Fz={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/messages-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Get"],type:"string"},messageCids:{type:"array",items:{type:"string"},minItems:1}}}}};function dn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let l;if(t.authorization===void 0&&(l="authorization")||t.descriptor===void 0&&(l="descriptor"))return dn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:l},message:"must have required property '"+l+"'"}],!1;{let h=s;for(let E in t)if(!(E==="authorization"||E==="descriptor")){return dn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:E},message:"must NOT have additional properties"}],!1;break}if(h===s){if(t.authorization!==void 0){let E=s;ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?ft.errors:o.concat(ft.errors),s=o.length);var f=E===s}else var f=!0;if(f)if(t.descriptor!==void 0){let E=t.descriptor,b=s;if(s===b)if(E&&typeof E=="object"&&!Array.isArray(E)){let k;if(E.interface===void 0&&(k="interface")||E.method===void 0&&(k="method"))return dn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{let O=s;for(let D in E)if(!(D==="interface"||D==="method"||D==="messageCids")){return dn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;break}if(O===s){if(E.interface!==void 0){let D=E.interface,I=s;if(typeof D!="string")return dn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Messages")return dn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Fz.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=I===s}else var c=!0;if(c){if(E.method!==void 0){let D=E.method,I=s;if(typeof D!="string")return dn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Get")return dn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Fz.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=I===s}else var c=!0;if(c)if(E.messageCids!==void 0){let D=E.messageCids,I=s;if(s===I)if(Array.isArray(D)){if(D.length<1)return dn.errors=[{instancePath:e+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var d=!0;let U=D.length;for(let $=0;$<U;$++){let K=s;if(typeof D[$]!="string")return dn.errors=[{instancePath:e+"/descriptor/messageCids/"+$,schemaPath:"#/properties/descriptor/properties/messageCids/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=K===s;if(!d)break}}}else return dn.errors=[{instancePath:e+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var c=I===s}else var c=!0}}}}else return dn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=b===s}else var f=!0}}}else return dn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return dn.errors=o,s===0}var k0e=rS;function rS(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;return t&&typeof t=="object"&&!Array.isArray(t)?(rS.errors=o,s===0):(rS.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}var I0e=St,Q5={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-grant.json",type:"object",required:["authorization","descriptor"],additionalProperties:!1,properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},delegationChain:{description:"the parent grant",$ref:"#"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated"],properties:{dateCreated:{type:"string"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"},delegatedFrom:{description:"CID of the parent grant",type:"string"},description:{type:"string"},grantedTo:{description:"DID of the grantee",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{description:"DID of the grantor",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Grant"],type:"string"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},objectId:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid"}}}}},a2={type:"object",additionalProperties:!1,properties:{attestation:{enum:["optional","required"],type:"string"},delegation:{type:"boolean"},encryption:{enum:["optional","required"],type:"string"},publication:{type:"boolean"},sharedAccess:{type:"boolean"}}};var Gz=new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$","u");function St(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let h;if(t.authorization===void 0&&(h="authorization")||t.descriptor===void 0&&(h="descriptor"))return St.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:h},message:"must have required property '"+h+"'"}],!1;{let E=s;for(let b in t)if(!(b==="authorization"||b==="delegationChain"||b==="descriptor")){return St.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:b},message:"must NOT have additional properties"}],!1;break}if(E===s){if(t.authorization!==void 0){let b=s;ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?ft.errors:o.concat(ft.errors),s=o.length);var f=b===s}else var f=!0;if(f){if(t.delegationChain!==void 0){let b=s;St(t.delegationChain,{instancePath:e+"/delegationChain",parentData:t,parentDataProperty:"delegationChain",rootData:n})||(o=o===null?St.errors:o.concat(St.errors),s=o.length);var f=b===s}else var f=!0;if(f)if(t.descriptor!==void 0){let b=t.descriptor,T=s;if(s===T)if(b&&typeof b=="object"&&!Array.isArray(b)){let O;if(b.interface===void 0&&(O="interface")||b.method===void 0&&(O="method")||b.dateCreated===void 0&&(O="dateCreated"))return St.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:O},message:"must have required property '"+O+"'"}],!1;{let D=s;for(let I in b)if(!f2.call(Q5.properties.descriptor.properties,I)){return St.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;break}if(D===s){if(b.dateCreated!==void 0){let I=s;if(typeof b.dateCreated!="string")return St.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=I===s}else var c=!0;if(c){if(b.conditions!==void 0){let I=b.conditions,L=s;if(s===s)if(I&&typeof I=="object"&&!Array.isArray(I)){let K=s;for(let q in I)if(!(q==="attestation"||q==="delegation"||q==="encryption"||q==="publication"||q==="sharedAccess")){return St.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties"}],!1;break}if(K===s){if(I.attestation!==void 0){let q=I.attestation,F=s;if(typeof q!="string")return St.errors=[{instancePath:e+"/descriptor/conditions/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/attestation/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(q==="optional"||q==="required"))return St.errors=[{instancePath:e+"/descriptor/conditions/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/attestation/enum",keyword:"enum",params:{allowedValues:a2.properties.attestation.enum},message:"must be equal to one of the allowed values"}],!1;var d=F===s}else var d=!0;if(d){if(I.delegation!==void 0){let q=s;if(typeof I.delegation!="boolean")return St.errors=[{instancePath:e+"/descriptor/conditions/delegation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/delegation/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var d=q===s}else var d=!0;if(d){if(I.encryption!==void 0){let q=I.encryption,F=s;if(typeof q!="string")return St.errors=[{instancePath:e+"/descriptor/conditions/encryption",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/encryption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(q==="optional"||q==="required"))return St.errors=[{instancePath:e+"/descriptor/conditions/encryption",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/encryption/enum",keyword:"enum",params:{allowedValues:a2.properties.encryption.enum},message:"must be equal to one of the allowed values"}],!1;var d=F===s}else var d=!0;if(d){if(I.publication!==void 0){let q=s;if(typeof I.publication!="boolean")return St.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var d=q===s}else var d=!0;if(d)if(I.sharedAccess!==void 0){let q=s;if(typeof I.sharedAccess!="boolean")return St.errors=[{instancePath:e+"/descriptor/conditions/sharedAccess",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/sharedAccess/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var d=q===s}else var d=!0}}}}}else return St.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=L===s}else var c=!0;if(c){if(b.delegatedFrom!==void 0){let I=s;if(typeof b.delegatedFrom!="string")return St.errors=[{instancePath:e+"/descriptor/delegatedFrom",schemaPath:"#/properties/descriptor/properties/delegatedFrom/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=I===s}else var c=!0;if(c){if(b.description!==void 0){let I=s;if(typeof b.description!="string")return St.errors=[{instancePath:e+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=I===s}else var c=!0;if(c){if(b.grantedTo!==void 0){let I=b.grantedTo,L=s;if(s===s)if(typeof I=="string"){if(!yf.test(I))return St.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return St.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=L===s}else var c=!0;if(c){if(b.grantedBy!==void 0){let I=b.grantedBy,L=s;if(s===s)if(typeof I=="string"){if(!yf.test(I))return St.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return St.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=L===s}else var c=!0;if(c){if(b.interface!==void 0){let I=b.interface,L=s;if(typeof I!="string")return St.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Permissions")return St.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Q5.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=L===s}else var c=!0;if(c){if(b.method!==void 0){let I=b.method,L=s;if(typeof I!="string")return St.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Grant")return St.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Q5.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=L===s}else var c=!0;if(c){if(b.scope!==void 0){let I=b.scope,L=s;if(s===s)if(I&&typeof I=="object"&&!Array.isArray(I)){let K=s;for(let q in I)if(!(q==="method"||q==="objectId"||q==="schema")){return St.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties"}],!1;break}if(K===s){if(I.method!==void 0){let q=s;if(typeof I.method!="string")return St.errors=[{instancePath:e+"/descriptor/scope/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=q===s}else var l=!0;if(l){if(I.objectId!==void 0){let q=s;if(typeof I.objectId!="string")return St.errors=[{instancePath:e+"/descriptor/scope/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/objectId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=q===s}else var l=!0;if(l)if(I.schema!==void 0){let q=s;if(typeof I.schema!="string")return St.errors=[{instancePath:e+"/descriptor/scope/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=q===s}else var l=!0}}}else return St.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=L===s}else var c=!0;if(c)if(b.objectId!==void 0){let I=b.objectId,L=s;if(s===s)if(typeof I=="string"){if(!Gz.test(I))return St.errors=[{instancePath:e+"/descriptor/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid/pattern",keyword:"pattern",params:{pattern:"^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"},message:'must match pattern "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"'}],!1}else return St.errors=[{instancePath:e+"/descriptor/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=L===s}else var c=!0}}}}}}}}}}}else return St.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=T===s}else var f=!0}}}}else return St.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return St.errors=o,s===0}var D0e=$t,X5={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-request.json",additionalProperties:!1,type:"object",required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated"],properties:{dateCreated:{type:"string"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"},description:{type:"string"},grantedTo:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Request"],type:"string"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},objectId:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid"}}}}};function $t(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let h;if(t.authorization===void 0&&(h="authorization")||t.descriptor===void 0&&(h="descriptor"))return $t.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:h},message:"must have required property '"+h+"'"}],!1;{let E=s;for(let b in t)if(!(b==="authorization"||b==="descriptor")){return $t.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:b},message:"must NOT have additional properties"}],!1;break}if(E===s){if(t.authorization!==void 0){let b=s;ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?ft.errors:o.concat(ft.errors),s=o.length);var f=b===s}else var f=!0;if(f)if(t.descriptor!==void 0){let b=t.descriptor,T=s;if(s===T)if(b&&typeof b=="object"&&!Array.isArray(b)){let O;if(b.interface===void 0&&(O="interface")||b.method===void 0&&(O="method")||b.dateCreated===void 0&&(O="dateCreated"))return $t.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:O},message:"must have required property '"+O+"'"}],!1;{let D=s;for(let I in b)if(!f2.call(X5.properties.descriptor.properties,I)){return $t.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:I},message:"must NOT have additional properties"}],!1;break}if(D===s){if(b.dateCreated!==void 0){let I=s;if(typeof b.dateCreated!="string")return $t.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=I===s}else var c=!0;if(c){if(b.conditions!==void 0){let I=b.conditions,L=s;if(s===s)if(I&&typeof I=="object"&&!Array.isArray(I)){let K=s;for(let q in I)if(!(q==="attestation"||q==="delegation"||q==="encryption"||q==="publication"||q==="sharedAccess")){return $t.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties"}],!1;break}if(K===s){if(I.attestation!==void 0){let q=I.attestation,F=s;if(typeof q!="string")return $t.errors=[{instancePath:e+"/descriptor/conditions/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/attestation/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(q==="optional"||q==="required"))return $t.errors=[{instancePath:e+"/descriptor/conditions/attestation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/attestation/enum",keyword:"enum",params:{allowedValues:a2.properties.attestation.enum},message:"must be equal to one of the allowed values"}],!1;var d=F===s}else var d=!0;if(d){if(I.delegation!==void 0){let q=s;if(typeof I.delegation!="boolean")return $t.errors=[{instancePath:e+"/descriptor/conditions/delegation",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/delegation/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var d=q===s}else var d=!0;if(d){if(I.encryption!==void 0){let q=I.encryption,F=s;if(typeof q!="string")return $t.errors=[{instancePath:e+"/descriptor/conditions/encryption",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/encryption/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(q==="optional"||q==="required"))return $t.errors=[{instancePath:e+"/descriptor/conditions/encryption",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/encryption/enum",keyword:"enum",params:{allowedValues:a2.properties.encryption.enum},message:"must be equal to one of the allowed values"}],!1;var d=F===s}else var d=!0;if(d){if(I.publication!==void 0){let q=s;if(typeof I.publication!="boolean")return $t.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var d=q===s}else var d=!0;if(d)if(I.sharedAccess!==void 0){let q=s;if(typeof I.sharedAccess!="boolean")return $t.errors=[{instancePath:e+"/descriptor/conditions/sharedAccess",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/sharedAccess/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var d=q===s}else var d=!0}}}}}else return $t.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=L===s}else var c=!0;if(c){if(b.description!==void 0){let I=s;if(typeof b.description!="string")return $t.errors=[{instancePath:e+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=I===s}else var c=!0;if(c){if(b.grantedTo!==void 0){let I=b.grantedTo,L=s;if(s===s)if(typeof I=="string"){if(!yf.test(I))return $t.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return $t.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=L===s}else var c=!0;if(c){if(b.grantedBy!==void 0){let I=b.grantedBy,L=s;if(s===s)if(typeof I=="string"){if(!yf.test(I))return $t.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return $t.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=L===s}else var c=!0;if(c){if(b.interface!==void 0){let I=b.interface,L=s;if(typeof I!="string")return $t.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Permissions")return $t.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:X5.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=L===s}else var c=!0;if(c){if(b.method!==void 0){let I=b.method,L=s;if(typeof I!="string")return $t.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Request")return $t.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:X5.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=L===s}else var c=!0;if(c){if(b.scope!==void 0){let I=b.scope,L=s;if(s===s)if(I&&typeof I=="object"&&!Array.isArray(I)){let K=s;for(let q in I)if(!(q==="method"||q==="objectId"||q==="schema")){return $t.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties"}],!1;break}if(K===s){if(I.method!==void 0){let q=s;if(typeof I.method!="string")return $t.errors=[{instancePath:e+"/descriptor/scope/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=q===s}else var l=!0;if(l){if(I.objectId!==void 0){let q=s;if(typeof I.objectId!="string")return $t.errors=[{instancePath:e+"/descriptor/scope/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/objectId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=q===s}else var l=!0;if(l)if(I.schema!==void 0){let q=s;if(typeof I.schema!="string")return $t.errors=[{instancePath:e+"/descriptor/scope/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=q===s}else var l=!0}}}else return $t.errors=[{instancePath:e+"/descriptor/scope",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=L===s}else var c=!0;if(c)if(b.objectId!==void 0){let I=b.objectId,L=s;if(s===s)if(typeof I=="string"){if(!Gz.test(I))return $t.errors=[{instancePath:e+"/descriptor/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid/pattern",keyword:"pattern",params:{pattern:"^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"},message:'must match pattern "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"'}],!1}else return $t.errors=[{instancePath:e+"/descriptor/objectId",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/uuid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=L===s}else var c=!0}}}}}}}}}}else return $t.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=T===s}else var f=!0}}}else return $t.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return $t.errors=o,s===0}var B0e=Ui;var zz=new RegExp(".*","u"),s2={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",additionalProperties:!1,properties:{$actions:{type:"array",minItems:1,items:{type:"object",anyOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone"]},can:{type:"string",enum:["read","write"]}}},{required:["who","of","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["author","recipient"]},of:{type:"string"},can:{type:"string",enum:["read","write"]}}}]}}},patternProperties:{"^[^$].*":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},$z=new RegExp("^[^$].*","u"),eS={validate:Io};function Io(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let b=s;for(let T in t)if(!(T==="$actions"||$z.test(T))){return Io.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:T},message:"must NOT have additional properties"}],!1;break}if(b===s){if(t.$actions!==void 0){let T=t.$actions,k=s;if(s===k)if(Array.isArray(T)){if(T.length<1)return Io.errors=[{instancePath:e+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var f=!0;let O=T.length;for(let D=0;D<O;D++){let I=T[D],L=s;if(!(I&&typeof I=="object"&&!Array.isArray(I)))return Io.errors=[{instancePath:e+"/$actions/"+D,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;let U=s,$=!1,K=s;if(I&&typeof I=="object"&&!Array.isArray(I)){let F;if(I.who===void 0&&(F="who")||I.can===void 0&&(F="can")){let G={instancePath:e+"/$actions/"+D,schemaPath:"#/properties/%24actions/items/anyOf/0/required",keyword:"required",params:{missingProperty:F},message:"must have required property '"+F+"'"};o===null?o=[G]:o.push(G),s++}else{let G=s;for(let B in I)if(!(B==="who"||B==="can")){let w={instancePath:e+"/$actions/"+D,schemaPath:"#/properties/%24actions/items/anyOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"};o===null?o=[w]:o.push(w),s++;break}if(G===s){if(I.who!==void 0){let B=I.who,w=s;if(typeof B!="string"){let M={instancePath:e+"/$actions/"+D+"/who",schemaPath:"#/properties/%24actions/items/anyOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[M]:o.push(M),s++}if(B!=="anyone"){let M={instancePath:e+"/$actions/"+D+"/who",schemaPath:"#/properties/%24actions/items/anyOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:s2.properties.$actions.items.anyOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};o===null?o=[M]:o.push(M),s++}var c=w===s}else var c=!0;if(c)if(I.can!==void 0){let B=I.can,w=s;if(typeof B!="string"){let _={instancePath:e+"/$actions/"+D+"/can",schemaPath:"#/properties/%24actions/items/anyOf/0/properties/can/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[_]:o.push(_),s++}if(!(B==="read"||B==="write")){let _={instancePath:e+"/$actions/"+D+"/can",schemaPath:"#/properties/%24actions/items/anyOf/0/properties/can/enum",keyword:"enum",params:{allowedValues:s2.properties.$actions.items.anyOf[0].properties.can.enum},message:"must be equal to one of the allowed values"};o===null?o=[_]:o.push(_),s++}var c=w===s}else var c=!0}}}var d=K===s;if($=$||d,!$){let F=s;if(I&&typeof I=="object"&&!Array.isArray(I)){let B;if(I.who===void 0&&(B="who")||I.of===void 0&&(B="of")||I.can===void 0&&(B="can")){let w={instancePath:e+"/$actions/"+D,schemaPath:"#/properties/%24actions/items/anyOf/1/required",keyword:"required",params:{missingProperty:B},message:"must have required property '"+B+"'"};o===null?o=[w]:o.push(w),s++}else{let w=s;for(let M in I)if(!(M==="who"||M==="of"||M==="can")){let _={instancePath:e+"/$actions/"+D,schemaPath:"#/properties/%24actions/items/anyOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties"};o===null?o=[_]:o.push(_),s++;break}if(w===s){if(I.who!==void 0){let M=I.who,_=s;if(typeof M!="string"){let a={instancePath:e+"/$actions/"+D+"/who",schemaPath:"#/properties/%24actions/items/anyOf/1/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[a]:o.push(a),s++}if(!(M==="author"||M==="recipient")){let a={instancePath:e+"/$actions/"+D+"/who",schemaPath:"#/properties/%24actions/items/anyOf/1/properties/who/enum",keyword:"enum",params:{allowedValues:s2.properties.$actions.items.anyOf[1].properties.who.enum},message:"must be equal to one of the allowed values"};o===null?o=[a]:o.push(a),s++}var l=_===s}else var l=!0;if(l){if(I.of!==void 0){let M=s;if(typeof I.of!="string"){let a={instancePath:e+"/$actions/"+D+"/of",schemaPath:"#/properties/%24actions/items/anyOf/1/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[a]:o.push(a),s++}var l=M===s}else var l=!0;if(l)if(I.can!==void 0){let M=I.can,_=s;if(typeof M!="string"){let u={instancePath:e+"/$actions/"+D+"/can",schemaPath:"#/properties/%24actions/items/anyOf/1/properties/can/type",keyword:"type",params:{type:"string"},message:"must be string"};o===null?o=[u]:o.push(u),s++}if(!(M==="read"||M==="write")){let u={instancePath:e+"/$actions/"+D+"/can",schemaPath:"#/properties/%24actions/items/anyOf/1/properties/can/enum",keyword:"enum",params:{allowedValues:s2.properties.$actions.items.anyOf[1].properties.can.enum},message:"must be equal to one of the allowed values"};o===null?o=[u]:o.push(u),s++}var l=_===s}else var l=!0}}}}var d=F===s;$=$||d}if($)s=U,o!==null&&(U?o.length=U:o=null);else{let F={instancePath:e+"/$actions/"+D,schemaPath:"#/properties/%24actions/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return o===null?o=[F]:o.push(F),s++,Io.errors=o,!1}var f=L===s;if(!f)break}}}else return Io.errors=[{instancePath:e+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var h=k===s}else var h=!0;if(h){var E=!0;for(let T in t)if($z.test(T)){let k=s;eS.validate(t[T],{instancePath:e+"/"+T.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:t,parentDataProperty:T,rootData:n})||(o=o===null?eS.validate.errors:o.concat(eS.validate.errors),s=o.length);var E=k===s;if(!E)break}}}}else return Io.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Io.errors=o,s===0}function Ui(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let E;if(t.types===void 0&&(E="types")||t.structure===void 0&&(E="structure"))return Ui.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:E},message:"must have required property '"+E+"'"}],!1;{let b=s;for(let T in t)if(!(T==="protocol"||T==="types"||T==="structure")){return Ui.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:T},message:"must NOT have additional properties"}],!1;break}if(b===s){if(t.protocol!==void 0){let T=s;if(typeof t.protocol!="string")return Ui.errors=[{instancePath:e+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=T===s}else var f=!0;if(f){if(t.types!==void 0){let T=t.types,k=s;if(s===k)if(T&&typeof T=="object"&&!Array.isArray(T)){var c=!0;for(let D in T)if(zz.test(D)){let I=T[D],L=s;if(s===L)if(I&&typeof I=="object"&&!Array.isArray(I)){let $=s;for(let K in I)if(!(K==="schema"||K==="dataFormats")){return Ui.errors=[{instancePath:e+"/types/"+D.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties"}],!1;break}if($===s){if(I.schema!==void 0){let K=s;if(typeof I.schema!="string")return Ui.errors=[{instancePath:e+"/types/"+D.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=K===s}else var d=!0;if(d)if(I.dataFormats!==void 0){let K=I.dataFormats,q=s;if(s===q)if(Array.isArray(K)){if(K.length<1)return Ui.errors=[{instancePath:e+"/types/"+D.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var l=!0;let G=K.length;for(let B=0;B<G;B++){let w=s;if(typeof K[B]!="string")return Ui.errors=[{instancePath:e+"/types/"+D.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+B,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=w===s;if(!l)break}}}else return Ui.errors=[{instancePath:e+"/types/"+D.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var d=q===s}else var d=!0}}else return Ui.errors=[{instancePath:e+"/types/"+D.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=L===s;if(!c)break}}else return Ui.errors=[{instancePath:e+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=k===s}else var f=!0;if(f)if(t.structure!==void 0){let T=t.structure,k=s;if(s===k)if(T&&typeof T=="object"&&!Array.isArray(T)){var h=!0;for(let D in T)if(zz.test(D)){let I=s;Io(T[D],{instancePath:e+"/structure/"+D.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:T,parentDataProperty:D,rootData:n})||(o=o===null?Io.errors:o.concat(Io.errors),s=o.length);var h=I===s;if(!h)break}}else return Ui.errors=[{instancePath:e+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=k===s}else var f=!0}}}}else return Ui.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ui.errors=o,s===0}var C0e=Io,O0e=Gn,Wz={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},dateCreated:{type:"string"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function Gn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d;if(t.authorization===void 0&&(d="authorization")||t.descriptor===void 0&&(d="descriptor"))return Gn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:d},message:"must have required property '"+d+"'"}],!1;{let l=s;for(let h in t)if(!(h==="authorization"||h==="descriptor")){return Gn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:h},message:"must NOT have additional properties"}],!1;break}if(l===s){if(t.authorization!==void 0){let h=s;ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?ft.errors:o.concat(ft.errors),s=o.length);var f=h===s}else var f=!0;if(f)if(t.descriptor!==void 0){let h=t.descriptor,E=s;if(s===E)if(h&&typeof h=="object"&&!Array.isArray(h)){let T;if(h.interface===void 0&&(T="interface")||h.method===void 0&&(T="method")||h.dateCreated===void 0&&(T="dateCreated")||h.definition===void 0&&(T="definition"))return Gn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:T},message:"must have required property '"+T+"'"}],!1;{let k=s;for(let O in h)if(!(O==="interface"||O==="method"||O==="dateCreated"||O==="definition")){return Gn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:O},message:"must NOT have additional properties"}],!1;break}if(k===s){if(h.interface!==void 0){let O=h.interface,D=s;if(typeof O!="string")return Gn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(O!=="Protocols")return Gn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Wz.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=D===s}else var c=!0;if(c){if(h.method!==void 0){let O=h.method,D=s;if(typeof O!="string")return Gn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(O!=="Configure")return Gn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Wz.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=D===s}else var c=!0;if(c){if(h.dateCreated!==void 0){let O=s;if(typeof h.dateCreated!="string")return Gn.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=O===s}else var c=!0;if(c)if(h.definition!==void 0){let O=s;Ui(h.definition,{instancePath:e+"/descriptor/definition",parentData:h,parentDataProperty:"definition",rootData:n})||(o=o===null?Ui.errors:o.concat(Ui.errors),s=o.length);var c=O===s}else var c=!0}}}}}else return Gn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=E===s}else var f=!0}}}else return Gn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Gn.errors=o,s===0}var j0e=ui,Kz={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","dateCreated"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},dateCreated:{type:"string"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"}}}}}}};function ui(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let l;if(t.authorization===void 0&&(l="authorization")||t.descriptor===void 0&&(l="descriptor"))return ui.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:l},message:"must have required property '"+l+"'"}],!1;{let h=s;for(let E in t)if(!(E==="authorization"||E==="descriptor")){return ui.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:E},message:"must NOT have additional properties"}],!1;break}if(h===s){if(t.authorization!==void 0){let E=s;ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?ft.errors:o.concat(ft.errors),s=o.length);var f=E===s}else var f=!0;if(f)if(t.descriptor!==void 0){let E=t.descriptor,b=s;if(s===b)if(E&&typeof E=="object"&&!Array.isArray(E)){let k;if(E.interface===void 0&&(k="interface")||E.method===void 0&&(k="method")||E.dateCreated===void 0&&(k="dateCreated"))return ui.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{let O=s;for(let D in E)if(!(D==="interface"||D==="method"||D==="dateCreated"||D==="filter")){return ui.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;break}if(O===s){if(E.interface!==void 0){let D=E.interface,I=s;if(typeof D!="string")return ui.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Protocols")return ui.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Kz.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=I===s}else var c=!0;if(c){if(E.method!==void 0){let D=E.method,I=s;if(typeof D!="string")return ui.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(D!=="Query")return ui.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Kz.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=I===s}else var c=!0;if(c){if(E.dateCreated!==void 0){let D=s;if(typeof E.dateCreated!="string")return ui.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"#/properties/descriptor/properties/dateCreated/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=D===s}else var c=!0;if(c)if(E.filter!==void 0){let D=E.filter,I=s;if(s===I)if(D&&typeof D=="object"&&!Array.isArray(D)){if(Object.keys(D).length<1)return ui.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let U=s;for(let $ in D)if(!($==="protocol"||$==="recipient")){return ui.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$},message:"must NOT have additional properties"}],!1;break}if(U===s){if(D.protocol!==void 0){let $=s;if(typeof D.protocol!="string")return ui.errors=[{instancePath:e+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=$===s}else var d=!0;if(d)if(D.recipient!==void 0){let $=D.recipient,K=s;if(s===s)if(typeof $=="string"){if(!yf.test($))return ui.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return ui.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=K===s}else var d=!0}}}else return ui.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=I===s}else var c=!0}}}}}else return ui.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=b===s}else var f=!0}}}else return ui.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ui.errors=o,s===0}var N0e=Sn,Hz={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","date","recordId"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},date:{type:"string"},recordId:{type:"string"}}}}};function Sn(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:n=t}={}){let o=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d;if(t.descriptor===void 0&&(d="descriptor"))return Sn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:d},message:"must have required property '"+d+"'"}],!1;{let l=s;for(let h in t)if(!(h==="authorization"||h==="descriptor")){return Sn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:h},message:"must NOT have additional properties"}],!1;break}if(l===s){if(t.authorization!==void 0){let h=s;ft(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:n})||(o=o===null?ft.errors:o.concat(ft.errors),s=o.length);var f=h===s}else var f=!0;if(f)if(t.descriptor!==void 0){let h=t.descriptor,E=s;if(s===E)if(h&&typeof h=="object"&&!Array.isArray(h)){let T;if(h.interface===void 0&&(T="interface")||h.method===void 0&&(T="method")||h.date===void 0&&(T="date")||h.recordId===void 0&&(T="recordId"))return Sn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:T},message:"must have required property '"+T+"'"}],!1;{let k=s;for(let O in h)if(!(O==="interface"||O==="method"||O==="date"||O==="recordId")){return Sn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:O},message:"must NOT have additional properties"}],!1;break}if(k===s){if(h.interface!==void 0){let O=h.interface,D=s;if(typeof O!="string")return Sn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(O!=="Records")return Sn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Hz.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=D===s}else var c=!0;if(c){if(h.method!==void 0){let O=h.method,D=s;if(typeof O!="string")return Sn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(O!=="Read")return Sn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Hz.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=D===s}else var c=!0;if(c){if(h.date!==void 0){let O=s;if(typeof h.date!="string")return Sn.errors=[{instancePath:e+"/descriptor/date",schemaPath:"#/properties/descriptor/properties/date/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=O===s}else var c=!0;if(c)if(h.recordId!==void 0){let O=s;if(typeof h.recordId!="string")return Sn.errors=[{instancePath:e+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=O===s}else var c=!0}}}}}else return Sn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=E===s}else var f=!0}}}else return Sn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Sn.errors=o,s===0}var q0e=Cr;function c2(t,e){let r=iS[t];if(!r)throw new Error(`schema for ${t} not found.`);if(r(e),!r.errors)return;let[i]=r.errors,{instancePath:n,message:o}=i;throw n||(n=t),new Error(`${n}: ${o}`)}var ei=(s=>(s.Events="Events",s.Hooks="Hooks",s.Messages="Messages",s.Permissions="Permissions",s.Protocols="Protocols",s.Records="Records",s))(ei||{}),di=(c=>(c.Configure="Configure",c.Get="Get",c.Grant="Grant",c.Query="Query",c.Read="Read",c.Request="Request",c.Write="Write",c.Delete="Delete",c))(di||{}),oe=class{constructor(e){this.message=e,e.authorization!==void 0&&(this.authorizationPayload=Kr.decodePlainObjectPayload(e.authorization),this.author=oe.getAuthor(e))}toJSON(){return this.message}static validateJsonSchema(e){let r=e.descriptor.interface,i=e.descriptor.method,n=r+i;c2(n,e)}static getAuthor(e){return e.authorization===void 0?void 0:Kr.getSignerDid(e.authorization.signatures[0])}static async getCid(e){return await Bn(e)}static async compareCid(e,r){let i=await oe.getCid(e),n=await oe.getCid(r);return sl(i,n)}static async isCidLarger(e,r){return await oe.compareCid(e,r)>0}static async getMessageWithLargestCid(e){let r;for(let i of e)(r===void 0||await oe.isCidLarger(i,r))&&(r=i);return r}static async signAsAuthorization(e,r){let n={descriptorCid:await Bn(e)},o=JSON.stringify(n),s=new TextEncoder().encode(o);return(await hf.create(s,[r])).getJws()}static async getNewestMessage(e){let r;for(let i of e)(r===void 0||await oe.isNewer(i,r))&&(r=i);return r}static async isNewer(e,r){return await oe.compareModifiedTime(e,r)>0}static async isOlder(e,r){return await oe.compareModifiedTime(e,r)<0}static async compareModifiedTime(e,r){return e.descriptor.dateModified>r.descriptor.dateModified?1:e.descriptor.dateModified<r.descriptor.dateModified?-1:oe.compareCid(e,r)}};x();var e$=bt(Xz(),1);function t$(t){let e=e$.default.flatten(t);return r$(e),e}function L0e(t){if(typeof t!="object")return!1;for(let e in t)return!1;return!0}function r$(t){Object.keys(t).forEach(e=>{typeof t[e]=="object"&&r$(t[e]),L0e(t[e])&&delete t[e]})}function As(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&As(t[e])})}x();x();x();var f$=bt(a$(),1),xp=class{constructor(e){this.timeToLiveInSeconds=e;this.cache=new f$.default({max:1e5,ttl:e*1e3})}async set(e,r){try{this.cache.set(e,r)}catch{}}async get(e){return this.cache.get(e)}async dump(){for(let[e,r]of this.cache)console.debug(e,r)}};var Sp=class{constructor(e,r){this.jws=e,this.cache=r||new xp(600)}async verify(e){let r=[];for(let i of this.jws.signatures){let n,o=`${i.protected}.${this.jws.payload}.${i.signature}`,s=Kr.getKid(i),f=await Sp.getPublicKey(s,e),c=await this.cache.get(o);c===void 0?(n=await Kr.verifySignature(this.jws.payload,i,f),await this.cache.set(o,n)):n=c;let d=Kr.extractDid(s);if(n)r.push(d);else throw new Error(`signature verification failed for ${d}`)}return{signers:r}}static async getPublicKey(e,r){let i=Kr.extractDid(e),{didDocument:n}=await r.resolve(i),{verificationMethod:o=[]}=n||{},s;for(let c of o)if(e.endsWith(c.id)){s=c;break}if(!s)throw new Error("public key needed to verify signature not found in DID Document");c2("JwkVerificationMethod",s);let{publicKeyJwk:f}=s;return f}};async function l2(t,e,r){await Zn(e.message.authorization,r),await gf(t,e)}async function Qi(t,e){if(t.authorization===void 0)throw new Ft("AuthorizationMissing","Property `authorization` is missing.");if(t.authorization.signatures.length!==1)throw new Error("expected no more than 1 signature for authorization");let r=Kr.decodePlainObjectPayload(t.authorization),{descriptorCid:i}=r,n=await Bn(t.descriptor);if(i!==n)throw new Error(`provided descriptorCid ${i} does not match expected CID ${n}`);let o=e?.allowedProperties??new Set,s={...r};delete s.descriptorCid;for(let f in s){if(!o.has(f))throw new Error(`${f} not allowed in auth payload.`);try{Mg(r[f])}catch{throw new Error(`${f} must be a valid CID`)}}return r}async function Zn(t,e){if(t===void 0)throw new Ft("AuthenticateJwsMissing","Missing JWS.");await new Sp(t).verify(e)}async function gf(t,e){if(e.author!==t)throw new Error("message failed authorization, permission grant check not yet implemented")}x();function Zc(t){let e;try{e=vf(t)}catch{e=void 0}if(t!==e)throw new Ft("UrlProtocolNotNormalized",`Protocol URI ${t} must be normalized.`)}function vf(t){return c$(t)}function Mp(t){let e;try{e=ul(t)}catch{e=void 0}if(t!==e)throw new Ft("UrlSchemaNotNormalized",`Schema URI ${t} must be normalized.`)}function ul(t){return c$(t)}function c$(t){let e;/^[^:]+:\/\/./.test(t)?e=t:e=`http://${t}`;try{let r=new URL(e);return r.search="",r.hash="",W0e(r.href)}catch{throw new Ft("UrlProtocolNotNormalizable","Could not normalize protocol URI")}}function W0e(t){return t.endsWith("/")?t.slice(0,-1):t}var cS=(n=>(n.CreatedAscending="createdAscending",n.CreatedDescending="createdDescending",n.PublishedAscending="publishedAscending",n.PublishedDescending="publishedDescending",n))(cS||{}),Yn=class extends oe{static async parse(e){return await Qi(e),e.descriptor.filter.protocol!==void 0&&Zc(e.descriptor.filter.protocol),e.descriptor.filter.schema!==void 0&&Mp(e.descriptor.filter.schema),new Yn(e)}static async create(e){let r={interface:"Records",method:"Query",dateCreated:e.dateCreated??sn(),filter:Yn.normalizeFilter(e.filter),dateSort:e.dateSort};As(r);let i=await oe.signAsAuthorization(r,e.authorizationSignatureInput),n={descriptor:r,authorization:i};return oe.validateJsonSchema(n),new Yn(n)}async authorize(e){if(this.author===e)return;let r=this.message.descriptor.filter.recipient;if(r!==void 0&&r!==this.author)throw new Error(`${this.author} is not allowed to query records intended for another recipient: ${r}`)}static convertFilter(e){let r={...e},{dateCreated:i}=r,n;return i!==void 0&&(i.to!==void 0&&i.from!==void 0?n={gte:i.from,lt:i.to}:i.to!==void 0?n={lt:i.to}:i.from!==void 0&&(n={gte:i.from})),n&&(r.dateCreated=n),r}static normalizeFilter(e){let r;e.protocol===void 0?r=void 0:r=vf(e.protocol);let i;return e.schema===void 0?i=void 0:i=ul(e.schema),{...e,protocol:r,schema:i}}};x();var u$=bt(xb(),1),va=class{static async toBytes(e){return new Promise((r,i)=>{let n=[];e.on("data",o=>{n.push(o)}),e.on("end",()=>{let o=va.concatenateArrayOfBytes(n);r(o)}),e.on("error",i)})}static concatenateArrayOfBytes(e){let r=e.reduce((o,s)=>o+s.length,0),i=new Uint8Array(r),n=0;for(let o of e)i.set(o,n),n+=o.length;return i}static fromBytes(e){let i=0;return new u$.Readable({read(o){i+1e5>e.length?(this.push(e.subarray(i)),this.push(null)):(this.push(e.subarray(i,i+1e5)),i=i+1e5)}})}static fromObject(e){let r=ot.objectToBytes(e);return va.fromBytes(r)}};x();var dS=(i=>(i.DataFormats="dataFormats",i.Protocols="protocols",i.Schemas="schemas",i))(dS||{}),uS=class{static async derivePrivateKey(e,r){let i=zt.privateJwkToBytes(e.derivedPrivateKey),n=e.derivationPath??[],o=await zt.derivePrivateKey(i,r),s=await zt.privateKeyToJwk(o);return{rootKeyId:e.rootKeyId,derivationScheme:e.derivationScheme,derivationPath:[...n,...r],derivedPrivateKey:s}}};x();var pS=bt(w$(),1);x();var Ap=class{static getMethodSpecificId(e){let r=e.indexOf(":",4);return e.substring(r+1)}static validate(e){if(typeof e!="string")throw new Error(`DID is not string: ${e}`);if(!/^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(\/[^#?]*)?([?][^#]*)?(#.*)?$/.test(e))throw new TypeError(`DID is not a valid DID: ${e}`)}static getMethodName(e){let r=e.indexOf(":",4);return e.substring(4,r)}};var Yc=class{method(){return"key"}static getMulticodecSize(e){let r=0;for(;;){let i=e[r];if(r++,(i&128)!==128)break}return r}async resolve(e){let[r,i,n]=e.split(":",3);try{let o=kn.decode(n),s=pS.default.decode(o),f=Yc.getMulticodecSize(o),c=o.slice(f),d=[],l;if(s===237)d.push("https://w3id.org/security/suites/ed25519-2020/v1"),l=await Pm.publicKeyToJwk(c);else if(s===231)l=await zt.publicKeyToJwk(c);else throw Error(`key type of multicodec ${s} is not supported`);let h=`${e}#${n}`;return{"@context":"https://w3id.org/did-resolution/v1",didDocument:{"@context":["https://www.w3.org/ns/did/v1","https://w3id.org/security/suites/jws-2020/v1",...d],id:e,verificationMethod:[{id:h,type:"JsonWebKey2020",controller:e,publicKeyJwk:l}],authentication:[h],assertionMethod:[h],capabilityDelegation:[h],capabilityInvocation:[h]},didDocumentMetadata:{},didResolutionMetadata:{}}}catch{return{didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{error:"invalidDid"}}}}static async generate(){let{publicJwk:e,privateJwk:r}=await Pm.generateKeyPair(),i=pS.default.encode(237),n=ot.base64UrlToBytes(e.x),o=new Uint8Array(i.length+n.byteLength);o.set(i,0),o.set(n,i.length);let f=`did:key:${kn.encode(o)}`,c=Yc.getKeyId(f);return{did:f,keyId:c,keyPair:{publicJwk:e,privateJwk:r}}}static getKeyId(e){let r=Ap.getMethodSpecificId(e);return`${e}#${r}`}async dump(){}};x();var S$=bt(x$(),1),nye=globalThis.fetch??S$.default,qm=class{constructor(e="https://discover.did.msidentity.com/1.0/identifiers/"){this.resolutionEndpoint=e}method(){return"ion"}async resolve(e){let r=new URL("./"+e,this.resolutionEndpoint).toString(),i=await nye(r);if(i.status!==200)throw new Error(`unable to resolve ${e}, got http status ${i.status}`);return await i.json()}async dump(){}};x();var Lm=class{constructor(e,r){this.cache=r||new xp(600),(e===void 0||e.length===0)&&(e=[new qm,new Yc]),this.didResolvers=new Map;for(let i of e)this.didResolvers.set(i.method(),i)}async resolve(e){Ap.validate(e);let i=e.split(":",3)[1],n=this.didResolvers.get(i);if(!n)throw new Error(`${i} DID method not supported`);let o=await this.cache.get(e),s=o??await n.resolve(e);o===void 0&&await this.cache.set(e,s);let{didDocument:f,didResolutionMetadata:c}=s;if(!f||c?.error){let{error:d}=c,l=`Failed to resolve DID ${e}.`;throw l+=d?` Error: ${d}`:"",new Error(l)}return s}async dump(){console.group("didResolvers");for(let[e,r]of this.didResolvers)console.group(e),await r.dump?.(),console.groupEnd();console.groupEnd(),console.group("didCache"),await this.cache.dump?.(),console.groupEnd()}};x();x();x();function Rp(t){var e=new Error(t);return e.source="ulid",e}var Pp="0123456789ABCDEFGHJKMNPQRSTVWXYZ",kp=Pp.length,M$=Math.pow(2,48)-1,yS=10,T$=16;function A$(t,e,r){return e>t.length-1?t:t.substr(0,e)+r+t.substr(e+1)}function oye(t){for(var e=void 0,r=t.length,i=void 0,n=void 0,o=kp-1;!e&&r-->=0;){if(i=t[r],n=Pp.indexOf(i),n===-1)throw Rp("incorrectly encoded string");if(n===o){t=A$(t,r,Pp[0]);continue}e=A$(t,r,Pp[n+1])}if(typeof e=="string")return e;throw Rp("cannot increment this string")}function sye(t){var e=Math.floor(t()*kp);return e===kp&&(e=kp-1),Pp.charAt(e)}function mS(t,e){if(isNaN(t))throw new Error(t+" must be a number");if(t>M$)throw Rp("cannot encode time greater than "+M$);if(t<0)throw Rp("time must be positive");if(Number.isInteger(t)===!1)throw Rp("time must be an integer");for(var r=void 0,i="";e>0;e--)r=t%kp,i=Pp.charAt(r)+i,t=(t-r)/kp;return i}function R$(t,e){for(var r="";t>0;t--)r=sye(e)+r;return r}function P$(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=arguments[1];e||(e=typeof window<"u"?window:null);var r=e&&(e.crypto||e.msCrypto);if(r)return function(){var n=new Uint8Array(1);return r.getRandomValues(n),n[0]/255};try{var i=jd();return function(){return i.randomBytes(1).readUInt8()/255}}catch{}if(t){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return function(){return Math.random()}}throw Rp("secure crypto unusable, insecure Math.random not allowed")}function aye(t){return t||(t=P$()),function(r){return isNaN(r)&&(r=Date.now()),mS(r,yS)+R$(T$,t)}}function k$(t){t||(t=P$());var e=0,r=void 0;return function(n){if(isNaN(n)&&(n=Date.now()),n<=e){var o=r=oye(r);return mS(e,yS)+o}e=n;var s=r=R$(T$,t);return mS(n,yS)+s}}var OTe=aye();var I$="watermarks",D$="cids",Um=class{constructor(e){this.config={location:"EVENTLOG",createLevelDatabase:os,...e},this.db=new ns({...this.config,valueEncoding:"utf8"}),this.ulid=k$()}async open(){return this.db.open()}async close(){return this.db.close()}async clear(){return this.db.clear()}async append(e,r){let i=await this.db.partition(e),n=await i.partition(I$),o=await i.partition(D$),s=this.ulid();return await n.put(s,r),await o.put(r,s),s}async getEvents(e,r){let n=await(await this.db.partition(e)).partition(I$),o=[];for await(let[s,f]of n.iterator(r)){let c={watermark:s,messageCid:f};o.push(c)}return o}async deleteEventsByCid(e,r){if(r.length===0)return 0;let i=await this.db.partition(e),n=await i.partition(D$),o=[],s=[];for(let l of r){o.push({type:"del",key:l});let h=n.get(l).catch(E=>E);s.push(h)}await n.batch(o),o=[];let f=0,c=await Promise.all(s);for(let l of c)l&&(o.push({type:"del",key:l}),f+=1);return await(await i.partition("watermarks")).batch(o),f}async dump(){console.group("db"),await this.db.dump?.(),console.groupEnd()}};x();x();var Jc=class extends oe{static async parse(e){return oe.validateJsonSchema(e),await Qi(e),new Jc(e)}static async create(e){let r={interface:"Events",method:"Get"};e.watermark&&(r.watermark=e.watermark);let i=await oe.signAsAuthorization(r,e.authorizationSignatureInput),n={descriptor:r,authorization:i};return oe.validateJsonSchema(n),new Jc(n)}};x();var ct=class{constructor(e){let{status:r,entries:i,data:n}=e;this.status=r,this.entries=i,this.data=n}static fromError(e,r){let i=e instanceof Error?e.message:"Error";return new ct({status:{code:r,detail:i}})}};var p2=class{constructor(e,r){this.didResolver=e;this.eventLog=r}async handle({tenant:e,message:r}){let i;try{i=await Jc.parse(r)}catch(s){return ct.fromError(s,400)}try{await Zn(r.authorization,this.didResolver),await gf(e,i)}catch(s){return ct.fromError(s,401)}let n;r.descriptor.watermark&&(n={gt:r.descriptor.watermark});let o=await this.eventLog.getEvents(e,n);return{status:{code:200,detail:"OK"},events:o}}};x();x();var Qc=class{};Qc.maxDataSizeAllowedToBeEncoded=1e4;x();var wf=class extends oe{static async parse(e){return oe.validateJsonSchema(e),this.validateMessageCids(e.descriptor.messageCids),await Qi(e),new wf(e)}static async create(e){let r={interface:"Messages",method:"Get",messageCids:e.messageCids},i=await oe.signAsAuthorization(r,e.authorizationSignatureInput),n={descriptor:r,authorization:i};return oe.validateJsonSchema(n),wf.validateMessageCids(e.messageCids),new wf(n)}static validateMessageCids(e){for(let r of e)try{Mg(r)}catch{throw new Error(`${r} is not a valid CID`)}}};var Fm=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.dataStore=i}async handle({tenant:e,message:r}){let i;try{i=await wf.parse(r)}catch(f){return ct.fromError(f,400)}try{await Zn(r.authorization,this.didResolver),await gf(e,i)}catch(f){return ct.fromError(f,401)}let n=[],o=new Set(r.descriptor.messageCids);for(let f of o){let c=this.messageStore.get(e,f).then(d=>({messageCid:f,message:d})).catch(d=>({messageCid:f,message:void 0,error:`Failed to get message ${f}`}));n.push(c)}let s=await Promise.all(n);for(let f of s){let{message:c}=f;if(!c)continue;let{interface:d,method:l}=c.descriptor;if(d!=="Records"||l!=="Write")continue;let h=c.descriptor.dataCid,E=c.descriptor.dataSize;if(h!==void 0&&E<=Qc.maxDataSizeAllowedToBeEncoded){let b=await oe.getCid(c),T=await this.dataStore.get(e,b,h);if(T){let k=await va.toBytes(T.dataStream);f.encodedData=ot.bytesToBase64Url(k)}}}return{status:{code:200,detail:"OK"},messages:s}}};x();x();function y2({enumerable:t=!0,configurable:e=!1}={}){return{enumerable:t,configurable:e,writable:!1}}function*fye(t,e){if(e!=null&&typeof e=="object")if(Array.isArray(e))for(let[r,i]of e.entries()){let n=[...t,r],o=He.asCID(i);o?yield[n.join("/"),o]:typeof i=="object"&&(yield*gS(i,n))}else{let r=He.asCID(e);r?yield[t.join("/"),r]:yield*gS(e,t)}}function*gS(t,e){if(t==null||t instanceof Uint8Array)return;let r=He.asCID(t);r&&(yield[e.join("/"),r]);for(let[i,n]of Object.entries(t)){let o=[...e,i];yield*fye(o,n)}}function*cye(t,e){if(Array.isArray(e))for(let[r,i]of e.entries()){let n=[...t,r];yield n.join("/"),typeof i=="object"&&!He.asCID(i)&&(yield*vS(i,n))}else yield*vS(e,t)}function*vS(t,e){if(!(t==null||typeof t!="object"))for(let[r,i]of Object.entries(t)){let n=[...e,r];yield n.join("/"),i!=null&&!(i instanceof Uint8Array)&&typeof i=="object"&&!He.asCID(i)&&(yield*cye(n,i))}}function uye(t,e){let r=t;for(let[i,n]of e.entries()){if(r=r[n],r==null)throw new Error(`Object has no property at ${e.slice(0,i+1).map(s=>`[${JSON.stringify(s)}]`).join("")}`);let o=He.asCID(r);if(o)return{value:o,remaining:e.slice(i+1).join("/")}}return{value:r}}var m2=class{constructor({cid:e,bytes:r,value:i}){if(!e||!r||typeof i>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=r,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:y2(),bytes:y2(),value:y2(),asBlock:y2()})}links(){return gS(this.value,[])}tree(){return vS(this.value,[])}get(e="/"){return uye(this.value,e.split("/").filter(Boolean))}};async function B$({value:t,codec:e,hasher:r}){if(typeof t>"u")throw new Error('Missing required argument "value"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");let i=e.encode(t),n=await r.digest(i),o=He.create(1,e.code,n);return new m2({value:t,bytes:i,cid:o})}async function C$({bytes:t,codec:e,hasher:r}){if(!t)throw new Error('Missing required argument "bytes"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");let i=e.decode(t),n=await r.digest(t),o=He.create(1,e.code,n);return new m2({value:i,bytes:t,cid:o})}x();var g2=class{constructor(e){this.config={createLevelDatabase:os,...e},this.db=new ns({...this.config,valueEncoding:"utf8"})}async open(){return this.db.open()}async close(){return this.db.close()}async put(e,r,i){r=t$(r);let n=[],o=[];for(let s in r){let f=r[s],c=this.join(s,this.encodeValue(f));n.push({type:"put",key:this.join(c,e),value:e}),o.push(c)}return n.push({type:"put",key:`__${e}__prefixes`,value:JSON.stringify(o)}),this.db.batch(n,i)}async query(e,r){let i=new Set,n={},o=[],s=[];async function f(c,d){o.push(d);for(let[l,h]of await d)n[h]??=new Set([...i]),n[h].delete(c),n[h].size===0&&s.push(h)}for(let c in e){let d=e[c];if(typeof d=="object"&&d!==null)if(Array.isArray(d))for(let l of new Set(d))f(c,this.findExactMatches(c,l,r));else f(c,this.findRangeMatches(c,d,r));else f(c,this.findExactMatches(c,d,r));i.add(c)}return await Promise.all(o),s}async delete(e,r){let i=await this.db.get(`__${e}__prefixes`,r);if(!i)return;let n=[];for(let o of JSON.parse(i))n.push({type:"del",key:this.join(o,e)});return n.push({type:"del",key:`__${e}__prefixes`}),this.db.batch(n,r)}async clear(){return this.db.clear()}async findExactMatches(e,r,i){let n=this.join(e,this.encodeValue(r)),o={gt:n};return this.findMatches(n,o,i)}async findRangeMatches(e,r,i){let n=this.join(e),o={};for(let f in r)o[f]=this.join(e,this.encodeValue(r[f]));let s=await this.findMatches(n,o,i);if("lte"in r)for(let[f,c]of await this.findExactMatches(e,r.lte,i))s.set(f,c);return s}async findMatches(e,r,i){("lt"in r||"lte"in r)&&!("gt"in r||"gte"in r)&&(r.reverse=!0);let n=new Map;for await(let[o,s]of this.db.iterator(r,i)){if(!o.startsWith(e))break;n.set(o,s)}return n}encodeValue(e){return typeof e=="string"?`"${e}"`:String(e)}join(...e){return e.join("\0")}async dump(){console.group("db"),await this.db.dump?.(),console.groupEnd()}};var zm=class{constructor(e={}){this.config={blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:os,...e},this.blockstore=new dc({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new g2({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}async open(){await this.blockstore.open(),await this.index.open()}async close(){await this.blockstore.close(),await this.index.close()}async get(e,r,i){i?.signal?.throwIfAborted();let n=await ri(i?.signal,this.blockstore.partition(e)),o=He.parse(r),s=await n.get(o,i);return s?(await ri(i?.signal,C$({bytes:s,codec:Lf,hasher:Xi}))).value:void 0}async query(e,r,i){i?.signal?.throwIfAborted();let n=[],o=await this.index.query({...r,tenant:e},i);for(let s of o){let f=await this.get(e,s,i);f&&n.push(f)}return n}async delete(e,r,i){i?.signal?.throwIfAborted();let n=await ri(i?.signal,this.blockstore.partition(e)),o=He.parse(r);await n.delete(o,i),await this.index.delete(r,i)}async put(e,r,i,n){n?.signal?.throwIfAborted();let o=await ri(n?.signal,this.blockstore.partition(e)),s=await ri(n?.signal,B$({value:r,codec:Lf,hasher:Xi}));await o.put(s.cid,s.bytes,n);let f=s.cid.toString(),c={...i,tenant:e};await this.index.put(f,c,n)}async clear(){await this.blockstore.clear(),await this.index.clear()}async dump(){console.group("blockstore"),await this.blockstore.dump?.(),console.groupEnd(),console.group("index"),await this.index.dump?.(),console.groupEnd()}};x();x();var ba=class extends oe{static async parse(e){return await Qi(e),ba.validateDefinitionNormalized(e.descriptor.definition),new ba(e)}static async create(e){let r={interface:"Protocols",method:"Configure",dateCreated:e.dateCreated??sn(),definition:ba.normalizeDefinition(e.definition)},i=await oe.signAsAuthorization(r,e.authorizationSignatureInput),n={descriptor:r,authorization:i};return oe.validateJsonSchema(n),new ba(n)}static validateDefinitionNormalized(e){let{protocol:r,types:i}=e;Zc(r);for(let n in i){let o=i[n].schema;o!==void 0&&Mp(o)}}static normalizeDefinition(e){let r={...e.types};for(let i in r){let n=r[i].schema;n!==void 0&&(r[i].schema=ul(n))}return{...e,protocol:vf(e.protocol),types:r}}};x();var Ts=class{static async query(e,r,i,n){let o=await e.query(i,n);for(let s of o){let f=s.descriptor.dataCid,c=s.descriptor.dataSize;if(f!==void 0&&c<=Qc.maxDataSizeAllowedToBeEncoded){let d=await oe.getCid(s),l=await r.get(i,d,f);if(l){let h=await va.toBytes(l.dataStream);s.encodedData=ot.bytesToBase64Url(h)}}}return o}static async delete(e,r,i,n){let o=await oe.getCid(n);n.descriptor.dataCid!==void 0&&await r.delete(i,o,n.descriptor.dataCid),await e.delete(i,o)}};var Ip=class{constructor(e,r,i,n){this.didResolver=e;this.messageStore=r;this.dataStore=i;this.eventLog=n}async handle({tenant:e,message:r,dataStream:i}){let n;try{n=await ba.parse(r)}catch(h){return ct.fromError(h,400)}try{await l2(e,n,this.didResolver)}catch(h){return ct.fromError(h,401)}let o={interface:"Protocols",method:"Configure",protocol:r.descriptor.definition.protocol},s=await this.messageStore.query(e,o),f=await oe.getMessageWithLargestCid(s),c=!1;(f===void 0||await oe.isCidLarger(r,f))&&(c=!0,f=r);let d;if(c){let h=Ip.constructProtocolsConfigureIndexes(n),E=await oe.getCid(r);await this.messageStore.put(e,r,h),await this.eventLog.append(e,E),d=new ct({status:{code:202,detail:"Accepted"}})}else d=new ct({status:{code:409,detail:"Conflict"}});let l=[];for(let h of s)if(await oe.isCidLarger(f,h)){let E=await oe.getCid(h);l.push(E),await Ts.delete(this.messageStore,this.dataStore,e,h)}return await this.eventLog.deleteEventsByCid(e,l),d}static constructProtocolsConfigureIndexes(e){let{dataSize:r,definition:i,...n}=e.message.descriptor,{author:o}=e;return{...n,protocol:i.protocol,author:o}}};x();x();var _f=class extends oe{static async parse(e){return await Qi(e),e.descriptor.filter!==void 0&&Zc(e.descriptor.filter.protocol),new _f(e)}static async create(e){let r={interface:"Protocols",method:"Query",dateCreated:e.dateCreated??sn(),filter:_f.normalizeFilter(e.filter)};As(r);let i=await oe.signAsAuthorization(r,e.authorizationSignatureInput),n={descriptor:r,authorization:i};return oe.validateJsonSchema(n),new _f(n)}static normalizeFilter(e){if(e!==void 0)return{...e,protocol:vf(e.protocol)}}};var v2=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.dataStore=i}async handle({tenant:e,message:r}){let i;try{i=await _f.parse(r)}catch(f){return ct.fromError(f,400)}try{await l2(e,i,this.didResolver)}catch(f){return ct.fromError(f,401)}let n={interface:"Protocols",method:"Configure",...r.descriptor.filter};As(n);let o=await this.messageStore.query(e,n),s=[];for(let f of o){let{authorization:c,...d}=f;s.push(d)}return new ct({status:{code:200,detail:"OK"},entries:s})}};x();x();x();x();x();var w2=bt(jd(),1),_2=bt(q$(),1),wS=bt(xb(),1),Xc=class{static async aes256CtrEncrypt(e,r,i){let n=w2.createCipheriv("aes-256-ctr",e,r),o=new wS.Readable({read(){}});return i.on("data",s=>{let f=n.update(s);o.push(f)}),i.on("end",()=>{let s=n.final();o.push(s),o.push(null)}),i.on("error",s=>{o.emit("error",s)}),o}static async aes256CtrDecrypt(e,r,i){let n=w2.createDecipheriv("aes-256-ctr",e,r),o=new wS.Readable({read(){}});return i.on("data",s=>{let f=n.update(s);o.push(f)}),i.on("end",()=>{let s=n.final();o.push(s),o.push(null)}),i.on("error",s=>{o.emit("error",s)}),o}static async eciesSecp256k1Encrypt(e,r){let i=j.Buffer.from(e),{ciphertext:n,ephemPublicKey:o,iv:s,mac:f}=await _2.encrypt(i,r);return{ciphertext:n,ephemeralPublicKey:o,initializationVector:s,messageAuthenticationCode:f}}static async eciesSecp256k1Decrypt(e){let r=j.Buffer.from(e.privateKey),i=j.Buffer.from(e.ephemeralPublicKey),n={ciphertext:e.ciphertext,ephemPublicKey:i,iv:e.initializationVector,mac:e.messageAuthenticationCode};return await _2.decrypt(r,n)}},_S=(r=>(r.Aes256Ctr="A256CTR",r.EciesSecp256k1="ECIES-ES256K",r))(_S||{});x();x();var Eye={["Write"]:"write",["Read"]:"read"},ti=class{static async authorize(e,r,i,n){let o=await ti.constructAncestorMessageChain(e,r,n),s=await ti.fetchProtocolDefinition(e,r,o,n);ti.verifyProtocolPath(r,o,s.types);let f=ti.getRuleSet(r.message,s,o);ti.verifyType(r.message,s.types),ti.verifyAllowedActions(e,i,r.message.descriptor.method,f,o),await ti.verifyActionCondition(e,r,n)}static async fetchProtocolDefinition(e,r,i,n){let o;r.message.descriptor.method==="Write"?o=r.message.descriptor.protocol:o=i[i.length-1].descriptor.protocol;let s={interface:"Protocols",method:"Configure",protocol:o},f=await n.query(e,s);if(f.length===0)throw new Error(`unable to find protocol definition for ${o}`);return f[0].descriptor.definition}static async constructAncestorMessageChain(e,r,i){let n=[],o;if(r.message.descriptor.method==="Write")o=r;else{let d=r,l={interface:"Records",method:"Write",recordId:d.message.descriptor.recordId},h=await i.query(e,l),E=await Wt.getNewestMessage(h);o=await Wt.parse(E),n.push(o.message)}let s=o.message.descriptor.protocol,f=o.message.contextId,c=o.message.descriptor.parentId;for(;c!==void 0;){let d={interface:"Records",method:"Write",protocol:s,contextId:f,recordId:c},l=await i.query(e,d);if(l.length===0)throw new Error(`no parent found with ID ${c}`);let h=l[0];n.push(h),c=h.descriptor.parentId}return n.reverse()}static getRuleSet(e,r,i){let n;e.descriptor.method==="Write"?n=e.descriptor.protocolPath:n=i[i.length-1].descriptor.protocolPath;let o=n.split("/"),s=r.structure,f=0;for(;f<o.length;){let c=o[f],d=s[c];if(d===void 0){let l=o.slice(0,f+1).join("/");throw new Ft("ProtocolAuthorizationMissingRuleSet",`No rule set defined for protocolPath ${l}`)}s=d,f++}return s}static verifyProtocolPath(e,r,i){if(e.message.descriptor.method!=="Write")return;let n=Object.keys(i),o=e.message.descriptor.protocolPath,s=ti.getTypeName(o);if(!n.includes(s))throw new Ft("ProtocolAuthorizationInvalidType",`record with type ${s} not allowed in protocol`);let f="";for(let d of r){let l=d.descriptor.protocolPath,h=ti.getTypeName(l);f+=`${h}/`}let c=f+s;if(o!==c)throw new Ft("ProtocolAuthorizationIncorrectProtocolPath",`Declared protocol path '${o}' is not the same as actual protocol path '${c}'.`)}static verifyType(e,r){if(e.descriptor.method!=="Write")return;let i=e,n=i.descriptor.protocolPath,o=ti.getTypeName(n),s=r[o],{schema:f}=i.descriptor;if(s.schema!==void 0&&s.schema!==f)throw new Ft("ProtocolAuthorizationInvalidSchema",`type '${o}' must have schema '${s.schema}',         instead has '${f}'`);let{dataFormat:c}=i.descriptor;if(s.dataFormats!==void 0&&!s.dataFormats.includes(c))throw new Ft("ProtocolAuthorizationIncorrectDataFormat",`type '${o}' must have data format in (${s.dataFormats}),         instead has '${c}'`)}static verifyAllowedActions(e,r,i,n,o){let s=n.$actions;if(s===void 0){if(r===e)return;throw new Error(`no action rule defined for ${i}, ${r} is unauthorized`)}let f=new Set;for(let d of s)switch(d.who){case"anyone":f.add(d.can);break;case"author":let l=ti.getMessage(o,d.of);if(l!==void 0){let E=oe.getAuthor(l);r===E&&f.add(d.can)}break;case"recipient":let h=ti.getMessage(o,d.of);if(h!==void 0){let E=h.descriptor.recipient;r===E&&f.add(d.can)}break}let c=Eye[i];if(!f.has(c))throw new Error(`inbound message action '${c}' not in list of allowed actions (${new Array(...f).join(",")})`)}static async verifyActionCondition(e,r,i){if(r.message.descriptor.method!=="Read"){if(r.message.descriptor.method==="Write"){let n=r;if(!await n.isInitialWrite()){let s={entryId:n.message.recordId},c=(await i.query(e,s))[0],d=oe.getAuthor(c);if(n.author!==d)throw new Error(`author of incoming message '${n.author}' must match to author of initial write '${d}'`)}}}}static getMessage(e,r){let i=r.split("/");if(i.length>e.length)return;let n=0;for(;;){let o=i[n],s=e[n],f=ti.getTypeName(s.descriptor.protocolPath);if(f!==o)throw new Error(`mismatching record schema: expecting ${o} but actual ${f}`);if(n+1===i.length)return s;n++}}static getTypeName(e){return e.split("/").slice(-1)[0]}};x();var Jn=class{static async decrypt(e,r,i){let{recordId:n,contextId:o,descriptor:s,encryption:f}=e,c=f.keyEncryption.find(I=>I.rootKeyId===r.rootKeyId&&I.derivationScheme===r.derivationScheme);if(c===void 0)throw new Ft("RecordsDecryptNoMatchingKeyEncryptedFound",`Unable to find a symmetric key encrypted using key         with ID '${r.rootKeyId}' and '${r.derivationScheme}' derivation scheme.`);let d=Jn.constructKeyDerivationPath(c.derivationScheme,n,o,s),l=await Jn.deriveLeafPrivateKey(r,d),h=ot.base64UrlToBytes(c.encryptedKey),E=zt.publicJwkToBytes(c.ephemeralPublicKey),b=ot.base64UrlToBytes(c.initializationVector),T=ot.base64UrlToBytes(c.messageAuthenticationCode),k=await Xc.eciesSecp256k1Decrypt({ciphertext:h,ephemeralPublicKey:E,initializationVector:b,messageAuthenticationCode:T,privateKey:l}),O=ot.base64UrlToBytes(f.initializationVector);return await Xc.aes256CtrDecrypt(k,O,i)}static constructKeyDerivationPath(e,r,i,n){let o;return e==="dataFormats"?o=Jn.constructKeyDerivationPathUsingDataFormatsScheme(r,n):e==="protocols"?o=Jn.constructKeyDerivationPathUsingProtocolsScheme(r,i,n):o=Jn.constructKeyDerivationPathUsingSchemasScheme(r,n),o}static constructKeyDerivationPathUsingDataFormatsScheme(e,r){return["dataFormats",r.dataFormat,e]}static constructKeyDerivationPathUsingProtocolsScheme(e,r,i){if(i.protocol===void 0)throw new Ft("RecordsProtocolsDerivationSchemeMissingProtocol","Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");let n=i.protocolPath.split("/");return["protocols",i.protocol,r,...n,i.dataFormat,e]}static constructKeyDerivationPathUsingSchemasScheme(e,r){if(r.schema===void 0)throw new Ft("RecordsSchemasDerivationSchemeMissingSchema","Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return["schemas",r.schema,r.dataFormat,e]}static async deriveLeafPublicKey(e,r){if(e.crv!=="secp256k1")throw new Ft("RecordsDeriveLeafPublicKeyUnSupportedCurve",`Curve ${e.crv} is not supported.`);let i=zt.publicJwkToBytes(e);return await zt.derivePublicKey(i,r)}static async deriveLeafPrivateKey(e,r){if(e.derivedPrivateKey.crv!=="secp256k1")throw new Ft("RecordsDeriveLeafPrivateKeyUnSupportedCurve",`Curve ${e.derivedPrivateKey.crv} is not supported.`);let i=e.derivationPath??[];Jn.validateAncestorKeyAndDescentKeyDerivationPathsMatch(i,r);let n=r.slice(i.length),o=zt.privateJwkToBytes(e.derivedPrivateKey);return await zt.derivePrivateKey(o,n)}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(e,r){for(let i=0;i<e.length;i++){let n=e[i],o=r[i];if(n!==o)throw new Ft("RecordsInvalidAncestorKeyDerivationSegment",`Ancestor key derivation segment '${n}' mismatches against the descendant key derivation segment '${o}'.`)}}};var Wt=class extends oe{constructor(r){super(r);this.attesters=Wt.getAttesters(r)}static async parse(r){await Qi(r,{allowedProperties:new Set(["recordId","contextId","attestationCid","encryptionCid"])}),await Wt.validateAttestationIntegrity(r);let i=new Wt(r);return await i.validateIntegrity(),i}static async create(r){if(r.protocol===void 0&&r.protocolPath!==void 0||r.protocol!==void 0&&r.protocolPath===void 0)throw new Error("`protocol` and `protocolPath` must both be defined or undefined at the same time");if(r.data===void 0&&r.dataCid===void 0||r.data!==void 0&&r.dataCid!==void 0)throw new Error("one and only one parameter between `data` and `dataCid` is allowed");if(r.dataCid===void 0&&r.dataSize!==void 0||r.dataCid!==void 0&&r.dataSize===void 0)throw new Error("`dataCid` and `dataSize` must both be defined or undefined at the same time");let i=r.dataCid??await s0.computeDagPbCidFromBytes(r.data),n=r.dataSize??r.data.length,o=sn(),s={interface:"Records",method:"Write",protocol:r.protocol!==void 0?vf(r.protocol):void 0,protocolPath:r.protocolPath,recipient:r.recipient,schema:r.schema!==void 0?ul(r.schema):void 0,parentId:r.parentId,dataCid:i,dataSize:n,dateCreated:r.dateCreated??o,dateModified:r.dateModified??o,published:r.published,datePublished:r.datePublished,dataFormat:r.dataFormat};r.published===!0&&r.datePublished===void 0&&(s.datePublished=o),As(s);let f=Kr.extractDid(r.authorizationSignatureInput.protectedHeader.kid),c=r.recordId??await Wt.getEntryId(f,s),d;r.contextId!==void 0?d=r.contextId:s.protocol!==void 0&&(d=await Wt.getEntryId(f,s));let l=await Bn(s),h=await Wt.createAttestation(l,r.attestationSignatureInputs),E=await Wt.createEncryptionProperty(c,d,s,r.encryptionInput),b=await Wt.createAuthorization(c,d,l,h,E,r.authorizationSignatureInput),T={recordId:c,descriptor:s,authorization:b};return d!==void 0&&(T.contextId=d),h!==void 0&&(T.attestation=h),E!==void 0&&(T.encryption=E),oe.validateJsonSchema(T),new Wt(T)}static async createFrom(r){let i=r.unsignedRecordsWriteMessage,n=sn(),o=r.published??(r.datePublished?!0:i.descriptor.published),s;r.datePublished?s=r.datePublished:o&&(i.descriptor.published?s=i.descriptor.datePublished:s=n);let f={recipient:i.descriptor.recipient,recordId:i.recordId,dateCreated:i.descriptor.dateCreated,contextId:i.contextId,protocol:i.descriptor.protocol,protocolPath:i.descriptor.protocolPath,parentId:i.descriptor.parentId,schema:i.descriptor.schema,dataFormat:i.descriptor.dataFormat,dateModified:r.dateModified??n,published:o,datePublished:s,data:r.data,dataCid:r.data?void 0:i.descriptor.dataCid,dataSize:r.data?void 0:i.descriptor.dataSize,authorizationSignatureInput:r.authorizationSignatureInput,attestationSignatureInputs:r.attestationSignatureInputs};return await Wt.create(f)}async authorize(r,i){this.message.descriptor.protocol!==void 0?await ti.authorize(r,this,this.author,i):await gf(r,this)}async validateIntegrity(){if(this.message.recordId!==this.authorizationPayload.recordId)throw new Error(`recordId in message ${this.message.recordId} does not match recordId in authorization: ${this.authorizationPayload.recordId}`);if(await this.isInitialWrite()){let i=this.message.descriptor.dateCreated,n=this.message.descriptor.dateModified;if(n!==i)throw new Error(`dateModified ${n} must match dateCreated ${i} for the initial write`);if(this.message.descriptor.protocol!==void 0&&this.message.descriptor.parentId===void 0){let o=await this.getEntryId();if(this.message.contextId!==o)throw new Error(`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${o}`)}}if(this.message.contextId!==this.authorizationPayload.contextId)throw new Error(`contextId in message ${this.message.contextId} does not match contextId in authorization: ${this.authorizationPayload.contextId}`);if(this.authorizationPayload.attestationCid!==void 0){let i=await Bn(this.message.attestation),n=this.authorizationPayload.attestationCid;if(n!==i)throw new Error(`CID ${i} of attestation property in message does not match attestationCid in authorization: ${n}`)}if(this.authorizationPayload.encryptionCid!==void 0){let i=await Bn(this.message.encryption),n=this.authorizationPayload.encryptionCid;if(n!==i)throw new Ft("RecordsWriteValidateIntegrityEncryptionCidMismatch",`CID ${i} of encryption property in message does not match encryptionCid in authorization: ${n}`)}this.message.descriptor.protocol!==void 0&&Zc(this.message.descriptor.protocol),this.message.descriptor.schema!==void 0&&Mp(this.message.descriptor.schema)}static async validateAttestationIntegrity(r){if(r.attestation===void 0)return;if(r.attestation.signatures.length!==1)throw new Error(`Currently implementation only supports 1 attester, but got ${r.attestation.signatures.length}`);let i=Kr.decodePlainObjectPayload(r.attestation),{descriptorCid:n}=i,o=await Bn(r.descriptor);if(n!==o)throw new Error(`descriptorCid ${n} does not match expected descriptorCid ${o}`);let s=Object.keys(i).length;if(s>1)throw new Error(`Only 'descriptorCid' is allowed in attestation payload, but got ${s} properties.`)}async getEntryId(){return await Wt.getEntryId(this.author,this.message.descriptor)}static async getEntryId(r,i){if(r===void 0)throw new Ft("RecordsWriteGetEntryIdUndefinedAuthor","Property `author` is needed to compute entry ID.");let n={...i};return n.author=r,await Bn(n)}async isInitialWrite(){return await this.getEntryId()===this.message.recordId}static async isInitialWrite(r){if(r.descriptor.interface!=="Records"||r.descriptor.method!=="Write")return!1;let i=r,n=oe.getAuthor(r);return await Wt.getEntryId(n,i.descriptor)===i.recordId}static async createEncryptionProperty(r,i,n,o){if(o===void 0)return;let s=[];for(let c of o.keyEncryptionInputs){let d=Jn.constructKeyDerivationPath(c.derivationScheme,r,i,n),l=await Jn.deriveLeafPublicKey(c.publicKey,d),h=await Xc.eciesSecp256k1Encrypt(l,o.key),E=ot.bytesToBase64Url(h.ciphertext),b=await zt.publicKeyToJwk(h.ephemeralPublicKey),T=ot.bytesToBase64Url(h.initializationVector),k=ot.bytesToBase64Url(h.messageAuthenticationCode),O={rootKeyId:c.publicKeyId,algorithm:c.algorithm??"ECIES-ES256K",derivationScheme:c.derivationScheme,ephemeralPublicKey:b,initializationVector:T,messageAuthenticationCode:k,encryptedKey:E};s.push(O)}return{algorithm:o.algorithm??"A256CTR",initializationVector:ot.bytesToBase64Url(o.initializationVector),keyEncryption:s}}static async createAttestation(r,i){if(i===void 0||i.length===0)return;let n={descriptorCid:r},o=ot.objectToBytes(n);return(await hf.create(o,i)).getJws()}static async createAuthorization(r,i,n,o,s,f){let c={recordId:r,descriptorCid:n},d=o?await Bn(o):void 0,l=s?await Bn(s):void 0;i!==void 0&&(c.contextId=i),d!==void 0&&(c.attestationCid=d),l!==void 0&&(c.encryptionCid=l);let h=ot.objectToBytes(c);return(await hf.create(h,[f])).getJws()}static async getInitialWrite(r){for(let i of r)if(await Wt.isInitialWrite(i))return i;throw new Error("initial write is not found")}static verifyEqualityOfImmutableProperties(r,i){let n=["dataCid","dataSize","datePublished","published","dateModified"],o=[];o.push(...Object.keys(r.descriptor)),o.push(...Object.keys(i.descriptor)),o=[...new Set(o)];for(let s of o)if(n.indexOf(s)===-1){let f=r.descriptor[s],c=i.descriptor[s];if(c!==f)throw new Error(`${s} is an immutable property: cannot change '${f}' to '${c}'`)}return!0}static getAttesters(r){return(r.attestation?.signatures??[]).map(o=>Kr.getSignerDid(o))}};var Wm=class{constructor(e,r,i,n){this.didResolver=e;this.messageStore=r;this.dataStore=i;this.eventLog=n}async handle({tenant:e,message:r,options:i,dataStream:n}){let o;try{o=await Wt.parse(r)}catch(k){return ct.fromError(k,400)}try{await Zn(r.authorization,this.didResolver),await o.authorize(e,this.messageStore)}catch(k){return ct.fromError(k,401)}let s={interface:"Records",recordId:r.recordId},f=await this.messageStore.query(e,s);if(!await o.isInitialWrite())try{let k=await Wt.getInitialWrite(f);Wt.verifyEqualityOfImmutableProperties(k,r)}catch(k){return ct.fromError(k,400)}let d=await oe.getNewestMessage(f),l=!1,h;if(d===void 0||await oe.isNewer(r,d)?(l=!0,h=r):h=d,!l)return new ct({status:{code:409,detail:"Conflict"}});let b=await ES(o,!0);try{(i===void 0||!i.skipDataStorage)&&await this.putData(e,r,n,d)}catch(k){let O=k;if(O.code==="RecordsWriteMissingDataStream"||O.code==="RecordsWriterMissingData"||O.code==="RecordsWriteDataCidMismatch"||O.code==="RecordsWriteDataSizeMismatch")return ct.fromError(k,400);throw k}await this.messageStore.put(e,r,b),await this.eventLog.append(e,await oe.getCid(r));let T=new ct({status:{code:202,detail:"Accepted"}});return await E2(e,f,h,this.messageStore,this.dataStore,this.eventLog),T}async putData(e,r,i,n){let o,s=await oe.getCid(r);if(i===void 0){if(n?.descriptor.dataCid!==r.descriptor.dataCid)throw new Ft("RecordsWriteMissingDataStream","Data stream is not provided.");let f=await this.dataStore.associate(e,s,r.descriptor.dataCid);if(f===void 0)throw new Ft("RecordsWriterMissingData",`Unable to associate dataCid ${r.descriptor.dataCid} to messageCid ${s} because dataStream was not provided and data was not found in dataStore`);o=f}else o=await this.dataStore.put(e,s,r.descriptor.dataCid,i);if(r.descriptor.dataSize!==o.dataSize)throw await this.dataStore.delete(e,s,r.descriptor.dataCid),new Ft("RecordsWriteDataSizeMismatch",`actual data size ${o.dataSize} bytes does not match dataSize in descriptor: ${r.descriptor.dataSize}`);if(r.descriptor.dataCid!==o.dataCid)throw await this.dataStore.delete(e,s,r.descriptor.dataCid),new Ft("RecordsWriteDataCidMismatch",`actual data CID ${o.dataCid} does not match dataCid in descriptor: ${r.descriptor.dataCid}`)}};async function ES(t,e){let r=t.message,i={...r.descriptor};delete i.published;let n={...i,isLatestBaseState:e,published:!!r.descriptor.published,author:t.author,recordId:r.recordId,entryId:await Wt.getEntryId(t.author,t.message.descriptor)};return t.attesters.length>0&&(n.attester=t.attesters[0]),r.contextId!==void 0&&(n.contextId=r.contextId),n}async function E2(t,e,r,i,n,o){let s=[];for(let f of e){if(await oe.isOlder(f,r))if(await Ts.delete(i,n,t,f),await Wt.isInitialWrite(f)){let l=await Wt.parse(f),E=await ES(l,!1);await i.put(t,f,E)}else{let l=await oe.getCid(f);s.push(l)}await o.deleteEventsByCid(t,s)}}x();var eu=class extends oe{static async parse(e){return await Qi(e),new eu(e)}static async create(e){let r=e.recordId,i=sn(),n={interface:"Records",method:"Delete",recordId:r,dateModified:e.dateModified??i},o=await oe.signAsAuthorization(n,e.authorizationSignatureInput),s={descriptor:n,authorization:o};return oe.validateJsonSchema(s),new eu(s)}async authorize(e){await gf(e,this)}};var x2=class{constructor(e,r,i,n){this.didResolver=e;this.messageStore=r;this.dataStore=i;this.eventLog=n}async handle({tenant:e,message:r}){let i;try{i=await eu.parse(r)}catch(E){return ct.fromError(E,400)}try{await Zn(r.authorization,this.didResolver),await i.authorize(e)}catch(E){return ct.fromError(E,401)}let n={interface:"Records",recordId:r.descriptor.recordId},o=await this.messageStore.query(e,n),s=await Wt.getNewestMessage(o),f=!1,c;if(s===void 0||await Wt.isNewer(r,s)?(f=!0,c=r):c=s,!f)return new ct({status:{code:409,detail:"Conflict"}});if(s===void 0||s.descriptor.method==="Delete")return new ct({status:{code:404,detail:"Not Found"}});let d=await xye(e,i);await this.messageStore.put(e,r,d);let l=await oe.getCid(r);return await this.eventLog.append(e,l),await E2(e,o,c,this.messageStore,this.dataStore,this.eventLog),new ct({status:{code:202,detail:"Accepted"}})}};async function xye(t,e){let i={...e.message.descriptor};return{author:e.author,...i}}x();var S2=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.dataStore=i}async handle({tenant:e,message:r}){let i;try{i=await Yn.parse(r)}catch(s){return ct.fromError(s,400)}try{await Zn(r.authorization,this.didResolver),await i.authorize(e)}catch(s){return ct.fromError(s,401)}let n;i.author===e?n=await this.fetchRecordsAsOwner(e,i):n=await this.fetchRecordsAsNonOwner(e,i),i.message.descriptor.dateSort&&(n=await Sye(n,i.message.descriptor.dateSort));let o=[];for(let s of n){let{authorization:f,...c}=s;o.push(c)}return new ct({status:{code:200,detail:"OK"},entries:o})}async fetchRecordsAsOwner(e,r){let i={...Yn.convertFilter(r.message.descriptor.filter),interface:"Records",method:"Write",isLatestBaseState:!0};return await Ts.query(this.messageStore,this.dataStore,e,i)}async fetchRecordsAsNonOwner(e,r){let i=await this.fetchPublishedRecords(e,r),n=await this.fetchUnpublishedRecordsForQueryAuthor(e,r),o=await this.fetchUnpublishedRecordsByAuthor(e,r);return[...i,...n,...o]}async fetchPublishedRecords(e,r){let i={...Yn.convertFilter(r.message.descriptor.filter),interface:"Records",method:"Write",published:!0,isLatestBaseState:!0};return await Ts.query(this.messageStore,this.dataStore,e,i)}async fetchUnpublishedRecordsForQueryAuthor(e,r){let i={...Yn.convertFilter(r.message.descriptor.filter),interface:"Records",method:"Write",recipient:r.author,isLatestBaseState:!0,published:!1};return await Ts.query(this.messageStore,this.dataStore,e,i)}async fetchUnpublishedRecordsByAuthor(e,r){let i={...Yn.convertFilter(r.message.descriptor.filter),author:r.author,interface:"Records",method:"Write",isLatestBaseState:!0,published:!1};return await Ts.query(this.messageStore,this.dataStore,e,i)}};async function Sye(t,e){switch(e){case"createdAscending":return t.sort((r,i)=>sl(r.descriptor.dateCreated,i.descriptor.dateCreated));case"createdDescending":return t.sort((r,i)=>sl(i.descriptor.dateCreated,r.descriptor.dateCreated));case"publishedAscending":return t.filter(r=>r.descriptor.published).sort((r,i)=>sl(r.descriptor.datePublished,i.descriptor.datePublished));case"publishedDescending":return t.filter(r=>r.descriptor.published).sort((r,i)=>sl(i.descriptor.datePublished,r.descriptor.datePublished))}}x();x();var tu=class extends oe{static async parse(e){return e.authorization!==void 0&&await Qi(e),new tu(e)}static async create(e){let{recordId:r,authorizationSignatureInput:i}=e,n=sn(),o={interface:"Records",method:"Read",recordId:r,date:e.date??n},s=i?await oe.signAsAuthorization(o,i):void 0,f={descriptor:o,authorization:s};return oe.validateJsonSchema(f),new tu(f)}async authorize(e,r,i){let{descriptor:n}=r.message;if(this.author!==e){if(n.published===!0)return;if(n.protocol!==void 0)await ti.authorize(e,this,this.author,i);else throw new Error("message failed authorization")}}};var Km=class{constructor(e,r,i){this.didResolver=e;this.messageStore=r;this.dataStore=i}async handle({tenant:e,message:r}){let i;try{i=await tu.parse(r)}catch(b){return ct.fromError(b,400)}try{i.author!==void 0&&await Zn(r.authorization,this.didResolver)}catch(b){return ct.fromError(b,401)}let n={interface:"Records",recordId:r.descriptor.recordId},o=await this.messageStore.query(e,n),s=await Wt.getNewestMessage(o);if(s===void 0||s.descriptor.method==="Delete")return new ct({status:{code:404,detail:"Not Found"}});let f=s;try{await i.authorize(e,await Wt.parse(f),this.messageStore)}catch(b){return ct.fromError(b,401)}let c=await oe.getCid(f),d=await this.dataStore.get(e,c,f.descriptor.dataCid);if(d?.dataStream===void 0)return new ct({status:{code:404,detail:"Not Found"}});let{authorization:l,...h}=f;return{status:{code:200,detail:"OK"},record:{...h,data:d.dataStream}}}};var Hm=class{constructor(e){this.didResolver=e.didResolver,this.messageStore=e.messageStore,this.dataStore=e.dataStore,this.eventLog=e.eventLog,this.tenantGate=e.tenantGate,this.methodHandlers={["Events"+"Get"]:new p2(this.didResolver,this.eventLog),["Messages"+"Get"]:new Fm(this.didResolver,this.messageStore,this.dataStore),["Protocols"+"Configure"]:new Ip(this.didResolver,this.messageStore,this.dataStore,this.eventLog),["Protocols"+"Query"]:new v2(this.didResolver,this.messageStore,this.dataStore),["Records"+"Delete"]:new x2(this.didResolver,this.messageStore,this.dataStore,this.eventLog),["Records"+"Query"]:new S2(this.didResolver,this.messageStore,this.dataStore),["Records"+"Read"]:new Km(this.didResolver,this.messageStore,this.dataStore),["Records"+"Write"]:new Wm(this.didResolver,this.messageStore,this.dataStore,this.eventLog)}}static async create(e){e??={},e.didResolver??=new Lm,e.tenantGate??=new Op,e.messageStore??=new zm,e.dataStore??=new Ey,e.eventLog??=new Um;let r=new Hm(e);return await r.open(),r}async open(){await this.messageStore.open(),await this.dataStore.open(),await this.eventLog.open()}async close(){this.messageStore.close(),this.dataStore.close(),this.eventLog.close()}async processMessage(e,r,i){let n=await this.preprocessingChecks(e,r);if(n!==void 0)return n;let o=r.descriptor.interface+r.descriptor.method;return await this.methodHandlers[o].handle({tenant:e,message:r,dataStream:i})}async handleRecordsRead(e,r){let i=await this.preprocessingChecks(e,r,"Records","Read");return i!==void 0?i:new Km(this.didResolver,this.messageStore,this.dataStore).handle({tenant:e,message:r})}async handleMessagesGet(e,r){let i=await this.preprocessingChecks(e,r,"Messages","Get");return i!==void 0?i:new Fm(this.didResolver,this.messageStore,this.dataStore).handle({tenant:e,message:r})}async synchronizePrunedInitialRecordsWrite(e,r){let i=await this.preprocessingChecks(e,r,"Records","Write");if(i!==void 0)return i;let n={skipDataStorage:!0};return await new Wm(this.didResolver,this.messageStore,this.dataStore,this.eventLog).handle({tenant:e,message:r,options:n})}async preprocessingChecks(e,r,i,n){if(!await this.tenantGate.isTenant(e))return new ct({status:{code:401,detail:`${e} is not a tenant`}});let s=r?.descriptor?.interface,f=r?.descriptor?.method;if(s===void 0||f===void 0)return new ct({status:{code:400,detail:`Both interface and method must be present, interface: ${s}, method: ${f}`}});if(i!==void 0&&i!==s)return new ct({status:{code:400,detail:`Expected interface ${i}, received ${s}`}});if(n!==void 0&&n!==f)return new ct({status:{code:400,detail:`Expected method ${i}${n}, received ${s}${f}`}});try{oe.validateJsonSchema(r)}catch(c){return ct.fromError(c,400)}}async dump(){console.group("didResolver"),await this.didResolver.dump?.(),console.groupEnd(),console.group("messageStore"),await this.messageStore.dump?.(),console.groupEnd(),console.group("dataStore"),await this.dataStore.dump?.(),console.groupEnd(),console.group("eventLog"),await this.eventLog.dump?.(),console.groupEnd()}};x();var Vm=class extends oe{static async create(e){let r={interface:"Hooks",method:"Write",dateCreated:e.dateCreated??sn(),uri:e.uri,filter:e.filter};As(r);let i=await oe.signAsAuthorization(r,e.authorizationSignatureInput),n={descriptor:r,authorization:i};return oe.validateJsonSchema(n),new Vm(n)}};x();x();x();export{Op as AllowAllTenantGate,s0 as Cid,Ey as DataStoreLevel,va as DataStream,cS as DateSort,qm as DidIonResolver,Yc as DidKeyResolver,Lm as DidResolver,Hm as Dwn,Qc as DwnConstant,Ft as DwnError,lf as DwnErrorCode,ei as DwnInterfaceName,di as DwnMethodName,ot as Encoder,Xc as Encryption,_S as EncryptionAlgorithm,Um as EventLogLevel,Jc as EventsGet,uS as HdKey,Vm as HooksWrite,Kr as Jws,dS as KeyDerivationScheme,oe as Message,ct as MessageReply,zm as MessageStoreLevel,wf as MessagesGet,ba as ProtocolsConfigure,_f as ProtocolsQuery,Jn as Records,eu as RecordsDelete,Yn as RecordsQuery,tu as RecordsRead,Wt as RecordsWrite,zt as Secp256k1};
//! NOTE: this is somewhat duplicate code that also exists in `StorageController.query`.
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel-limit/index.js:
  (*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=browser.js.map
